(()=>{var e={97886:function(e,t,n){var r,o;!function(i,a){"use strict";void 0===(o="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=o)}(0,function(){"use strict";var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],o={},i=null;function a(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(){for(var n=this.getLevel(),o=0;o<r.length;o++){var i=r[o];this[i]=o<n?e:this.methodFactory(i,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function E(e){return function(){typeof console!==t&&(l.call(this),this[e].apply(this,arguments))}}function c(r,o,i){var l;return"debug"===(l=r)&&(l="log"),typeof console!==t&&("trace"===l&&n?s:void 0!==console[l]?a(console,l):void 0!==console.log?a(console,"log"):e)||E.apply(this,arguments)}function T(e,n){var a,s,E,T=this,d="loglevel";function _(){var e;if(typeof window!==t&&d){try{e=window.localStorage[d]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=encodeURIComponent(d),o=n.indexOf(r+"=");-1!==o&&(e=/^([^;]+)/.exec(n.slice(o+r.length+1))[1])}catch(e){}return void 0===T.levels[e]&&(e=void 0),e}}function A(e){var t=e;if("string"==typeof t&&void 0!==T.levels[t.toUpperCase()]&&(t=T.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=T.levels.SILENT)return t;throw TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?d+=":"+e:"symbol"==typeof e&&(d=void 0),T.name=e,T.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},T.methodFactory=n||c,T.getLevel=function(){return null!=E?E:null!=s?s:a},T.setLevel=function(e,n){return E=A(e),!1!==n&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&d){try{window.localStorage[d]=n;return}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"="+n+";"}catch(e){}}}(E),l.call(T)},T.setDefaultLevel=function(e){s=A(e),_()||T.setLevel(e,!1)},T.resetLevel=function(){if(E=null,typeof window!==t&&d){try{window.localStorage.removeItem(d)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}l.call(T)},T.enableAll=function(e){T.setLevel(T.levels.TRACE,e)},T.disableAll=function(e){T.setLevel(T.levels.SILENT,e)},T.rebuild=function(){if(i!==T&&(a=A(i.getLevel())),l.call(T),i===T)for(var e in o)o[e].rebuild()},a=A(i?i.getLevel():"WARN");var u=_();null!=u&&(E=A(u)),l.call(T)}(i=new T).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw TypeError("You must supply a name when creating a logger.");var t=o[e];return t||(t=o[e]=new T(e,i.methodFactory)),t};var d=typeof window!==t?window.log:void 0;return i.noConflict=function(){return typeof window!==t&&window.log===i&&(window.log=d),i},i.getLoggers=function(){return o},i.default=i,i})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e,t=((e={}).ACCOUNT_EXTENSION="auth-ext",e.ACCOUNT_FORK="fork",e.ACCOUNT_ONBOARDING="pass-onboarding",e.ACCOUNT_PROBE="pass-installed",e.ALIAS_CREATE="ALIAS_CREATE",e.ALIAS_OPTIONS="ALIAS_OPTIONS",e.AUTH_CHECK="AUTH_CHECK",e.AUTH_CONFIRM_PASSWORD="AUTH_CONFIRM_PASSWORD",e.AUTH_INIT="AUTH_INIT",e.AUTH_PULL_FORK="AUTH_PULL_FORK",e.AUTH_UNLOCK="AUTH_UNLOCK",e.AUTOFILL_CHECK_FORM="AUTOFILL_CHECK_FORM",e.AUTOFILL_IDENTITY="AUTOFILL_IDENTITY",e.AUTOFILL_IDENTITY_QUERY="AUTOFILL_IDENTITY_QUERY",e.AUTOFILL_LOGIN="AUTOFILL_LOGIN",e.AUTOFILL_LOGIN_QUERY="AUTOFILL_LOGIN_QUERY",e.AUTOFILL_OTP_CHECK="AUTOFILL_OTP_CHECK",e.AUTOFILL_SYNC="AUTOFILL_SYNC",e.AUTOSAVE_REQUEST="AUTOSAVE_REQUEST",e.AUTOSUGGEST_PASSWORD="AUTOSUGGEST_PASSWORD",e.B2B_EVENT="B2B_EVENT",e.CLIENT_INIT="CLIENT_INIT",e.CLIPBOARD_OFFSCREEN_READ="CLIPBOARD_OFFSCREEN_READ",e.CLIPBOARD_OFFSCREEN_WRITE="CLIPBOARD_OFFSCREEN_WRITE",e.CLIPBOARD_AUTOCLEAR="CLIPBOARD_AUTOCLEAR",e.DEBUG="DEBUG",e.FEATURE_FLAGS_UPDATE="FEATURE_FLAGS_UPDATE",e.FETCH_ABORT="FETCH_ABORT",e.FETCH_DOMAINIMAGE="FETCH_DOMAINIMAGE",e.FORM_ENTRY_COMMIT="FORM_ENTRY_COMMIT",e.FORM_ENTRY_REQUEST="FORM_ENTRY_REQUEST",e.FORM_ENTRY_STAGE="FORM_ENTRY_STAGE",e.FORM_ENTRY_STASH="FORM_ENTRY_STASH",e.FORM_STATUS="FORM_STATUS",e.FS_WRITE="FS_WRITE",e.FS_ERROR="FS_ERROR",e.LOAD_CONTENT_SCRIPT="LOAD_CONTENT_SCRIPT",e.LOCALE_UPDATED="LOCALE_UPDATED",e.LOG_EVENT="LOG_EVENT",e.LOG_REQUEST="LOG_REQUEST",e.MONITOR_2FAS="MONITOR_2FAS",e.MONITOR_WEAK_PASSWORDS="MONITOR_WEAK_PASSWORDS",e.NOTIFICATION="NOTIFICATION",e.OTP_CODE_GENERATE="OTP_CODE_GENERATE",e.PASS_CORE_RPC="PASS_CORE_RPC",e.PASSKEY_CREATE="PASSKEY_CREATE",e.PASSKEY_GET="PASSKEY_GET",e.PASSKEY_INTERCEPT="PASSKEY_INTERCEPT",e.PASSKEY_QUERY="PASSKEY_QUERY",e.PAUSE_WEBSITE="PAUSE_WEBSITE",e.PERMISSIONS_UPDATE="PERMISSIONS_UPDATE",e.PING="PING",e.POPUP_INIT="POPUP_INIT",e.PORT_FORWARDING_MESSAGE="PORT_FORWARDING",e.PORT_UNAUTHORIZED="PORT_UNAUTHORIZED",e.REGISTER_ELEMENTS="REGISTER_ELEMENTS",e.RESOLVE_EXTENSION_KEY="RESOLVE_EXTENSION_KEY",e.RESOLVE_USER="RESOLVE_USER",e.SENTRY_CS_EVENT="SENTRY_CS_EVENT",e.SETTINGS_UPDATE="SETTINGS_UPDATE",e.SPOTLIGHT_ACK="SPOTLIGHT_ACK",e.SPOTLIGHT_CHECK="SPOTLIGHT_CHECK",e.SPOTLIGHT_REQUEST="SPOTLIGHT_REQUEST",e.STORE_DISPATCH="STORE_DISPATCH",e.TABS_QUERY="TABS_QUERY",e.TELEMETRY_EVENT="TELEMETRY_EVENT",e.UNLOAD_CONTENT_SCRIPT="UNLOAD_CONTENT_SCRIPT",e.UPDATE_AVAILABLE="UPDATE_AVAILABLE",e.VAULTS_QUERY="VAULTS_QUERY",e.WEBSITE_RULES_REQUEST="WEBSITE_RULES_REQUEST",e.WORKER_RELOAD="WORKER_RELOAD",e.WORKER_STATE_CHANGE="WORKER_STATE_CHANGE",e);let r="undefined"!=typeof window?window.Uint8Array:Uint8Array,o=e=>{if(e instanceof ArrayBuffer||"undefined"!=typeof window&&e instanceof window.ArrayBuffer)return Array.from(new r(e));if(e instanceof Uint8Array||"undefined"!=typeof window&&e instanceof window.Uint8Array)return Array.from(e);if(e instanceof Int8Array||"undefined"!=typeof window&&e instanceof window.Int8Array)return Array.from(new r(e));if(Array.isArray(e))return e.map(o);if("object"==typeof e&&!Array.isArray(e)&&null!==e){let t;return t=(e,t)=>o(t),Object.fromEntries(Object.entries(e).map(([e,n])=>[e,t(e,n)]))}return e},i=(e,t,n)=>Object.setPrototypeOf({authenticatorAttachment:e.authenticator_attachment,id:e.id,rawId:new r(e.raw_id).buffer,response:t,type:e.type,getClientExtensionResults:()=>{let t={},o=e.client_extension_results.credProps,i=e.client_extension_results.prf;if(o&&(t.credProps=o),i&&(t.prf={},i.enabled&&(t.prf.enabled=i.enabled),i.results)){let{first:e}=i.results,n={first:new r(e)};i?.results?.second&&(n.second=new r(i.results.second)),t.prf.results=n}return n(t)}},PublicKeyCredential.prototype);var a=n(97886),s=n.n(a);function l(){}s().methodFactory=()=>l,s().setLevel("INFO",!1);let E=s(),c=e=>{let t=l,n=l,r=new Promise((r,o)=>{t=t=>{r(t),e?.onResolve?.(t)},n=t=>{o(t),e?.onReject?.(t)}});return r.resolve=t,r.reject=n,r},T=e=>{let t=Error(e.message);return t.name=e.name??t.name,t},d=e=>{throw T(e)},_="Pass::MainWorld::Abort";t.PASSKEY_CREATE,t.PASSKEY_GET,t.PASSKEY_INTERCEPT;let A=e=>t=>n=>"object"==typeof n&&n?.token===t&&n?.type===e,u=A(_),O=A("Pass::MainWorld::Disconnect"),S=A("Pass::MainWorld::Response"),R=(e,t,n)=>globalThis.exportFunction?.(e,t,n)??(t[n.defineAs]=e),f=e=>globalThis.cloneInto?.(e,window,{cloneFunctions:!0,wrapReflectors:!0})??e,p=e=>new window.Promise(e);(()=>{let e,n,a=window.wrappedJSObject??window,s=a.navigator.credentials,A=a.PublicKeyCredential;if("function"!=typeof s?.get||"function"!=typeof s?.create)return;let y=s.create.bind(navigator.credentials),I=s.get.bind(navigator.credentials),w=A?.isConditionalMediationAvailable?.bind(A),L=A?.isUserVerifyingPlatformAuthenticatorAvailable?.bind(A),g=window.DOMException,N=(e={connected:!0,ready:c()},n=t=>{t.data?.type==="PassClientScriptReady"&&(e.ready.resolve(),window.removeEventListener("message",n))},{init:()=>{window.addEventListener("message",n),new Promise(e=>{let t,n,r=(t=[],n=e=>e?.cancel?.(),{addListener:(e,n,r,o)=>{if(void 0!==e){let i={kind:"listener",element:e,type:n,fn:r};return t.push(i),e.addEventListener(n,r,o),()=>{e.removeEventListener(n,r);let o=t.indexOf(i);t.splice(o,1)}}return l},addObserver:(e,r,o)=>{let i=new MutationObserver(r),a=i.disconnect;return i.disconnect=()=>{n(r),a.bind(i)()},t.push({kind:"observer",observer:i}),i.observe(e,o),i},addResizeObserver:(e,r)=>{let o=new ResizeObserver(r),i=o.disconnect;o.disconnect=()=>{n(r),i.bind(o)()},t.push({kind:"resizeObserver",observer:o}),o.observe(e)},removeAll:()=>{t.forEach(e=>{switch(e.kind){case"observer":case"resizeObserver":return e.observer.disconnect();case"listener":return n(e.fn),e.element.removeEventListener(e.type,e.fn)}}),t.length=0}}),o=()=>{("complete"===document.readyState||"interactive"===document.readyState)&&(r.removeAll(),e())};r.addListener(window,"load",()=>{r.removeAll(),e()}),r.addListener(document,"readystatechange",o),o()}).catch(()=>{e.connected=!1,d({name:"BridgeDisconnected"})}).then(()=>{let t=c(),n=setTimeout(()=>t.reject(T({name:"BridgeTimeout"})),5e3);return Promise.race([t,e.ready.then(()=>{clearTimeout(n),t.resolve()})])}).catch(e.ready.reject)},getState:()=>e,sendMessage:async(t,n)=>{let r=((e=8)=>Array.from(crypto.getRandomValues(new Uint8Array(e))).map(e=>e.toString(16)).join("").slice(0,e))(16),o=c(),i=()=>window.postMessage({token:r,type:_});n?.signal?.addEventListener("abort",i);let a=n?.timeout?setTimeout(i,n.timeout):void 0,s=({data:t})=>{S(r)(t)&&o.resolve(t.response),u(r)(t)&&o.reject(T({name:"BridgeAbort"})),O()(t)&&(e.connected=!1,o.reject(T({name:"BridgeDisconnected"})))};try{return await (e.connected?e.ready:d({name:"BridgeDisconnected"})),window.postMessage({request:t,token:r,type:"Pass::MainWorld::Message"}),window.addEventListener("message",s),await o}catch(e){return{type:"error",...e instanceof Error?{error:e.name,message:e.message}:{error:"UnknownError"}}}finally{window.removeEventListener("message",s),n?.signal?.removeEventListener("abort",i),clearTimeout(a)}}});N.init();let U=({data:e,onFallback:t,onReject:n})=>{switch(e.error){case"BridgeTimeout":case"BridgeDisconnected":return t();case"BridgeAbort":return n(new g("The operation either timed out or was not allowed.","NotAllowedError"));default:return n(new g(`Something went wrong: ${e.payload}`,"NotAllowedError"))}},P=async()=>!!N.getState().connected&&N.sendMessage({type:t.PASSKEY_INTERCEPT},{}).then(e=>"success"===e.type&&e.intercept).catch(()=>!1);R(e=>p(async(n,a)=>{let s;if(!e?.publicKey||!N.getState().connected)return n(I(e));if(e.signal?.aborted)return a(new g(e.signal.reason,"AbortError"));let l=await N.sendMessage({type:t.PASSKEY_GET,payload:{request:JSON.stringify(o(e.publicKey)),domain:location.hostname}},{timeout:e.publicKey.timeout,signal:e.signal});if("error"===l.type)return U({data:l,onReject:a,onFallback:()=>n(I(e))});if(!l.intercept)return E.debug("[WebAuthn] Intercept cancelled for `get`"),n(I(e));let c=Object.setPrototypeOf({clientDataJSON:new r((s=l.response.credential).response.client_data_json).buffer,authenticatorData:new r(s.response.authenticator_data).buffer,signature:new r(s.response.signature).buffer,userHandle:s.response.user_handle?new r(s.response.user_handle).buffer:null},AuthenticatorAssertionResponse.prototype);n(f(i(l.response.credential,c,f)))}),s,{defineAs:"get"}),R(e=>p(async(n,a)=>{if(!e?.publicKey||!N.getState().connected)return n(y(e));if(e.signal?.aborted)return a(new g(e.signal.reason,"AbortError"));let s=await N.sendMessage({type:t.PASSKEY_CREATE,payload:{request:JSON.stringify(o(e.publicKey)),domain:location.hostname}},{timeout:e.publicKey.timeout,signal:e.signal});if("error"===s.type)return U({data:s,onReject:a,onFallback:()=>n(y(e))});if(!s.intercept)return E.debug("[WebAuthn] Intercept cancelled for `create`"),n(y(e));let l=(({response:e})=>Object.setPrototypeOf({attestationObject:new r(e.attestation_object).buffer,clientDataJSON:new r(e.client_data_json).buffer,getAuthenticatorData:()=>new r(e.authenticator_data).buffer,getPublicKey:()=>e.public_key?new r(e.public_key).buffer:null,getPublicKeyAlgorithm:()=>e.public_key_algorithm,getTransports:()=>e?.transports??[]},AuthenticatorAttestationResponse.prototype))(s.response.credential);return n(f(i(s.response.credential,l,f)))}),s,{defineAs:"create"}),A&&(R(()=>p(async e=>{e(!!(await P()||await w?.()))}),A,{defineAs:"isConditionalMediationAvailable"}),R(()=>p(async e=>{e(!!(await P()||await L?.()))}),A,{defineAs:"isUserVerifyingPlatformAuthenticatorAvailable"}))})()})()})();
