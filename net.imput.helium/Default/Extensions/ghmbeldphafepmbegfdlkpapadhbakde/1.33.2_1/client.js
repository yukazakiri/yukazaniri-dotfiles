(()=>{var e={1734:(e,t,r)=>{e.exports=r(47778).Symbol},3565:(e,t,r)=>{var n=r(85009),o=r(4524),i=r(38647);e.exports=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:i},4524:(e,t,r)=>{var n=r(11993);e.exports=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},5542:(e,t,r)=>{var n=r(3565);e.exports=r(95620)(n)},6999:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},9493:(e,t,r)=>{var n=r(21583),o=r(30885);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},9514:(e,t,r)=>{var n=r(92511),o=r(28793);e.exports=n?function(e){return n.get(e)}:o},9599:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},9742:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},11993:(e,t,r)=>{var n=r(43820),o=r(37951);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},13605:e=>{"use strict";e.exports=function(e){var t=e[1],r=e[3];if(!r)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(r))));return[t].concat(["/*# ".concat("sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n)," */")]).join(`
`)}return[t].join(`
`)}},16487:(e,t,r)=>{var n=r(70898),o=Object.create;e.exports=function(){function e(){}return function(t){if(!n(t))return{};if(o)return o(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}()},21583:(e,t,r)=>{var n=r(1734),o=r(50324),i=r(71761),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},21925:(e,t,r)=>{var n=r(21583),o=r(70898);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},22119:(e,t,r)=>{var n=r(6999),o=r(51460);e.exports=function e(t,r,i,a,s){var l=-1,u=t.length;for(i||(i=o),s||(s=[]);++l<u;){var c=t[l];r>0&&i(c)?r>1?e(c,r-1,i,a,s):n(s,c):a||(s[s.length]=c)}return s}},26562:(e,t,r)=>{var n=r(70898),o=r(35059),i=r(88761),a=Math.max,s=Math.min;e.exports=function(e,t,r){var l,u,c,d,m,p,g=0,f=!1,h=!1,A=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var r=l,n=u;return l=u=void 0,g=t,d=e.apply(n,r)}function b(e){var r=e-p,n=e-g;return void 0===p||r>=t||r<0||h&&n>=c}function w(){var e,r,n,i=o();if(b(i))return v(i);m=setTimeout(w,(e=i-p,r=i-g,n=t-e,h?s(n,c-r):n))}function v(e){return(m=void 0,A&&l)?y(e):(l=u=void 0,d)}function C(){var e,r=o(),n=b(r);if(l=arguments,u=this,p=r,n){if(void 0===m)return g=e=p,m=setTimeout(w,t),f?y(e):d;if(h)return clearTimeout(m),m=setTimeout(w,t),y(p)}return void 0===m&&(m=setTimeout(w,t)),d}return t=i(t)||0,n(r)&&(f=!!r.leading,c=(h="maxWait"in r)?a(i(r.maxWait)||0,t):c,A="trailing"in r?!!r.trailing:A),C.cancel=function(){void 0!==m&&clearTimeout(m),g=0,l=p=u=m=void 0},C.flush=function(){return void 0===m?d:v(o())},C}},27526:(e,t,r)=>{var n=r(55227),o=r(44118),i=r(83984);e.exports=function(e){if(e instanceof n)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},28793:e=>{e.exports=function(){}},30368:(e,t,r)=>{e.exports=r(11993)(r(47778),"WeakMap")},30885:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},35059:(e,t,r)=>{var n=r(47778);e.exports=function(){return n.Date.now()}},35472:(e,t,r)=>{var n=r(55227),o=r(9514),i=r(72339),a=r(52905);e.exports=function(e){var t=i(e),r=a[t];if("function"!=typeof r||!(t in n.prototype))return!1;if(e===r)return!0;var s=o(r);return!!s&&e===s[0]}},37951:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},38318:(e,t,r)=>{e.exports=r(47778)["__core-js_shared__"]},38647:e=>{e.exports=function(e){return e}},40415:(e,t,r)=>{e.exports="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g},41622:(e,t,r)=>{var n=r(44118),o=r(85559),i=r(9514),a=r(72339),s=r(67174),l=r(35472);e.exports=function(e){return o(function(t){var r=t.length,o=r,u=n.prototype.thru;for(e&&t.reverse();o--;){var c=t[o];if("function"!=typeof c)throw TypeError("Expected a function");if(u&&!d&&"wrapper"==a(c))var d=new n([],!0)}for(o=d?o:r;++o<r;){var m=a(c=t[o]),p="wrapper"==m?i(c):void 0;d=p&&l(p[0])&&424==p[1]&&!p[4].length&&1==p[9]?d[a(p[0])].apply(d,p[3]):1==c.length&&l(c)?d[m]():d.thru(c)}return function(){var e=arguments,n=e[0];if(d&&1==e.length&&s(n))return d.plant(n).value();for(var o=0,i=r?t[o].apply(this,e):n;++o<r;)i=t[o].call(this,i);return i}})}},43820:(e,t,r)=>{var n=r(21925),o=r(60151),i=r(70898),a=r(85686),s=/^\[object .+?Constructor\]$/,l=Object.prototype,u=Function.prototype.toString,c=l.hasOwnProperty,d=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(n(e)?d:s).test(a(e))}},44118:(e,t,r)=>{function n(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}n.prototype=r(16487)(r(84886).prototype),n.prototype.constructor=n,e.exports=n},47778:(e,t,r)=>{var n=r(40415),o="object"==typeof self&&self&&self.Object===Object&&self;e.exports=n||o||Function("return this")()},48659:(e,t,r)=>{var n=r(73913),o=r(30885),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable;e.exports=n(function(){return arguments}())?n:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")}},48748:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(13605),o=r.n(n),i=r(72485),a=r.n(i)()(o());a.push([e.id,":host{margin-left:unset;padding:0 !important;outline:none !important;outline-color:none !important;background-color:rgba(0,0,0,0) !important;border:none !important;box-shadow:none !important;min-width:unset !important;min-height:unset !important;overflow:unset !important;pointer-events:none;position:absolute !important;isolation:unset !important;margin:0 !important;opacity:1;z-index:unset !important;order:0 !important;height:0 !important;width:0 !important;float:left !important;animation:none !important;flex:0 0 0;grid-row:auto/span 1 !important;grid-column:auto/span 1 !important}:host>input{pointer-events:all}button{margin-left:unset;padding:0 !important;outline:none !important;outline-color:none !important;background-color:rgba(0,0,0,0) !important;border:none !important;box-shadow:none !important;min-width:unset !important;min-height:unset !important;overflow:unset !important;pointer-events:all;margin:auto;top:0;right:.3571428571em;opacity:.9;max-width:0;animation:icon-fade-in .25s ease-in-out .05s both !important;transition:opacity .2s ease-in-out;margin-top:0 !important;cursor:pointer !important;position:absolute !important;background-size:cover !important;border-radius:unset !important}button:hover,button:focus,button:active{transform:none !important}button::before{content:none !important}button::after{content:var(--control-count) !important;position:absolute !important;top:0 !important;right:0 !important;bottom:0 !important;left:0 !important;margin:auto !important;width:var(--control-lineheight) !important;color:#fff !important;text-align:center !important;font-family:system-ui,sans-serif !important;line-height:var(--control-lineheight) !important;font-size:var(--control-fontsize) !important;display:block !important;font-weight:bold !important;text-shadow:0 .5px 3px #320dc5 !important;opacity:0;animation:counter-fade-in .15s ease-in-out .15s both !important}button:hover{opacity:1}@keyframes icon-fade-in{from{opacity:0;max-width:0}to{opacity:.9;max-width:2.5em}}@keyframes counter-fade-in{from{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./src/app/content/injections/custom-elements/ProtonPassControl.raw.scss","webpack://./src/app/content/injections/styles/reset.scss"],names:[],mappings:"AAMA,MCLC,iBAAA,CACA,oBAAA,CACA,uBAAA,CACA,6BAAA,CACA,yCAAA,CACA,sBAAA,CACA,0BAAA,CACA,0BAAA,CACA,2BAAA,CACA,yBAAA,CDDA,mBAAA,CACA,4BAAA,CACA,0BAAA,CAGA,mBAAA,CACA,SAAA,CACA,wBAAA,CACA,kBAAA,CACA,mBAAA,CACA,kBAAA,CAEA,qBAAA,CACA,yBAAA,CAGA,UAAA,CAGA,+BAAA,CACA,kCAAA,CAEA,YACC,kBAAA,CAIF,OCnCC,iBAAA,CACA,oBAAA,CACA,uBAAA,CACA,6BAAA,CACA,yCAAA,CACA,sBAAA,CACA,0BAAA,CACA,0BAAA,CACA,2BAAA,CACA,yBAAA,CD6BA,kBAAA,CACA,WAAA,CACA,KAAA,CACA,mBAAA,CACA,UAAA,CACA,WAAA,CACA,4DAAA,CACA,kCAAA,CACA,uBAAA,CACA,yBAAA,CACA,4BAAA,CACA,gCAAA,CACA,8BAAA,CAEA,wCAGC,yBAAA,CAGD,eACC,uBAAA,CAGD,cACC,uCAAA,CACA,4BAAA,CACA,gBAAA,CAAA,kBAAA,CAAA,mBAAA,CAAA,iBAAA,CACA,sBAAA,CACA,0CAAA,CACA,qBAAA,CACA,4BAAA,CACA,2CAAA,CACA,gDAAA,CACA,4CAAA,CACA,wBAAA,CACA,2BAAA,CACA,yCAAA,CACA,SAAA,CACA,+DAAA,CAGD,aACC,SAAA,CAIF,wBACC,KACC,SAAA,CACA,WAAA,CAGD,GACC,UAAA,CACA,eAAA,CAAA,CAIF,2BACC,KACC,SAAA,CAGD,GACC,SAAA,CAAA",sourcesContent:[`$base-font-size: 14 !default;

@use 'sass:meta';
@import '@proton/styles/scss/lib/em';
@import '../styles/reset';

:host {
	@include reset;

	pointer-events: none;
	position: absolute !important;
	isolation: unset !important;

	/* force reset element */
	margin: 0 !important;
	opacity: 1;
	z-index: unset !important;
	order: 0 !important;
	block-size: 0 !important;
	inline-size: 0 !important;
	/* stylelint-disable-next-line */
	float: left !important;
	animation: none !important;

	/* if parent display: flex */
	flex: 0 0 0;

	/* if parent display: grid */
	grid-row: auto / span 1 !important;
	grid-column: auto / span 1 !important;

	> input {
		pointer-events: all;
	}
}

button {
	@include reset;

	pointer-events: all;
	margin: auto;
	inset-block-start: 0;
	inset-inline-end: em(5);
	opacity: 0.9;
	max-inline-size: 0;
	animation: icon-fade-in 0.25s ease-in-out 0.05s both !important;
	transition: opacity 0.2s ease-in-out;
	margin-block-start: 0 !important;
	cursor: pointer !important;
	position: absolute !important;
	background-size: cover !important;
	border-radius: unset !important;

	&:hover,
	&:focus,
	&:active {
		transform: none !important;
	}

	&::before {
		content: none !important;
	}

	&::after {
		content: var(--control-count) !important;
		position: absolute !important;
		inset: 0 !important;
		margin: auto !important;
		inline-size: var(--control-lineheight) !important;
		color: white !important;
		text-align: center !important;
		font-family: system-ui, sans-serif !important;
		line-height: var(--control-lineheight) !important;
		font-size: var(--control-fontsize) !important;
		display: block !important;
		font-weight: bold !important;
		text-shadow: 0 0.5px 3px #320dc5 !important;
		opacity: 0;
		animation: counter-fade-in 0.15s ease-in-out 0.15s both !important;
	}

	&:hover {
		opacity: 1;
	}
}

@keyframes icon-fade-in {
	from {
		opacity: 0;
		max-inline-size: 0;
	}

	to {
		opacity: 0.9;
		max-inline-size: em(35);
	}
}

@keyframes counter-fade-in {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}
`,`@mixin reset {
	margin-inline-start: unset;
	padding: 0 !important;
	outline: none !important;
	outline-color: none !important;
	background-color: transparent !important;
	border: none !important;
	box-shadow: none !important;
	min-inline-size: unset !important;
	min-block-size: unset !important;
	overflow: unset !important;
}
`],sourceRoot:""}]);let s=a},50324:(e,t,r)=>{var n=r(1734),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[s]=r:delete e[s]),o}},51460:(e,t,r)=>{var n=r(1734),o=r(48659),i=r(67174),a=n?n.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},52905:(e,t,r)=>{var n=r(55227),o=r(44118),i=r(84886),a=r(67174),s=r(30885),l=r(27526),u=Object.prototype.hasOwnProperty;function c(e){if(s(e)&&!a(e)&&!(e instanceof n)){if(e instanceof o)return e;if(u.call(e,"__wrapped__"))return l(e)}return new o(e)}c.prototype=i.prototype,c.prototype.constructor=c,e.exports=c},54621:(e,t,r)=>{var n=r(22119);e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},55227:(e,t,r)=>{function n(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=0xffffffff,this.__views__=[]}n.prototype=r(16487)(r(84886).prototype),n.prototype.constructor=n,e.exports=n},55377:(e,t,r)=>{var n=r(26562),o=r(70898);e.exports=function(e,t,r){var i=!0,a=!0;if("function"!=typeof e)throw TypeError("Expected a function");return o(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),n(e,t,{leading:i,maxWait:t,trailing:a})}},60151:(e,t,r)=>{var n,o=r(38318),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!i&&i in e}},67174:e=>{e.exports=Array.isArray},70898:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},71761:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},72339:(e,t,r)=>{var n=r(97914),o=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",r=n[t],i=o.call(n,t)?r.length:0;i--;){var a=r[i],s=a.func;if(null==s||s==e)return a.name}return t}},72485:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r}).join("")},t.i=function(e,r,n,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(n)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);n&&a[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),r&&(c[2]&&(c[1]="@media ".concat(c[2]," {").concat(c[1],"}")),c[2]=r),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},73229:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(13605),o=r.n(n),i=r(72485),a=r.n(i)()(o());a.push([e.id,":host{margin-left:unset;padding:0 !important;outline:none !important;outline-color:none !important;background-color:rgba(0,0,0,0) !important;border:none !important;box-shadow:none !important;min-width:unset !important;min-height:unset !important;overflow:unset !important;--frame-background-color-dark: #1f1f31;--frame-background-color-light: #fbf9fe;position:fixed !important;width:100% !important;border:0 !important;z-index:2147483647 !important;top:unset !important;right:unset !important;bottom:unset !important;left:unset !important;top:0 !important;left:0 !important;height:0 !important;padding:0 !important;margin:0 !important;--frame-background-color: var(--frame-background-color-dark)}:host([data-protonpass-theme=light]){--frame-background-color: var(--frame-background-color-light)}@media(prefers-color-scheme: light){:host([data-protonpass-theme=os]){--frame-background-color: var(--frame-background-color-light)}}:host::backdrop{position:fixed !important;top:0 !important;right:0 !important;bottom:0 !important;left:0 !important;background:rgba(0,0,0,0) !important;background-image:none !important;backdrop-filter:none !important;pointer-events:none !important;animation:none !important;transform:none !important;transition:none !important}iframe{position:absolute;width:var(--frame-width) !important;height:var(--frame-height) !important;top:var(--frame-top) !important;left:var(--frame-left) !important;right:var(--frame-right) !important;background-color:var(--frame-background-color) !important;box-shadow:0 2px 10px rgba(0,0,0,.3) !important;border-radius:12px !important;border:none !important;padding:0 !important;display:none;margin:0 !important;pointer-events:all !important}iframe.visible{display:block;transition:height .15s ease-in-out;animation:var(--frame-animation) .25s ease-in-out .05s both !important}iframe.fixed{position:fixed !important}@keyframes fadein{from{opacity:0;max-height:0}to{opacity:1;max-height:var(--frame-height)}}@keyframes slidein{from{transform:translateX(380px)}to{transform:translateX(0)}}","",{version:3,sources:["webpack://./src/app/content/injections/custom-elements/ProtonPassRoot.raw.scss","webpack://./src/app/content/injections/styles/reset.scss"],names:[],mappings:"AAEA,MCDC,iBAAA,CACA,oBAAA,CACA,uBAAA,CACA,6BAAA,CACA,yCAAA,CACA,sBAAA,CACA,0BAAA,CACA,0BAAA,CACA,2BAAA,CACA,yBAAA,CDLA,sCAAA,CACA,uCAAA,CAEA,yBAAA,CACA,qBAAA,CACA,mBAAA,CACA,6BAAA,CACA,oBAAA,CAAA,sBAAA,CAAA,uBAAA,CAAA,qBAAA,CACA,gBAAA,CACA,iBAAA,CACA,mBAAA,CACA,oBAAA,CACA,mBAAA,CAEA,4DAAA,CAGD,qCACC,6DAAA,CAIA,oCADD,kCAEE,6DAAA,CAAA,CAIF,gBACC,yBAAA,CACA,gBAAA,CAAA,kBAAA,CAAA,mBAAA,CAAA,iBAAA,CACA,mCAAA,CACA,gCAAA,CACA,+BAAA,CACA,8BAAA,CACA,yBAAA,CACA,yBAAA,CACA,0BAAA,CAGD,OACC,iBAAA,CACA,mCAAA,CACA,qCAAA,CACA,+BAAA,CACA,iCAAA,CAAA,mCAAA,CACA,yDAAA,CACA,+CAAA,CACA,6BAAA,CACA,sBAAA,CACA,oBAAA,CACA,YAAA,CACA,mBAAA,CACA,6BAAA,CAEA,eACC,aAAA,CACA,kCAAA,CACA,sEAAA,CAGD,aACC,yBAAA,CAIF,kBACC,KACC,SAAA,CACA,YAAA,CAGD,GACC,SAAA,CACA,8BAAA,CAAA,CAIF,mBACC,KACC,2BAAA,CAGD,GACC,uBAAA,CAAA",sourcesContent:[`@import '../styles/reset';

:host {
	@include reset;

	--frame-background-color-dark: #1f1f31;
	--frame-background-color-light: #fbf9fe;

	position: fixed !important;
	inline-size: 100% !important;
	border: 0 !important;
	z-index: 2147483647 !important;
	inset: unset !important;
	inset-block-start: 0 !important;
	inset-inline-start: 0 !important;
	block-size: 0 !important;
	padding: 0 !important;
	margin: 0 !important;

	--frame-background-color: var(--frame-background-color-dark);
}

:host([data-protonpass-theme='light']) {
	--frame-background-color: var(--frame-background-color-light);
}

:host([data-protonpass-theme='os']) {
	@media (prefers-color-scheme: light) {
		--frame-background-color: var(--frame-background-color-light);
	}
}

:host::backdrop {
	position: fixed !important;
	inset: 0 !important;
	background: transparent !important;
	background-image: none !important;
	backdrop-filter: none !important;
	pointer-events: none !important;
	animation: none !important;
	transform: none !important;
	transition: none !important;
}

iframe {
	position: absolute;
	inline-size: var(--frame-width) !important;
	block-size: var(--frame-height) !important;
	inset-block-start: var(--frame-top) !important;
	inset-inline: var(--frame-left) var(--frame-right) !important;
	background-color: var(--frame-background-color) !important;
	box-shadow: 0 2px 10px rgb(0 0 0 / 0.3) !important;
	border-radius: 12px !important;
	border: none !important;
	padding: 0 !important;
	display: none;
	margin: 0 !important;
	pointer-events: all !important;

	&.visible {
		display: block;
		transition: block-size 0.15s ease-in-out;
		animation: var(--frame-animation) 0.25s ease-in-out 0.05s both !important;
	}

	&.fixed {
		position: fixed !important;
	}
}

@keyframes fadein {
	from {
		opacity: 0;
		max-block-size: 0;
	}

	to {
		opacity: 1;
		max-block-size: var(--frame-height);
	}
}

@keyframes slidein {
	from {
		transform: translateX(380px);
	}

	to {
		transform: translateX(0);
	}
}
`,`@mixin reset {
	margin-inline-start: unset;
	padding: 0 !important;
	outline: none !important;
	outline-color: none !important;
	background-color: transparent !important;
	border: none !important;
	box-shadow: none !important;
	min-inline-size: unset !important;
	min-block-size: unset !important;
	overflow: unset !important;
}
`],sourceRoot:""}]);let s=a},73913:(e,t,r)=>{var n=r(21583),o=r(30885);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},79162:(e,t,r)=>{var n=r(9742),o=Math.max;e.exports=function(e,t,r){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=r(l),n(e,this,u)}}},80320:function(e,t){var r;"undefined"!=typeof globalThis||"undefined"!=typeof self&&self,void 0===(r=(function(e){"use strict";if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw Error("This script should only be loaded in a browser extension.");globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id?e.exports=globalThis.browser:e.exports=(e=>{let t={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(t).length)throw Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}let n=(t,r)=>(...n)=>{e.runtime.lastError?t.reject(Error(e.runtime.lastError.message)):r.singleCallbackArg||n.length<=1&&!1!==r.singleCallbackArg?t.resolve(n[0]):t.resolve(n)},o=e=>1==e?"argument":"arguments",i=(e,t,r)=>new Proxy(t,{apply:(t,n,o)=>r.call(n,e,...o)}),a=Function.call.bind(Object.prototype.hasOwnProperty),s=(e,t={},r={})=>{let l=Object.create(null);return new Proxy(Object.create(e),{has:(t,r)=>r in e||r in l,get(u,c,d){if(c in l)return l[c];if(!(c in e))return;let m=e[c];if("function"==typeof m)if("function"==typeof t[c])m=i(e,e[c],t[c]);else if(a(r,c)){let t,a=(t=r[c],function(e,...r){if(r.length<t.minArgs)throw Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${c}(), got ${r.length}`);if(r.length>t.maxArgs)throw Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${c}(), got ${r.length}`);return new Promise((o,i)=>{if(t.fallbackToNoCallback)try{e[c](...r,n({resolve:o,reject:i},t))}catch(n){console.warn(`${c} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,n),e[c](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,o()}else t.noCallback?(e[c](...r),o()):e[c](...r,n({resolve:o,reject:i},t))})});m=i(e,e[c],a)}else m=m.bind(e);else if("object"==typeof m&&null!==m&&(a(t,c)||a(r,c)))m=s(m,t[c],r[c]);else{if(!a(r,"*"))return Object.defineProperty(l,c,{configurable:!0,enumerable:!0,get:()=>e[c],set(t){e[c]=t}}),m;m=s(m,t[c],r["*"])}return l[c]=m,m},set:(t,r,n,o)=>(r in l?l[r]=n:e[r]=n,!0),defineProperty:(e,t,r)=>Reflect.defineProperty(l,t,r),deleteProperty:(e,t)=>Reflect.deleteProperty(l,t)})},l=e=>({addListener(t,r,...n){t.addListener(e.get(r),...n)},hasListener:(t,r)=>t.hasListener(e.get(r)),removeListener(t,r){t.removeListener(e.get(r))}}),u=new r(e=>"function"!=typeof e?e:function(t){e(s(t,{},{getContent:{minArgs:0,maxArgs:0}}))}),c=new r(e=>"function"!=typeof e?e:function(t,r,n){let o,i,a,s=!1,l=new Promise(e=>{i=function(t){s=!0,e(t)}});try{a=e(t,r,i)}catch(e){a=Promise.reject(e)}let u=!0!==a&&(o=a)&&"object"==typeof o&&"function"==typeof o.then;return(!0===a||!!u||!!s)&&((u?a:l).then(e=>{n(e)},e=>{n({__mozWebExtensionPolyfillReject__:!0,message:e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred"})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)}),!0)}),d=({reject:t,resolve:r},n)=>{e.runtime.lastError?"The message port closed before a response was received."===e.runtime.lastError.message?r():t(Error(e.runtime.lastError.message)):n&&n.__mozWebExtensionPolyfillReject__?t(Error(n.message)):r(n)},m=(e,t,r,...n)=>{if(n.length<t.minArgs)throw Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise((e,t)=>{let o=d.bind(null,{resolve:e,reject:t});n.push(o),r.sendMessage(...n)})},p={devtools:{network:{onRequestFinished:l(u)}},runtime:{onMessage:l(c),onMessageExternal:l(c),sendMessage:m.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:m.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},g={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return t.privacy={network:{"*":g},services:{"*":g},websites:{"*":g}},s(e,p,t)})(chrome)}).apply(t,[e]))||(e.exports=r)},80601:(e,t,r)=>{e.exports=r(41622)()},83984:e=>{e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},84886:e=>{e.exports=function(){}},85009:e=>{e.exports=function(e){return function(){return e}}},85559:(e,t,r)=>{var n=r(54621),o=r(79162),i=r(5542);e.exports=function(e){return i(o(e,void 0,n),e+"")}},85686:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},88761:(e,t,r)=>{var n=r(95399),o=r(70898),i=r(9493),a=0/0,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return a;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=l.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):s.test(e)?a:+e}},92511:(e,t,r)=>{var n=r(30368);e.exports=n&&new n},95399:(e,t,r)=>{var n=r(9599),o=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(o,""):e}},95620:e=>{var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var o=t(),i=16-(o-n);if(n=o,i>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},97886:function(e,t,r){var n,o;!function(i,a){"use strict";void 0===(o="function"==typeof(n=a)?n.call(t,r,t,e):n)||(e.exports=o)}(0,function(){"use strict";var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"],o={},i=null;function a(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(){for(var r=this.getLevel(),o=0;o<n.length;o++){var i=n[o];this[i]=o<r?e:this.methodFactory(i,r,this.name)}if(this.log=this.debug,typeof console===t&&r<this.levels.SILENT)return"No console available for logging"}function u(e){return function(){typeof console!==t&&(l.call(this),this[e].apply(this,arguments))}}function c(n,o,i){var l;return"debug"===(l=n)&&(l="log"),typeof console!==t&&("trace"===l&&r?s:void 0!==console[l]?a(console,l):void 0!==console.log?a(console,"log"):e)||u.apply(this,arguments)}function d(e,r){var a,s,u,d=this,m="loglevel";function p(){var e;if(typeof window!==t&&m){try{e=window.localStorage[m]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,n=encodeURIComponent(m),o=r.indexOf(n+"=");-1!==o&&(e=/^([^;]+)/.exec(r.slice(o+n.length+1))[1])}catch(e){}return void 0===d.levels[e]&&(e=void 0),e}}function g(e){var t=e;if("string"==typeof t&&void 0!==d.levels[t.toUpperCase()]&&(t=d.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=d.levels.SILENT)return t;throw TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?m+=":"+e:"symbol"==typeof e&&(m=void 0),d.name=e,d.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},d.methodFactory=r||c,d.getLevel=function(){return null!=u?u:null!=s?s:a},d.setLevel=function(e,r){return u=g(e),!1!==r&&function(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t&&m){try{window.localStorage[m]=r;return}catch(e){}try{window.document.cookie=encodeURIComponent(m)+"="+r+";"}catch(e){}}}(u),l.call(d)},d.setDefaultLevel=function(e){s=g(e),p()||d.setLevel(e,!1)},d.resetLevel=function(){if(u=null,typeof window!==t&&m){try{window.localStorage.removeItem(m)}catch(e){}try{window.document.cookie=encodeURIComponent(m)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}l.call(d)},d.enableAll=function(e){d.setLevel(d.levels.TRACE,e)},d.disableAll=function(e){d.setLevel(d.levels.SILENT,e)},d.rebuild=function(){if(i!==d&&(a=g(i.getLevel())),l.call(d),i===d)for(var e in o)o[e].rebuild()},a=g(i?i.getLevel():"WARN");var f=p();null!=f&&(u=g(f)),l.call(d)}(i=new d).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw TypeError("You must supply a name when creating a logger.");var t=o[e];return t||(t=o[e]=new d(e,i.methodFactory)),t};var m=typeof window!==t?window.log:void 0;return i.noConflict=function(){return typeof window!==t&&window.log===i&&(window.log=m),i},i.getLoggers=function(){return o},i.default=i,i})},97914:e=>{e.exports={}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";let e,t,n,o,i,a,s,l;var u,c,d,m,p,g,f,h,A,y,b,w,v,C,E,_,T,R,S,O,x=((T={}).STRICT="get",T.LOOSE="read",T);let N=e=>{let t={};return{set:e=>t.ctx=e,get:()=>{if(void 0===t.ctx)throw Error(`Context#${e} has not been initialized`);return t.ctx},read:()=>t.ctx,clear:()=>{delete t.ctx,t.ctx=void 0}}},I=N("contentscript"),P=(e=x.LOOSE,t=>(...r)=>t(I[e]()??null,...r));var F=((u={}).ACCOUNT_EXTENSION="auth-ext",u.ACCOUNT_FORK="fork",u.ACCOUNT_ONBOARDING="pass-onboarding",u.ACCOUNT_PROBE="pass-installed",u.ALIAS_CREATE="ALIAS_CREATE",u.ALIAS_OPTIONS="ALIAS_OPTIONS",u.AUTH_CHECK="AUTH_CHECK",u.AUTH_CONFIRM_PASSWORD="AUTH_CONFIRM_PASSWORD",u.AUTH_INIT="AUTH_INIT",u.AUTH_PULL_FORK="AUTH_PULL_FORK",u.AUTH_UNLOCK="AUTH_UNLOCK",u.AUTOFILL_CHECK_FORM="AUTOFILL_CHECK_FORM",u.AUTOFILL_IDENTITY="AUTOFILL_IDENTITY",u.AUTOFILL_IDENTITY_QUERY="AUTOFILL_IDENTITY_QUERY",u.AUTOFILL_LOGIN="AUTOFILL_LOGIN",u.AUTOFILL_LOGIN_QUERY="AUTOFILL_LOGIN_QUERY",u.AUTOFILL_OTP_CHECK="AUTOFILL_OTP_CHECK",u.AUTOFILL_SYNC="AUTOFILL_SYNC",u.AUTOSAVE_REQUEST="AUTOSAVE_REQUEST",u.AUTOSUGGEST_PASSWORD="AUTOSUGGEST_PASSWORD",u.B2B_EVENT="B2B_EVENT",u.CLIENT_INIT="CLIENT_INIT",u.CLIPBOARD_OFFSCREEN_READ="CLIPBOARD_OFFSCREEN_READ",u.CLIPBOARD_OFFSCREEN_WRITE="CLIPBOARD_OFFSCREEN_WRITE",u.CLIPBOARD_AUTOCLEAR="CLIPBOARD_AUTOCLEAR",u.DEBUG="DEBUG",u.FEATURE_FLAGS_UPDATE="FEATURE_FLAGS_UPDATE",u.FETCH_ABORT="FETCH_ABORT",u.FETCH_DOMAINIMAGE="FETCH_DOMAINIMAGE",u.FORM_ENTRY_COMMIT="FORM_ENTRY_COMMIT",u.FORM_ENTRY_REQUEST="FORM_ENTRY_REQUEST",u.FORM_ENTRY_STAGE="FORM_ENTRY_STAGE",u.FORM_ENTRY_STASH="FORM_ENTRY_STASH",u.FORM_STATUS="FORM_STATUS",u.FS_WRITE="FS_WRITE",u.FS_ERROR="FS_ERROR",u.LOAD_CONTENT_SCRIPT="LOAD_CONTENT_SCRIPT",u.LOCALE_UPDATED="LOCALE_UPDATED",u.LOG_EVENT="LOG_EVENT",u.LOG_REQUEST="LOG_REQUEST",u.MONITOR_2FAS="MONITOR_2FAS",u.MONITOR_WEAK_PASSWORDS="MONITOR_WEAK_PASSWORDS",u.NOTIFICATION="NOTIFICATION",u.OTP_CODE_GENERATE="OTP_CODE_GENERATE",u.PASS_CORE_RPC="PASS_CORE_RPC",u.PASSKEY_CREATE="PASSKEY_CREATE",u.PASSKEY_GET="PASSKEY_GET",u.PASSKEY_INTERCEPT="PASSKEY_INTERCEPT",u.PASSKEY_QUERY="PASSKEY_QUERY",u.PAUSE_WEBSITE="PAUSE_WEBSITE",u.PERMISSIONS_UPDATE="PERMISSIONS_UPDATE",u.PING="PING",u.POPUP_INIT="POPUP_INIT",u.PORT_FORWARDING_MESSAGE="PORT_FORWARDING",u.PORT_UNAUTHORIZED="PORT_UNAUTHORIZED",u.REGISTER_ELEMENTS="REGISTER_ELEMENTS",u.RESOLVE_EXTENSION_KEY="RESOLVE_EXTENSION_KEY",u.RESOLVE_USER="RESOLVE_USER",u.SENTRY_CS_EVENT="SENTRY_CS_EVENT",u.SETTINGS_UPDATE="SETTINGS_UPDATE",u.SPOTLIGHT_ACK="SPOTLIGHT_ACK",u.SPOTLIGHT_CHECK="SPOTLIGHT_CHECK",u.SPOTLIGHT_REQUEST="SPOTLIGHT_REQUEST",u.STORE_DISPATCH="STORE_DISPATCH",u.TABS_QUERY="TABS_QUERY",u.TELEMETRY_EVENT="TELEMETRY_EVENT",u.UNLOAD_CONTENT_SCRIPT="UNLOAD_CONTENT_SCRIPT",u.UPDATE_AVAILABLE="UPDATE_AVAILABLE",u.VAULTS_QUERY="VAULTS_QUERY",u.WEBSITE_RULES_REQUEST="WEBSITE_RULES_REQUEST",u.WORKER_RELOAD="WORKER_RELOAD",u.WORKER_STATE_CHANGE="WORKER_STATE_CHANGE",u),M=r(80320),L=r.n(M),k=r(97886),D=r.n(k);function U(){}D().methodFactory=()=>U,D().setLevel("INFO",!1);let B=D(),G=globalThis,H={allowProxy:!0,globals:{chrome:G.chrome,browser:G.browser}},W=(t=L(),setTimeout(()=>H.allowProxy&&Object.entries(H.globals).filter(([,e])=>e).forEach(([e,t])=>{G[e]=new Proxy(t,{get(e,t,r){if("app"!==t)return B.error("[Extension::Error] extension API is protected")},set:()=>(B.error("[Extension::Error] extension API is read-only"),!1)})}),0),t);H.globals.chrome;class $ extends Error{name="CriticalMessageResponseError";message="Worker failed to respond"}let q=async e=>{try{let t=await W.runtime.sendMessage(W.runtime.id,e);if(void 0===t)throw new $;return t}catch(e){return{type:"error",error:e instanceof Error?e.message:"Unknown error",critical:e instanceof $}}};q.on=async(e,t)=>t(await q(e)),q.onSuccess=async(e,t)=>q.on(e,e=>{"success"===e.type&&t(e)});let Y=e=>t=>({...t,sender:e,version:"1.33.2"});Y("background"),Y("popup"),Y("page");let j=Y("contentscript");Y("offscreen");let z=e=>"object"==typeof e&&!Array.isArray(e)&&null!==e,V=(e,t)=>z(e)&&"type"in e&&"string"==typeof e.type&&(!t.type||t.type===e.type)&&(!t.sender||t.sender===e.sender);class K extends Error{}class Z extends Error{}function Q(e){return e}function X(e,t,r){let n,o,i=!0;if(ev(function(e){let a=t(e);(r(a,o)||i)&&(n=e,o=a,i=!1)},e),i)throw Error("Tried to call best() on empty iterable");return n}function J(e,t=Q){return X(e,t,(e,t)=>e>t)}function ee(e,t=Q){let r,n=[],o=!0;return ev(function(e){let i=t(e);i>r||o?(n=[e],r=i,o=!1):i===r&&n.push(e)},e),n}function et(e,t=Q){return X(e,t,(e,t)=>e<t)}function er(e){let t,r=!0;return ev(function(e){r?(t=e,r=!1):t+=e},e),t}function*en(e,t=e=>!0){for(let r of(yield e,e.childNodes))if(t(r))for(let e of en(r,t))yield e}let eo=new Set(["ADDRESS","BLOCKQUOTE","BODY","CENTER","DIR","DIV","DL","FIELDSET","FORM","H1","H2","H3","H4","H5","H6","HR","ISINDEX","MENU","NOFRAMES","NOSCRIPT","OL","P","PRE","TABLE","UL","DD","DT","FRAMESET","LI","TBODY","TD","TFOOT","TH","THEAD","TR","HTML"]);function ei(e){return eo.has(e.tagName)}function*ea(e,t=e=>!0){for(let r of en(e,e=>!(ei(e)||"SCRIPT"===e.tagName&&"STYLE"===e.tagName)&&t(e)))r.nodeType===r.TEXT_NODE&&(yield r.textContent)}function es(e,t=e=>!0){return er(ew(e=>el(e).length,ea(e,t)))}function el(e){return e.replace(/\s{2,}/g," ")}function eu(e){return e.nodeType===e.TEXT_NODE&&0===e.textContent.trim().length}function ec(e,t,r){if(e.has(t))return e.get(t);let n=r();return e.set(t,n),n}function ed(e,t,r){return e.has(t)?e.get(t):r()}function em(e,t){let r=[],n=new Set(e),o=new Set;for(;n.size>0;)!function e(i){if(o.has(i))throw new K("The graph has a cycle.");if(n.has(i)){for(let r of(o.add(i),t(i)))e(r);o.delete(i),n.delete(i),r.push(i)}}(eg(n));return r}class ep extends Set{pop(){for(let e of this.values())return this.delete(e),e;throw Error("Tried to pop from an empty NiceSet.")}extend(e){for(let t of e)this.add(t);return this}minus(e){let t=new ep(this);for(let r of e)t.delete(r);return t}toString(){return"{"+Array.from(this).join(", ")+"}"}}function eg(e){for(let t of e)return t}function ef(e){return e.ownerDocument.documentElement}function eh(e){return eC(e)?e:e.element}function*eA(e){let t;for(yield e;null!==(t=e.parentNode)&&t.nodeType===t.ELEMENT_NODE;)yield t,e=t}function ey(e){return 1/(1+Math.exp(-e))}function*eb(e){for(let r of e){var t;"string"!=typeof r&&!(r instanceof Element)&&(t=r)&&"function"==typeof t[Symbol.iterator]?yield*eb(r):yield r}}function*ew(e,t){for(let r of t)yield e(r)}function ev(e,t){for(let r of t)e(r)}function eC(e){return void 0!==e.nodeName}function*eE(e){for(let t=e.length-1;t>=0;t--)yield e[t]}function e_(e){let t=e.ownerDocument;null===t&&(t=e);let r=t.defaultView;if(null===r)throw new Z;return r}var eT=Object.freeze({__proto__:null,NiceSet:ep,ancestors:eA,attributesMatch:function(e,t,r=[]){let n=0===r.length?Array.from(e.attributes).map(e=>e.name):r;for(let r=0;r<n.length;r++){let o=e.getAttribute(n[r]);if(o&&(Array.isArray(o)&&o.some(t)||t(o)))return!0}return!1},best:X,collapseWhitespace:el,domSort:function(e){return Array.from(e).sort(function(e,t){let r=e.element,n=r.compareDocumentPosition(t.element);return n&r.DOCUMENT_POSITION_FOLLOWING?-1:n&r.DOCUMENT_POSITION_PRECEDING?1:0})},first:eg,flatten:eb,forEach:ev,getDefault:ed,identity:Q,inlineTextLength:es,inlineTexts:ea,isBlock:ei,isDomElement:eC,isVisible:function(e){let t=eh(e),r=e_(t),n=t.getBoundingClientRect(),o=r.getComputedStyle(t);if(0===n.width&&0===n.height&&"hidden"!==o.overflow||"hidden"===o.visibility||n.x+n.width<0||n.y+n.height<0)return!1;for(let e of eA(t)){let i=e===t,a=i?o:r.getComputedStyle(e);if("0"===a.opacity)return!1;if("contents"===a.display)continue;let s=i?n:e.getBoundingClientRect();if((0===s.width||0===s.height)&&"hidden"===o.overflow)return!1}return!0},isWhitespace:eu,length:function(e){let t=0;for(let r of e)t++;return t},linearScale:function(e,t,r){if(t<r){if(e<=t)return 0;else if(e>=r)return 1}else if(e>=t)return 0;else if(e<=r)return 1;return 1/(r-t)*(e-t)},linkDensity:function(e,t){return void 0===t&&(t=es(e.element)),(t-es(e.element,e=>"A"!==e.tagName))/t},map:ew,max:J,maxes:ee,min:et,numberOfMatches:function(e,t){return(t.match(e)||[]).length},page:function(e){return function(t){let r=e(t);return void 0!==r.score&&(r.element=ef(t.element)),r}},reversed:eE,rgbaFromString:function(e){let t=e.match(/^rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)$/i);if(t)return[t[1]/255,t[2]/255,t[3]/255,void 0===t[4]?void 0:parseFloat(t[4])];throw Error("Color "+e+" did not match pattern rgb[a](r, g, b[, a]).")},rootElement:ef,saturation:function(e,t,r){let n=Math.max(e,t,r),o=Math.min(e,t,r),i=1-Math.abs((n+o)/2*2-1);return 0===i?0:(n-o)/i},setDefault:ec,sigmoid:ey,sum:er,toDomElement:eh,toposort:em,walk:en,windowForElement:e_});function eR(e,t,{differentDepthCost:r=2,differentTagCost:n=2,sameTagCost:o=1,strideCost:i=1,additionalCost:a=(e,t)=>0}={}){if(e===t)return 0;let s=eC(e)?e:e.element,l=eC(t)?t:t.element,u=[s],c=[l],d=s,m=l;for(;!d.contains(l);)u.push(d=d.parentNode);let p=s.compareDocumentPosition(l);if(p&(s.DOCUMENT_POSITION_CONTAINS|s.DOCUMENT_POSITION_CONTAINED_BY))return Number.MAX_VALUE;do c.push(m=m.parentNode);while(m!==d)let g=u,f=c,h=0;for(p&s.DOCUMENT_POSITION_FOLLOWING?(g=u,f=c):p&s.DOCUMENT_POSITION_PRECEDING&&(g=c,f=u);g.length||f.length;){let e=g.pop(),t=f.pop();void 0===e||void 0===t?h+=r:h+=e.tagName===t.tagName?o:n,0!==i&&(h+=function(e,t){let r=0,n=e,o=n&&n!==t;for(;o;)(o=(n=n.nextSibling)&&n!==t)&&!eu(n)&&(r+=1);if(n!==t)for(n=t;n;)(n=n.previousSibling)&&!eu(n)&&(r+=1);return r}(e,t)*i)}return h+a(e,t)}class eS{constructor(e,t){this._matrix=new Map;const r=e.map(e=>[e]);for(let e of r){const r=new Map;for(let n of this._matrix.keys())r.set(n,t(e[0],n[0]));this._matrix.set(e,r)}this._numClusters=r.length}closest(){let e=this;if(this._numClusters<2)throw Error("There must be at least 2 clusters in order to return the closest() ones.");return et(function(){let t=[];for(let[r,n]of e._matrix.entries())for(let[e,o]of n.entries())t.push({a:r,b:e,distance:o});return t}(),e=>e.distance)}_cachedDistance(e,t){let r=this._matrix.get(e).get(t);return void 0===r&&(r=this._matrix.get(t).get(e)),r}merge(e,t){let r=new Map;for(let n of this._matrix.keys())n!==e&&n!==t&&r.set(n,Math.min(this._cachedDistance(e,n),this._cachedDistance(t,n)));for(let r of(this._matrix.delete(e),this._matrix.delete(t),this._matrix.values()))r.delete(e),r.delete(t);this._matrix.set([e,t],r),this._numClusters-=1}numClusters(){return this._numClusters}clusters(){return Array.from(this._matrix.keys()).map(e=>Array.from(eb(e)))}}function eO(e,t,r=eR){let n,o=new eS(e,r);for(;o.numClusters()>1&&(n=o.closest()).distance<t;)o.merge(n.a,n.b);return o.clusters()}var ex=Object.freeze({__proto__:null,clusters:eO,distance:eR,euclidean:function(e,t){function r(e){return e.left+e.width/2}function n(e){return e.top+e.height/2}let o=eh(e),i=eh(t),a=o.getBoundingClientRect(),s=i.getBoundingClientRect();return Math.sqrt((r(a)-r(s))**2+(n(a)-n(s))**2)}});class eN{constructor(){this._predicate=()=>!0}static fromFirstCall(e){if("type"===e.method)return new eF(...e.args);if("and"===e.method)return new eD(e.args);if("nearest"===e.method)return new eB(e.args);throw Error("The left-hand side of a rule() must start with dom(), type(), and(), or nearest().")}when(e){let t=this.clone();return t._predicate=e,t}fnodesSatisfyingWhen(e){return Array.from(e).filter(this._predicate)}checkFact(e){}guaranteedType(){}aggregatedType(){}}class eI extends eN{constructor(e){if(super(),void 0===e)throw Error("A querySelector()-style selector is required as the argument to "+this._callName()+"().");this.selector=e}_callName(){return"dom"}clone(){return new this.constructor(this.selector)}fnodes(e){return this._domNodesToFilteredFnodes(e,e.doc.querySelectorAll(this.selector))}_domNodesToFilteredFnodes(e,t){let r=[];for(let n=0;n<t.length;n++)r.push(e.fnodeForElement(t[n]));return this.fnodesSatisfyingWhen(r)}checkFact(e){if(void 0===e.type)throw Error(`The right-hand side of a ${this._callName()}() rule failed to specify a type. This means there is no way for its output to be used by later rules. All it specified was ${e}.`)}asLhs(){return this}possibleTypeCombinations(){return[]}typesMentioned(){return new ep}}class eP extends eI{constructor(e){super(""),this.query=e}_callName(){return"domQuery"}clone(){return new eP(this.query)}fnodes(e){return this._domNodesToFilteredFnodes(e,this.query(e.doc))}}class eF extends eN{constructor(e){if(super(),void 0===e)throw Error("A type name is required when calling type().");this._type=e}clone(){return new this.constructor(this._type)}fnodes(e){let t=ed(e.typeCache,this._type,()=>[]);return this.fnodesSatisfyingWhen(t)}type(e){return new this.constructor(e)}max(){return new eL(this._type)}bestCluster(e){return new ek(this._type,e)}guaranteedType(){return this._type}possibleTypeCombinations(){return[this.typesMentioned()]}typesMentioned(){return new ep([this._type])}}class eM extends eF{aggregatedType(){return this._type}}class eL extends eM{fnodes(e){let t=this,r=()=>super.fnodes(e);return ec(e.maxCache,this._type,function(){return ee(r(),r=>e.weightedScore(r.scoresSoFarFor(t._type)))})}}class ek extends eM{constructor(e,t){super(e),this._options=t||{splittingDistance:3}}fnodes(e){let t=Array.from(super.fnodes(e));return 0===t.length?[]:J(eO(t,this._options.splittingDistance,(e,t)=>eR(e,t,this._options)).map(e=>[e,er(e.map(e=>e.scoreFor(this._type)))]),e=>e[1])[0]}}class eD extends eN{constructor(e){super(),this._args=e.map(eU)}*fnodes(e){let t=this._args[0].fnodes(e);e:for(let e of t){for(let t of this._args.slice(1))if(!e.hasType(t.guaranteedType()))continue e;yield e}}possibleTypeCombinations(){return[this.typesMentioned()]}typesMentioned(){return new ep(this._args.map(e=>e.guaranteedType()))}}function eU(e){let t=e.asLhs();if(t.constructor!==eF)throw Error("and() and nearest() support only simple type() calls as arguments for now.");return t}class eB extends eN{constructor([e,t,r]){super(),this._a=eU(e),this._b=eU(t),this._distance=r}*fnodes(e){let t=this._a.fnodes(e),r=Array.from(this._b.fnodes(e));if(r.length>0)for(let e of t){let t=et(r,t=>this._distance(e,t));yield{fnode:e,rhsTransformer:function(e){return void 0===e.note&&(e.note=t),e}}}}checkFact(e){}possibleTypeCombinations(){return[new ep([this._a.guaranteedType()])]}typesMentioned(){return new ep([this._a.guaranteedType(),this._b.guaranteedType()])}guaranteedType(){return this._a.guaranteedType()}}let eG={type:1,note:2,score:4,element:8};function eH(e){return new e$(e)}class eW{constructor(e=[],t=1/0,r){this._calls=e.slice(),this._max=t,this._types=new ep(r)}atMost(e){return new this.constructor(this._calls,e,this._types)}_checkAtMost(e){if(void 0!==e.score&&e.score>this._max)throw Error(`Score of ${e.score} exceeds the declared atMost(${this._max}).`)}props(e){function t(r){let n=e(r);for(let e in n)eG.hasOwnProperty(e)&&eG[e]&t.possibleSubfacts||delete n[e];return n}return t.possibleSubfacts=15,t.kind="props",new this.constructor(this._calls.concat(t),this._max,this._types)}type(e){function t(){return{type:e}}return t.possibleSubfacts=1,t.type=e,t.kind="type",new this.constructor(this._calls.concat(t),this._max,this._types)}typeIn(...e){return new this.constructor(this._calls,this._max,e)}_checkTypeIn(e,t){if(this._types.size>0){if(void 0===e.type){if(!this._types.has(t))throw Error(`A right-hand side claimed, via typeIn(...) to emit one of the types ${this._types} but actually inherited ${t} from the left-hand side.`)}else if(!this._types.has(e.type))throw Error(`A right-hand side claimed, via typeIn(...) to emit one of the types ${this._types} but actually emitted ${e.type}.`)}}note(e){function t(t){return{note:e(t)}}return t.possibleSubfacts=2,t.kind="note",new this.constructor(this._calls.concat(t),this._max,this._types)}score(e){let t;return(t="number"==typeof e?function(t){return{score:e}}:function(t){let r=e(t);return"boolean"==typeof r&&(r=Number(r)),{score:r}}).possibleSubfacts=4,t.kind="score",new this.constructor(this._calls.concat(t),this._max,this._types)}fact(e,t){let r=new Set,n={},o=0;for(let t of eE(this._calls))if(!r.has(t.kind)&&(r.add(t.kind),~o&t.possibleSubfacts)){let r=t(e);for(let e in r)n.hasOwnProperty(e)||(n[e]=r[e]),o|=eG[e]}return this._checkAtMost(n),this._checkTypeIn(n,t),n}possibleEmissions(){let e=!1;for(let t of eE(this._calls))if("props"===t.kind){e=!0;break}else if("type"===t.kind)return{couldChangeType:!0,possibleTypes:new Set([t.type])};return{couldChangeType:e,possibleTypes:this._types}}}class e${constructor(e,t=e=>e,r=e=>e){this.key=e,this.callback=t,this.allCallback=r}through(e){return new this.constructor(this.key,e,this.allCallback)}allThrough(e){return new this.constructor(this.key,this.callback,e)}asRhs(){return this}}function eq(e){return new eY({method:"type",args:[e]})}class eY{constructor(...e){this._calls=e}max(){return this._and("max")}bestCluster(e){return this._and("bestCluster",e)}props(e){return this._and("props",e)}type(...e){return this._and("type",...e)}note(e){return this._and("note",e)}score(e){return this._and("score",e)}atMost(e){return this._and("atMost",e)}typeIn(...e){return this._and("typeIn",...e)}and(...e){return this._and("and",e)}_and(e,...t){return new this.constructor(...this._calls.concat({method:e,args:t}))}asLhs(){return this._asSide(eN.fromFirstCall(this._calls[0]),this._calls.slice(1))}asRhs(){return this._asSide(new eW,this._calls)}_asSide(e,t){for(let r of t)e=e[r.method](...r.args);return e}when(e){return this._and("when",e)}}class ej{constructor(e,t){if(void 0===e)throw Error("Someone tried to make a fnode without specifying the element they're talking about.");this.element=e,this._ruleset=t,this._types=new Map,this._conservedScores=new Map}hasType(e){return this._computeType(e),this._types.has(e)}scoreFor(e){return this._computeType(e),ey(this._ruleset.weightedScore(this.scoresSoFarFor(e))+ed(this._ruleset.biases,e,()=>0))}noteFor(e){return this._computeType(e),this._noteSoFarFor(e)}hasNoteFor(e){return this._computeType(e),this._hasNoteSoFarFor(e)}typesSoFar(){return this._types.keys()}_noteSoFarFor(e){return this._typeRecordForGetting(e).note}_hasNoteSoFarFor(e){return void 0!==this._noteSoFarFor(e)}scoresSoFarFor(e){return this._typeRecordForGetting(e).score}addScoreFor(e,t,r){this._typeRecordForSetting(e).score.set(r,t)}setNoteFor(e,t){if(this._hasNoteSoFarFor(e)){if(void 0!==t)throw Error(`Someone (likely the right-hand side of a rule) tried to add a note of type ${e} to an element, but one of that type already exists. Overwriting notes is not allowed, since it would make the order of rules matter.`)}else this._typeRecordForSetting(e).note=t}_typeRecordForSetting(e){return ec(this._types,e,()=>({score:new Map}))}_typeRecordForGetting(e){return ed(this._types,e,()=>({score:new Map}))}_computeType(e){this._types.has(e)||this._ruleset.get(eq(e))}}function ez(e,t,r){return"string"==typeof t&&(t=eH(t)),new(t instanceof e$?eQ:eZ)(e,t,r)}let eV=0;class eK{constructor(e,t,r){this.lhs=e.asLhs(),this.rhs=t.asRhs(),this.name=(r?r.name:void 0)||"_"+eV++}prerequisites(e){function t(e,t,r,n){for(let o of t){let t=r(o);if(t.length>0)e.extend(t);else throw Error(`No rule ${n} the "${o}" type, but another rule needs it as input.`)}}let r=new ep;return t(r,this._typesFinalized(),t=>e.inwardRulesThatCouldEmit(t),"emits"),t(r,this.lhs.typesMentioned(),t=>e.inwardRulesThatCouldAdd(t),"adds"),r}_typesFinalized(){let e=this.lhs.aggregatedType();return void 0===e?new ep:new ep([e])}}class eZ extends eK{results(e){if(e.doneRules.has(this))throw Error("A bug in Fathom caused results() to be called on an inward rule twice. That could cause redundant score contributions, etc.");let t=this,r=this.lhs.fnodes(e),n=new Set;for(let o of(ev(function(r){let o=t.lhs.guaranteedType(),{fnode:i=r,rhsTransformer:a=Q}=r,s=a(t.rhs.fact(i,o));t.lhs.checkFact(s);let l=e.fnodeForElement(s.element||i.element),u=s.type||t.lhs.guaranteedType();if(void 0!==s.score)if(void 0!==u)l.addScoreFor(u,s.score,t.name);else throw Error(`The right-hand side of a rule specified a score (${s.score}) with neither an explicit type nor one we could infer from the left-hand side.`);if(void 0!==s.type||void 0!==s.note)if(void 0===u)throw Error(`The right-hand side of a rule specified a note (${s.note}) with neither an explicit type nor one we could infer from the left-hand side. Notes are per-type, per-node, so that's a problem.`);else l.setNoteFor(u,s.note);n.add(l)},r),e.doneRules.add(this),n))for(let t of o.typesSoFar())ec(e.typeCache,t,()=>new Set).add(o);return n.values()}typesItCouldEmit(){let e=this.rhs.possibleEmissions();if(!e.couldChangeType&&void 0!==this.lhs.guaranteedType())return new Set([this.lhs.guaranteedType()]);if(e.possibleTypes.size>0)return e.possibleTypes;throw Error("Could not determine the emitted type of a rule because its right-hand side calls props() without calling typeIn().")}typesItCouldAdd(){let e=new Set(this.typesItCouldEmit());return e.delete(this.lhs.guaranteedType()),e}_typesFinalized(){let e=this;return(function(){let t=new ep,r=e.rhs.possibleEmissions();if(r.couldChangeType){for(let n of e.lhs.possibleTypeCombinations())for(let e of r.possibleTypes)if(!n.has(e)){t.extend(n);break}}return t})().extend(super._typesFinalized())}}class eQ extends eK{results(e){return this.rhs.allCallback(ew(this.rhs.callback,ew(function(e){return e instanceof ej?e:e.fnode},this.lhs.fnodes(e))))}key(){return this.rhs.key}_typesFinalized(){return this.lhs.typesMentioned().extend(super._typesFinalized())}}class eX{constructor(e,t=[],r=[]){for(let n of(this._inRules=[],this._outRules=new Map,this._rulesThatCouldEmit=new Map,this._rulesThatCouldAdd=new Map,this._coeffs=new Map(t),this.biases=new Map(r),e))if(n instanceof eZ){for(let e of(this._inRules.push(n),n.typesItCouldEmit()))ec(this._rulesThatCouldEmit,e,()=>[]).push(n);for(let e of n.typesItCouldAdd())ec(this._rulesThatCouldAdd,e,()=>[]).push(n)}else if(n instanceof eQ)this._outRules.set(n.key(),n);else throw Error(`This element of ruleset()'s first param wasn't a rule: ${n}`)}against(e){return new eJ(e,this._inRules,this._outRules,this._rulesThatCouldEmit,this._rulesThatCouldAdd,this._coeffs,this.biases)}rules(){return Array.from([...this._inRules,...this._outRules.values()])}}class eJ{constructor(e,t,r,n,o,i,a){this.doc=e,this._inRules=t,this._outRules=r,this._rulesThatCouldEmit=n,this._rulesThatCouldAdd=o,this._coeffs=i,this.biases=a,this._clearCaches(),this.elementCache=new WeakMap,this.doneRules=new Set}setCoeffsAndBiases(e,t=[]){this._coeffs=new Map(e),this.biases=new Map(t),this._clearCaches()}_clearCaches(){this.maxCache=new Map,this.typeCache=new Map}get(e){if("string"==typeof e)if(this._outRules.has(e))return Array.from(this._execute(this._outRules.get(e)));else throw Error(`There is no out() rule with key "${e}".`);if(eC(e))return this.fnodeForElement(e);if(void 0!==e.asLhs){let t=ez(e,eH(Symbol("outKey")));return Array.from(this._execute(t))}throw Error("ruleset.get() expects a string, an expression like on the left-hand side of a rule, or a DOM node.")}weightedScore(e){let t=0;for(let[r,n]of e)t+=n*ed(this._coeffs,r,()=>1);return t}_prerequisitesTo(e,t=new Map){for(let r of e.prerequisites(this))if(!this.doneRules.has(r)){let n=t.has(r);ec(t,r,()=>[]).push(e),n||this._prerequisitesTo(r,t)}return t}_execute(e){let t,r,n=this._prerequisitesTo(e);try{t=[e].concat(em(n.keys(),e=>n.get(e)))}catch(e){if(e instanceof K)throw new K("There is a cyclic dependency in the ruleset.");throw e}for(let e of eE(t))r=e.results(this);return Array.from(r)}inwardRulesThatCouldEmit(e){return ed(this._rulesThatCouldEmit,e,()=>[])}inwardRulesThatCouldAdd(e){return ed(this._rulesThatCouldAdd,e,()=>[])}fnodeForElement(e){return ec(this.elementCache,e,()=>new ej(e,this))}}(c=R||(R={})).LOGIN="login",c.NOOP="noop",c.PASSWORD_CHANGE="password-change",c.RECOVERY="recovery",c.REGISTER="register",(d=S||(S={})).EMAIL="email",d.IDENTITY="identity",d.OTP="otp",d.PASSWORD_CURRENT="password",d.PASSWORD_NEW="new-password",d.USERNAME="username",d.USERNAME_HIDDEN="username-hidden";let e0=Object.values(R),e1=Object.values(S),e5=(...e)=>t=>e.every(e=>e(t)),e2=(...e)=>t=>e.some(e=>e(t)),e6=e=>t=>!e(t),e4=e=>t=>t.some(e),e3="data-protonpass-form",e8="input, select, textarea",e9='input[type="password"], input[type="text"][id="password"]',e7='[role="dialog"], [role="tabpanel"], [role="group"], [role="form"], [id*="modal"], [class*="modal"], header, section, nav, footer, aside',te=[...[1,2,3,4,5].flatMap(e=>[`h${e}, [aria-level="${e}"]`]),'[role="heading"]','[class*="title"]','[class*="header"]','[name="title"]','div[style*="font-size: 2"]','div[style*="font-size: 3"]'].join(","),tt='input[type="submit"],button[id*="password" i],button[type="submit"],button[type="button"],button[name="submit"],a[role="submit"],div[role="button"],div[role="submit"]',tr=`form, [${e3}]`,tn='input:not([type="hidden"]):not([type="submit"]):not([type="button"]):not([type="image"]):not([type="checkbox"])',to=`button:not([type]), a[role="button"], ${tt}`,ti=(e,t)=>{let r=e.parentElement;return r?t(r)?r:ti(r,t):null},ta=(e,t,r=1)=>{let n=null==e?void 0:e.parentElement;if(!n)return null;let o=t(n);return o||r<=0?o:ta(n,t,r-1)},ts=(e,t)=>r=>{let n=e.parentElement;return t<=0||null===n?e:r(n,e)?ts(n,t-1)(r):e},tl=e=>t=>{let r=e.parentElement;return null===r||0===t?e:tl(r)(t-1)},tu=(...e)=>Array.from(new Set(e.flat())),tc=e=>{let{height:t,width:r,top:n,bottom:o}=e.getBoundingClientRect();return{height:t,width:r,top:n,bottom:o,area:t*r}},td=(e,t)=>{let r=e.previousElementSibling;return null===r?null:t(r)?r:td(r,t)},tm=e=>({x:e.left+e.width/2,y:e.top+e.height/2}),tp=(e,t)=>{let r=tm(e),n=tm(t);return{dx:Math.abs(r.x-n.x)-(e.width+t.width)/2,dy:Math.abs(r.y-n.y)-(e.height+t.height)/2}},tg=e=>e.reduce((e,t)=>{for(let r=0;r<=e.length-1;r++)if(e[r]!==t){if(e[r].contains(t))return e;if(t.contains(e[r]))return e[r]=t,e}return e.push(t),e},[]),tf=(e,t)=>e===t||e.contains(t)?e:e.parentElement?tf(e.parentElement,t):e,th=(e,t=[],r)=>{if(t.some(t=>t.contains(e)))return null;let n=e.parentElement;if(0===r||!n)return null;let o=getComputedStyle(n).getPropertyValue("position");return"fixed"===o||"absolute"===o?(t.push(n),n):th(n,t,r-1)},tA=e=>e.setAttribute(e3,""),ty=e=>!0===e.__PP_HIDDEN__,tb=e=>e.__PP_HIDDEN__=!0,tw=e=>null!==e.getAttribute("data-protonpass-ignore"),tv=e=>!0===e.__PP_SKIP__,tC=e=>e.__PP_SKIP__=!0,tE=e=>{tC(e),e.querySelectorAll(e8).forEach(tC)},t_=e=>!0===e.__PP_SEEN__,tT=e=>e.__PP_SEEN__=!0,tR=e=>void 0!==e.__PP_TYPE__,tS=e=>e?ti(e,tR):null,tO=e=>t=>{var r;return(null==(r=t.split(":"))?void 0:r[0])===e},tx=(e,t,r)=>{let n=e.__PP_TYPE__,o=`${t}:${r.toFixed(2)}`;if(!n){e.__PP_TYPE__=o;return}let i=n.split(","),a=i.findIndex(tO(t));-1!==a?i[a]=o:i.push(o),e.__PP_TYPE__=i.join(",")},tN=e=>t=>{let r=t.element.__PP_TYPE__;if(!r)return -1;let n=r.split(",").find(tO(e));if(!n)return -1;let[,o]=n.split(":"),i=parseFloat(o);return Number.isFinite(i)?i:-1},tI=e=>t=>-1!==tN(e)(t),tP=e2(...Object.values(R).map(e=>tI(e))),tF=e2(...Object.values(S).map(e=>tI(e))),tM=e=>!(tR(e)||tv(e)||tw(e)),tL=(e,t)=>{var r;let n=e=>{delete e.__PP_SEEN__,delete e.__PP_TYPE__,t.preserveIgnored||delete e.__PP_SKIP__};n(e),e.querySelectorAll(e8).forEach(n),null==(r=t.fields)||r.forEach(n)},tk=e=>e instanceof ShadowRoot,tD=e=>!!(e.tagName.includes("-")&&e.shadowRoot),tU=function*(e){let t;yield e;let r=e;for(;(t=tB(r))&&(null==t?void 0:t.nodeType)===Node.ELEMENT_NODE;)yield t,r=t},tB=e=>{let t=e.parentNode;return t?tk(t)?t.host:t:null},tG=(e,t)=>{let r=t;if(e.contains(t))return!0;if(!tk(t.getRootNode()))return!1;let n="shadowRoot"in e?e.shadowRoot:null;if(null==n?void 0:n.contains(t))return!0;for(;r;){let t=r.getRootNode();if(t===document||!tk(t))break;let o=t.host;if(o===e||e.contains(o)||(null==n?void 0:n.contains(o)))return!0;r=o}return!1},tH=(e,t)=>{var r,n,o;return e instanceof HTMLElement?null!=(o=null!=(r=e.querySelector(t))?r:null==(n=e.shadowRoot)?void 0:n.querySelector(t))?o:null:e.querySelector(t)},tW=["0","1","true","false"],t$=[[1,"d*"],[6,"d{6}"],[1,"[0-9]*"],[6,"[0-9]{6}"],[5,"([0-9a-fA-F]{5}-?[0-9a-fA-F]{5})"]],tq=["text","email","number","tel","password","hidden","search"],tY=/p(?:rogres(?:s(?:ion|o)|o)|aso)|fortschritt|progress|s(?:chritt|t(?:age|ep))|etap[ae]|phase/i,tj=/schwierigkeit|(?:difficult|troubl|oubli|hilf)e|i(?:nciden(?:cia|t)|ssue)|vergessen|esquecido|olvidado|needhelp|questao|problem|forgot|ayuda/i,tz=/p(?:hrasesecrete|ass(?:(?:phras|cod)e|wor[dt]))|(?:c(?:havesecret|lavesecret|ontrasen)|deseguranc)a|(?:(?:zugangs|secret)cod|clesecret)e|codesecret|motdepasse|geheimnis|secret|heslo|senha|key/i,tV=/identi(?:fiant|ty)|u(?:tilisateur|s(?:ername|uario))|(?:identifi|benutz)er|(?:screen|nick)name|nutzername|(?:anmeld|handl)e|pseudo/i,tK=/co(?:urriel|rrei?o)|email/i,tZ=/digitarnovamente|v(?:olveraescribi|erifi(?:ca|e))r|saisiranouveau|(?:erneuteingeb|wiederhol|bestatig)en|verif(?:izieren|y)|re(?:pe(?:t[ei]r|at)|type)|confirm|again/i,tQ=/\b.*(?:snd|bis|2)$/i,tX=/newsletter|b(?:ul|o)letin|mailing/i,tJ=(e,t)=>{let r,n;return r=t=>e.test(t),n=null!=t?t:{maxLength:5e3,minLength:2},e=>(!n.maxLength||!(e.length>n.maxLength))&&(!n.minLength||!(e.length<n.minLength))&&r(e)},t0=(e,t)=>r=>!tJ(e,t)(r),t1=(e,t)=>e5(...e.map(e=>tJ(e,t))),t5=(e,t)=>e2(...e.map(e=>tJ(e,t))),t2=tJ(/(?:(?:n(?:ouvelleses|uevase|ewses)s|iniciarses|connex)io|anmeldedate|sign[io])n|in(?:iciarsessao|troduce)|a(?:uthenticate|nmeld(?:ung|en))|authentifier|s(?:econnect|identifi)er|novasessao|(?:introduci|conecta|entr[ae])r|prihlasit|connect|acceder|login/i),t6=tJ(/kontoerstellen|cr(?:ea(?:teaccount|rcuenta)|iarconta)|(?:nouveaucompt|creeruncompt|s?inscrir|unirs)e|re(?:gist(?:r(?:ieren|arse|ar)|er)|joindre)|nuevacuenta|getstarted|neueskonto|newaccount|novaconta|(?:com(?:mence|eca)|(?:empez|junt)a)r|signup|join/i),t4=tJ(tV),t3=t5([/identifyemail|(?:custom|us)erid|loginname|a(?:cc(?:ountid|t)|ppleid)|loginid/i,tV]),t8=tJ(/^[\w\-\.]{7,30}$/),t9=tJ(/(?:nom(?:defamill|br)|tit[lr])e|(?:primeiro|sobre)nome|(?:company|middle|nach|vor)name|firstname|apellido|lastname|prenom/i),t7=t5([/usermail/i,tK]),re=tJ(/^[\w\-\.]+@([\w-]+\.)+[\w-]{2,5}$/,{maxLength:230,minLength:5}),rt=e2(tJ(tK),re),rr=tJ(/^[\d()+-]{6,25}$/,{maxLength:25,minLength:6}),rn=tJ(/angemeldetbleiben|lembrardemim|micherinnern|sesouvenirde|re(?:cordarme|member|ster)|manterme|mantener|stay|keep/i),ro=tJ(/(?:datenschutzrichtlini|politicadeprivacidad|confidentialit|a(?:cknowledg|gre))e|nutzungsbedingungen|(?:consentimi?ent|ac(?:ue|o)rd)o|(?:einwillig|zustimm)ung|consentement|condi(?:cione|tion)s|term(?:osdeuso|inos|sof)|(?:privacida|understan)d|guideline|consent|p(?:riva|oli)cy|accord/i),ri=tJ(tj),ra=t5([/(?:wiederherstell|zurucksetz)en|re(?:(?:initialis|stablec)er|(?:defini|staur[ae])r|c(?:uper[ae]|ove)r|set)|problem|(?:troubl|restor|aid)e|a[jy]uda|h(?:ilfe|elp)/i,tj]),rs=tJ(tY),rl=t5([/(?:f(?:ertigstell|ortfahr)|abschlie)en|getstarted|siguiente|(?:preceden|suivan|accep)t|(?:finaliza|termin[ae]|anterio|weite)r|co(?:mplet(?:ar|e)|ntinu(?:ar|e))|pro(?:c(?:hain|eed)|ximo)|finish|zuruck|back|next/i,tY]),ru=tJ(/facebook|twitch|google|apple/i),rc=tJ(/recherche|buscar|s(?:earch|uche)|query/i),rd=e5(t1([tz,/(?:a(?:ktualisiere|nder)|zurucksetze)n|(?:re(?:initialise|stablece|defini)|mettreajou)r|a(?:ctualiz|tualiz|lter)ar|c(?:ambiar|hange)|update|reset/i]),t0(tZ)),rm=e5(rd,t0(tQ)),rp=e5(t1([tz,/erstellen|n(?:o(?:uveau|vo)|uevo|e[uw])|cr(?:e(?:a(?:te|r)|er)|iar)|set/i]),t0(tZ)),rg=e5(rp,t0(tQ)),rf=t1([tz,tZ]),rh=e5(t1([tz,tZ]),t0(/\b.*(?:fst|1)$/i)),rA=e5(t1([tz,/(?:be(?:stehend|for)|vorherig|aktuell)e|exist(?:ente|ing)|pre(?:cedent|vious)|a(?:n(?:t(?:erior|igo)|cien)|ctu[ae]l|tual)|existant|dernier|current|(?:ultim|viej)o|(?:letz|al)te|last|old/i]),t0(tZ)),ry=e5(rA,t0(tQ)),rb=tJ(/socialsecurity|nationalid|userid/i),rw=tJ(/s(?:creenreade)?ronly|(?:move)?offscreen|(?:displaynon|a11yhid)e|\b((?:is)?hidden)\b/i),rv=tJ(/(?:authentifizierung|doisfatore|doispasso)s|(?:auth(?:entication)?cod|securitycod|doubleetap)e|(?:authentication|generator)app|(?:(?:authentifica|doublefac)teu|(?:(?:authentifika|doblefac|zweifak|twofac)t|aut(?:henticat|enticad))o)r|verifica(?:c(?:ion|ao)|tion)|multifa(?:ct(?:eu|o)|k?to)r|zweischritte|generadora|doblepaso|2(?:s(?:chritte|tep)|(?:etap[ae]|paso)s|fa)|twostep/i),rC=tJ(/phoneverification|(?:approvals|login)code|challenge|t(?:wo(?:fa(?:ctor)?|step)|facode)|2fa|\b([mt]fa)\b/i),rE=tJ(/totp(?:pin)?|o(?:netime|t[cp])|1time/i),r_=t5([/(?:phone(?:verification)?|email|tel)pin|email|sms/i,/n(?:(?:ue|o)vocodigo|ouveaucode|e(?:usenden|(?:uer|w)code))|re(?:enviar|send)|envoyer|senden|enviar|send/i]),rT=tJ(tX);t5([tX,/subscription|mailinglist|newsletter|emailform/i]);let rR=e5(tJ(/addresscontact|contactperson|addressname|yourname|fullname|\b(name)\b/i),e=>!e.includes("[name]")),rS=tJ(/givenname|firstn(?:ame)?|\b(fname)\b/i),rO=tJ(/additionalname|middlen(?:ame)?|\b(mname)\b/i),rx=tJ(/familyn(?:ame)?|lastn(?:ame)?|surname|\b([ls]name)\b/i),rN=e5(tJ(/(?:national|contact)number|tel(?:nation|loc)al|(?:tele)?phone|mobile|\b(tel)\b/i),t0(/co(?:untry|de)|prefix/i)),rI=tJ(/organization(?:name)?|companyname|\b(organization)\b/i),rP=tJ(/address(?:level2|town|city)|personalcity|\b((?:local|c)ity|town)\b/i),rF=tJ(/(?:address(?:postal|zip)|post)code|address(?:postal|zip)|postalcode|zipcode|\b(zip)\b/i),rM=tJ(/address(?:(?:provinc|stat)e|level1)|stateprovince|\b(province|county|region|state)\b/i),rL=e5(tJ(/addresscountry(?:name)?|countryname|\b(country)\b/i),t0(/countrycode/i)),rk=e5(tJ(/(?:preferred|street)address|address(?:line(?:one|[1s])|1)|mailingaddr|bill(?:ing)?addr|\b(mailaddr|addr(?:ess)?|street|line1)\b/i),t0(/\b.*(?:line(?:t(?:hree|wo)|[23]))$/i)),rD=(e,t="")=>e.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(RegExp(`[^a-zA-Z0-9${t}]`,"g"),""),rU=e=>rD(e,"\\s\\[\\]"),rB={},rG=e=>{var t;return rB[e]=null!=(t=rB[e])?t:new WeakMap},rH=(e,t)=>{var r;let n=rG("visibility:op"),o=rG("visibility");return t.opacity&&null!=(r=n.get(e))?r:o.get(e)},rW=e=>(t,r)=>t.forEach(t=>e.set(t,r)),r$=(e,t)=>e.top<=t.bottom&&e.bottom>=t.top&&e.left<=t.right&&e.right>=t.left,rq=e=>e.width<=1||e.height<=1,rY=(e,t)=>{let r=!t.skipCache,n=eT.toDomElement(e),o=[],i=!1,a=rG(t.opacity?"visibility:op":"visibility"),s=rH(n,t);if(r&&void 0!==s)return s;let l=eT.windowForElement(n),u=l.document,c=l.innerWidth||u.documentElement.clientWidth,d=l.innerHeight||u.documentElement.clientHeight,m=Math.max(c,u.documentElement.scrollWidth,u.body.scrollWidth),p=Math.max(d,u.documentElement.scrollHeight,u.body.scrollHeight),{scrollX:g,scrollY:f}=l,h=({x:e,y:t,width:r,height:n})=>e+g+r>=0&&e+g<=m-16&&t+f+n>=0&&t+f<=p-16,A=(()=>{var e;let a=null;for(let s of tU(n)){let n=null,c=()=>n=null!=n?n:s.getBoundingClientRect();if(s===u.body)return null==a||!a.absolute||h(a.rect);let d=rH(s,t);if(r&&void 0!==d)return d;let{opacity:m,display:p,position:g,overflow:f,visibility:A}=l.getComputedStyle(s);if(o.push(s),0===Math.floor(10*parseFloat(m))&&t.opacity)return i=!0,!1;if("hidden"===A||"hidden"===f&&((null==a?void 0:a.rect)&&!r$(a.rect,c())||rq(c())))return!1;if((null==a?void 0:a.absolute)&&"static"===g){o.pop();continue}if("absolute"===g&&!h(c()))return!1;if("fixed"===g)return h(null!=(e=null==a?void 0:a.rect)?e:c());if("contents"===p){a=null;continue}(a=null!=a?a:{rect:c()}).rect=c(),a.absolute="absolute"===g}return!0})();return r&&(t.opacity&&(A||!i?rW(rG("visibility"))(o,A):rW(rG("visibility"))(o.slice(0,-1),A)),rW(a)(o,A)),A},rj=(e,t)=>{let r=rG(`${t.minWidth}:${t.minHeight}`);if(r.has(e))return r.get(e);let n=(()=>{if(0===e.getClientRects().length)return!1;let r=Array.from(e.classList).map(rU);if(e4(rw)(r))return!1;let{visibility:n,display:o,maxHeight:i}=getComputedStyle(e);return"hidden"!==n&&"none"!==o&&"0px"!==i&&0!==e.offsetHeight&&0!==e.offsetWidth&&!(e.offsetHeight<t.minHeight)&&!(e.offsetWidth<t.minWidth)&&!0})();return rW(r)([e],n),n},rz=e=>rj(e,{minHeight:0,minWidth:0}),rV=(e,t={})=>{let r=(()=>{if(!rY(e,Object.assign({opacity:!0},t)))return!1;if(tD(e)||tk(e.getRootNode()))return!0;let r=Array.from(e.querySelectorAll(tn)).filter(e=>!e.disabled);return r.length>0&&r.some(e=>rY(e,Object.assign({opacity:!1},t)))})();return r||tb(e),r},rK=e=>{if(e instanceof HTMLInputElement){let{type:t,disabled:r,readOnly:n}=e;if("hidden"===t||r||n||"true"===e.getAttribute("aria-hidden"))return!1}return rj(e,{minHeight:15,minWidth:30})},rZ=new Set,rQ=new Set,rX=()=>Array.from(rZ),rJ=()=>Array.from(rQ),r0=[ez(new eP(rX),eq("override-form"),{}),ez(new eP(rJ),eq("override-field"),{}),ez(eq("override-form").when(e=>tP(e)&&rV(e.element)),eq("form-candidate"),{}),ez(eq("override-field").when(e=>tF(e)&&rK(e.element)),eq("field-candidate"),{})],r1=["id","class","role","jsaction","ng-controller","data-bind","ng-model","v-model","v-bind","data-testid","href"],r5=[r1,"name","action"].flat(),r2=[r1,"name","inputmode"].flat(),r6=e=>t=>e.filter(e=>"data-fathom"!==e).map(e=>t.getAttribute(e)).filter(Boolean).map(rU),r4=r6(r1),r3=r6(["title","aria-label","aria-labelledby","aria-describedby","placeholder","autocomplete","legend"]),r8=r6(r2),r9=r6(r5),r7=e=>{let t=r3(e).join("");return rD(`${e.innerText}${t}`,"\\[\\]")},ne=e=>rU(r4(e).join("")),nt=e=>[r7(e),ne(e)],nr=e=>{let t,r=e instanceof HTMLInputElement&&"hidden"===e.type,n=e instanceof HTMLInputElement&&["text","email","tel","password"].includes(e.type);return{fieldAttrs:r8(e),fieldText:r?"":r7(e),labelText:n&&!r&&(t=(e=>{var t;let r=null!=(t=e.getAttribute("id"))?t:e.getAttribute("name"),n=document.querySelector(`label[for="${r}"]`);if(n)return n;let o=e.closest("label");return o?o:ta(e,e=>e.querySelector("label"),1)||td(e,e=>e instanceof HTMLElement&&e.innerText.trim().length>0)||null})(e))?r7(t):""}},nn=e=>{let{fieldAttrs:t,fieldText:r,labelText:n}=nr(e);return[r,n,...t]},no=(e,t=0)=>Number.isFinite(e)?e:t,ni=e=>t=>(e(t),t),na=ni(e=>tT(e.element)),ns=ni(e=>{let{visible:t,type:r}=e.noteFor("field");(t||"hidden"===r)&&tT(e.element)}),nl=(e,t)=>new eY({method:"score",args:[r=>{let n=r.noteFor(e);return Array.isArray(t)?t.map(e=>n[e]).reduce((e,t)=>e*t):n[t]}]}),nu=e=>{let t=e.element,r=e._ruleset,n=r.get(eq("form")).find(({element:e})=>e.contains(t));if(n)return n;let o=tS(t);return o?r.get(o):null},nc=e=>t=>t.scoreFor(e)>.5,nd=(e,t)=>{var r;return e?e.hasNoteFor(`${t}-prediction`)?null!=(r=e.noteFor(`${t}-prediction`))?r:0:e.scoreFor(t):0},nm=(e,t,r=nc)=>[ez(eq(e).when(tI(t)),eq(`${t}-prediction`).note(tN(t)),{}),ez(eq(t).when(r(t)),eq(`${t}-prediction`),{}),ez(eq(`${t}-prediction`),eH(t).through(ni(e=>{tT(e.element),e.hasNoteFor(`${t}-prediction`)||tx(e.element,t,nd(e,t))})),{})],np=(e,t)=>e.flatMap(e=>t.map(t=>[e,t])),ng=e=>t=>e(t.element),nf=e=>{let t=nd(e,R.LOGIN)>.5,r=nd(e,R.REGISTER)>.5,n=nd(e,R.PASSWORD_CHANGE)>.5,o=nd(e,R.RECOVERY)>.5,i=[t,r,n,o].every(e=>!e);return{login:t,register:r,pwChange:n,recovery:o,noop:i}},nh=e=>e.reduce((e,t)=>(rK(t)?e[0].push(t):e[1].push(t),e),[[],[]]),nA=e=>t=>e.includes(t.element.type),ny=e=>t=>t.element.matches(e),nb=e=>t=>t.element.inputMode===e,nw=e=>(e=>{let{visible:t,readonly:r,disabled:n}=e.noteFor("field");return t&&!r&&!n})(e),nv=e=>"list"===e.element.getAttribute("aria-autocomplete")||"combobox"===e.element.role,nC=e5(e6(nv),e2(nA(["email","text"]),nb("email")),nw),nE=e5(ny(e9),nw),n_=e5(e6(nv),ny('[type="tel"], [type="number"], [type="text"], input:not([type])'),nw),nT=e5(e6(nv),e2(e5(e6(nb("email")),nA(["text","tel"])),ny('input[type="login"],input[type="username"],input[type="search"][name="loginName"],input[type="password"][name="userID"],input[type="password"][name="USERNAME"],input[name="account"],input[name="quickconnect-id"]')),nw),nR=e5(e6(nv),nA(["email","text","hidden"]),e6(nw)),nS=e=>!e.matches('input[type="email"]')&&e4(t4)(nn(e)),nO=e=>e.matches('input[type="email"]')||e4(rt)(nn(e)),nx=e=>e4(ru)(nn(e)),nN=e=>"submit"===e.getAttribute("type")||!(e.innerText.trim().length<=1)&&e.offsetHeight*e.offsetWidth>3500,nI=e=>{let t=t_(e),r=ty(e);return(!t||r)&&rK(e)&&rY(e,{opacity:!1})},nP=(e=document)=>Array.from(e.querySelectorAll(tn)).filter(tM),nF=(e=document)=>Array.from(e.querySelectorAll(tr)).filter(e=>!tv(e)&&!tw(e)),{linearScale:nM}=eT,nL=e=>{var t,r,n;let o,i,a,s,l,u,c,d,m=e.element,p=ts(m,3)(e=>e.querySelectorAll(tr).length<=1),g=Array.from(m.querySelectorAll(e8)),f=g.filter(rK),h=m.ownerDocument,A=g.filter(e=>e.matches('input:not([type="submit"])')),y=f.filter(e=>e.matches('input:not([type="submit"])')),b=m.querySelectorAll("fieldset"),w=f.filter(e=>e.matches("textarea")),v=f.filter((e,t,r)=>{var n;return e.matches("select")&&(null==(n=null==r?void 0:r[t+1])?void 0:n.type)!=="tel"}),C=v.reduce((e,t)=>e+t.querySelectorAll("option").length,0),E=f.filter(e=>e.matches('[type="submit"]')),_=A.filter(e=>e.matches('[type="hidden"]')),T=y.filter(e=>e.matches('[type="text"]')),R=A.filter(nS),S=A.filter(nO),O=A.filter(e=>e.matches('[type="tel"]')),x=A.filter(e=>e.matches(e9)),[N,I]=nh(tu(R,S,O)),[P,F]=nh(x),M=y.filter(e=>e.matches('[type="radio"]')),L=y.filter(e=>e.matches('[type="checkbox"]')),k=y.filter(e=>e.matches('[type="number"]')),D=y.filter(e=>e.matches('[type="date"]')),U=y.filter(e=>e.matches('[type="file"]')),B=O.concat(k).concat(T),G=y.filter(e=>e.matches("[required]")),H=y.filter(e=>e.matches("[pattern]")),W=y.filter(e=>e.matches("[minLength], [maxLength]")),$=y.find(e=>e.matches("input[autofocus]:first-of-type")),q=p.querySelectorAll('[class*="captcha"], [id*="captcha"], [name*="captcha"]'),Y=Array.from(p.querySelectorAll("[class*=social], [aria-label*=with]")),j=Array.from(m.querySelectorAll(to)),z=j.filter(e=>e.matches('[type="submit"]')),V=j.filter(nN),K=z.length>0?z:V,Z=Array.from(m.querySelectorAll('a, span[role="button"]')).filter(rz),Q=Y.concat(V).filter(nx),X=Array.from(m.querySelectorAll("div, section, aside, main, nav")),J=!!($&&N.includes($)),ee=!!($&&P.includes($)),et=(o=h.title,a=null!=(t=null==(i=h.querySelector('meta[name="description"]'))?void 0:i.getAttribute("content"))?t:"",rD(`${o} ${a}`,"\\[\\]")),er=(s=m.getBoundingClientRect(),rD((null!=(n=null==(r=0===(l=Array.from(ts(m,3)((e,t)=>!(e===document.body||t.matches(e7))).querySelectorAll(te)).filter(e=>{if(m.contains(e))return!0;let{dx:t,dy:r}=tp(s,e.getBoundingClientRect());return t<75&&r<150})).length?td(m,e=>e instanceof HTMLElement&&e.innerText.trim().length>0):null)?void 0:r.innerText)?n:"")+l.map(e=>e.innerText).join(""),"\\[\\]")),en=(u=r3(m).join(""),c=Array.from(m.querySelectorAll("fieldset")),rD(`${u}${c.reduce((e,t)=>e.concat(r3(t).join("")),"")}`,"\\[\\]")),eo=r9(m),ei=x.flatMap(nn),ea=N.flatMap(nn),es=V.flatMap(nn),el=K.flatMap(nn),eu=L.flatMap(nn),ec=Z.flatMap(nt),ed=B.flatMap(nn),em=X.map(ne),ep=[en,en,er],eg=t2(et),ef=t2(en),eh=e4(t2)(eo),eA=t2(er),ey=e4(t2)(em),eb=e4(rn)(eu),ew=e4(t2)(el),ev=e4(ri)(ec),eC=t6(et),eE=t6(en),e_=e4(t6)(eo),eT=t6(er),eR=e4(t6)(em),eS=e4(ro)(eu.concat(ec)),eO=e4(t6)(el),ex=e4(rg)(ei),eN=e4(rh)(ei),eI=rd(et),eP=rd(en),eF=e4(rm)(eo),eM=rd(er),eL=e4(rm)(em),ek=ra(et),eD=ra(en),eU=e4(ra)(eo),eB=ra(er),eG=e4(ra)(em),eH=e4(ra)(el),eW=e4(ra)(ea),e$=e4(rC)(ed),eq=e4(rE)(ed),eY=rv(en.concat(er)),ej=e4(rC)(eo),ez=e4(r_)(eo),eV=e4(r_)(ec.concat(es)),eK=e4(rT)(ep),eZ=e4(rc)(ep),eQ=e4(rl)(el),eX=rs(er);return{fieldsCount:nM(f.length,1,5),inputCount:nM(y.length,1,5),fieldsetCount:nM(b.length,1,5),textCount:nM(T.length,0,3),textareaCount:nM(w.length,0,2),selectCount:nM(v.length,0,2),optionsCount:nM(C,0,5),checkboxCount:nM(L.length,0,2),radioCount:nM(M.length,0,5),identifierCount:nM(N.length,0,2),hiddenIdentifierCount:nM(I.length,0,2),hiddenCount:nM(_.length,0,5),passwordCount:nM(P.length,0,2),hiddenPasswordCount:nM(F.length,0,2),usernameCount:nM(R.length,0,2),emailCount:nM(S.length,0,2),submitCount:nM(E.length,0,2),hasTels:Number(O.length>0),hasOAuth:Number(Q.length>0),hasCaptchas:Number(q.length>0),hasFiles:Number(U.length>0),hasDate:Number(D.length>0),hasNumber:Number(k.length>0),oneVisibleField:Number(1===y.length),twoVisibleFields:Number(2===y.length),threeOrMoreVisibleFields:Number(y.length>=3),noPasswords:Number(0===P.length),onePassword:Number(1===P.length),twoPasswords:Number(2===P.length),threeOrMorePasswords:Number(P.length>=3),noIdentifiers:Number(0===N.length),oneIdentifier:Number(1===N.length),twoIdentifiers:Number(2===N.length),threeOrMoreIdentifiers:Number(N.length>=3),autofocusedIsIdentifier:Number(J),autofocusedIsPassword:Number(ee),visibleInputsCount:no(y.length),inputRatio:no(A.length/g.length),hiddenRatio:no(_.length/g.length),visibleRatio:no(y.length/g.length),identifierRatio:no(N.length/f.length),emailRatio:no(S.length/f.length),usernameRatio:no(R.length/f.length),passwordRatio:no(P.length/f.length),checkboxRatio:no(L.length/f.length),requiredRatio:no(G.length/f.length),patternRatio:no(H.length/f.length),minMaxLengthRatio:no(W.length/f.length),pageLogin:Number(eg),formTextLogin:Number(ef),formAttrsLogin:Number(eh),headingsLogin:Number(eA),layoutLogin:Number(ey),rememberMeCheckbox:Number(eb),troubleLink:Number(ev),submitLogin:Number(ew),pageRegister:Number(eC),formTextRegister:Number(eE),formAttrsRegister:Number(e_),headingsRegister:Number(eT),layoutRegister:Number(eR),pwNewRegister:Number(ex),pwConfirmRegister:Number(eN),submitRegister:Number(eO),TOSRef:Number(eS),pagePwReset:Number(eI),formTextPwReset:Number(eP),formAttrsPwReset:Number(eF),headingsPwReset:Number(eM),layoutPwReset:Number(eL),pageRecovery:Number(ek),formTextRecovery:Number(eD),formAttrsRecovery:Number(eU),headingsRecovery:Number(eB),layoutRecovery:Number(eG),identifierRecovery:Number(eW),submitRecovery:Number(eH),formMFA:Number(eY||ej),formTextMFA:Number(eY),formAttrsMFA:Number(ej),formOTPOutlier:Number(ez),linkOTPOutlier:Number(eV),inputsMFA:Number(e$),inputsOTP:Number(eq),newsletterForm:Number(eK),searchForm:Number(eZ),multiStepForm:Number(eQ||eX),multiAuthForm:Number(eO&&ew),formInputIterator:(d=Array.from(m.querySelectorAll(tn)).filter(rK),{prev(e){var t;let r=d.indexOf(e);return -1===r?null:null!=(t=null==d?void 0:d[r-1])?t:null},next(e){var t;let r=d.indexOf(e);return -1===r?null:null!=(t=null==d?void 0:d[r+1])?t:null}})}},nk=["fieldsCount","inputCount","fieldsetCount","textCount","textareaCount","selectCount","optionsCount","radioCount","identifierCount","hiddenIdentifierCount","usernameCount","emailCount","hiddenCount","hiddenPasswordCount","submitCount","hasTels","hasOAuth","hasCaptchas","hasFiles","hasDate","hasNumber","oneVisibleField","twoVisibleFields","threeOrMoreVisibleFields","noPasswords","onePassword","twoPasswords","threeOrMorePasswords","noIdentifiers","oneIdentifier","twoIdentifiers","threeOrMoreIdentifiers","autofocusedIsIdentifier","autofocusedIsPassword","visibleRatio","inputRatio","hiddenRatio","identifierRatio","emailRatio","usernameRatio","passwordRatio","requiredRatio","checkboxRatio","pageLogin","formTextLogin","formAttrsLogin","headingsLogin","layoutLogin","rememberMeCheckbox","troubleLink","submitLogin","pageRegister","formTextRegister","formAttrsRegister","headingsRegister","layoutRegister","pwNewRegister","pwConfirmRegister","submitRegister","TOSRef","pagePwReset","formTextPwReset","formAttrsPwReset","headingsPwReset","layoutPwReset","pageRecovery","formTextRecovery","formAttrsRecovery","headingsRecovery","layoutRecovery","identifierRecovery","submitRecovery","formTextMFA","formAttrsMFA","inputsMFA","inputsOTP","newsletterForm","searchForm","multiStepForm","multiAuthForm",...np(["visibleRatio","identifierRatio","passwordRatio","requiredRatio"],["fieldsCount","identifierCount","passwordCount","hiddenIdentifierCount","hiddenPasswordCount","multiStepForm"])],nD=[["login-fieldsCount",6.9117207527160645],["login-inputCount",3.822486400604248],["login-fieldsetCount",-18.91722297668457],["login-textCount",-10.360284805297852],["login-textareaCount",-5.995274066925049],["login-selectCount",-6.1306281089782715],["login-optionsCount",-6.087420463562012],["login-radioCount",-5.951887607574463],["login-identifierCount",-2.899953842163086],["login-hiddenIdentifierCount",8.090394973754883],["login-usernameCount",2.0640110969543457],["login-emailCount",-9.865800857543945],["login-hiddenCount",5.637701988220215],["login-hiddenPasswordCount",9.23979377746582],["login-submitCount",-2.284073829650879],["login-hasTels",-6.52845573425293],["login-hasOAuth",6.302763938903809],["login-hasCaptchas",2.9789769649505615],["login-hasFiles",-6.02401876449585],["login-hasDate",-19.489826202392578],["login-hasNumber",-5.951311111450195],["login-oneVisibleField",5.676862716674805],["login-twoVisibleFields",7.535869598388672],["login-threeOrMoreVisibleFields",-1.3183695077896118],["login-noPasswords",-13.081375122070313],["login-onePassword",10.25524616241455],["login-twoPasswords",-11.755972862243652],["login-threeOrMorePasswords",-6.044548988342285],["login-noIdentifiers",-8.970521926879883],["login-oneIdentifier",-2.0764057636260986],["login-twoIdentifiers",-2.4918956756591797],["login-threeOrMoreIdentifiers",-8.593513488769531],["login-autofocusedIsIdentifier",8.622314453125],["login-autofocusedIsPassword",14.90038013458252],["login-visibleRatio",7.558108329772949],["login-inputRatio",-4.814621925354004],["login-hiddenRatio",-5.744090557098389],["login-identifierRatio",10.3085298538208],["login-emailRatio",1.5703213214874268],["login-usernameRatio",-7.5780768394470215],["login-passwordRatio",-1.3385310173034668],["login-requiredRatio",1.6504578590393066],["login-checkboxRatio",26.39185333251953],["login-pageLogin",13.974407196044922],["login-formTextLogin",8.543004989624023],["login-formAttrsLogin",2.1100170612335205],["login-headingsLogin",13.746389389038086],["login-layoutLogin",.20221181213855743],["login-rememberMeCheckbox",8.348167419433594],["login-troubleLink",12.179048538208008],["login-submitLogin",13.702370643615723],["login-pageRegister",-13.799778938293457],["login-formTextRegister",-.044963739812374115],["login-formAttrsRegister",-19.146482467651367],["login-headingsRegister",-10.542322158813477],["login-layoutRegister",-2.3833038806915283],["login-pwNewRegister",-17.38996696472168],["login-pwConfirmRegister",-11.91733455657959],["login-submitRegister",-12.17735481262207],["login-TOSRef",-5.637410640716553],["login-pagePwReset",-10.309855461120605],["login-formTextPwReset",-6.101982116699219],["login-formAttrsPwReset",-11.729959487915039],["login-headingsPwReset",-12.499267578125],["login-layoutPwReset",-2.965204954147339],["login-pageRecovery",.14035266637802124],["login-formTextRecovery",.03439144045114517],["login-formAttrsRecovery",-22.603046417236328],["login-headingsRecovery",-10.492897033691406],["login-layoutRecovery",5.598866939544678],["login-identifierRecovery",4.300655364990234],["login-submitRecovery",-12.31758975982666],["login-formTextMFA",-14.27755069732666],["login-formAttrsMFA",-19.56307029724121],["login-inputsMFA",-19.59412384033203],["login-inputsOTP",-16.51680564880371],["login-newsletterForm",-9.028794288635254],["login-searchForm",-6.545746803283691],["login-multiStepForm",-1.8370318412780762],["login-multiAuthForm",15.096943855285645],["login-visibleRatio,fieldsCount",-6.863025188446045],["login-visibleRatio,identifierCount",-11.385756492614746],["login-visibleRatio,passwordCount",13.88270378112793],["login-visibleRatio,hiddenIdentifierCount",-4.858383655548096],["login-visibleRatio,hiddenPasswordCount",-12.938082695007324],["login-visibleRatio,multiStepForm",5.489163875579834],["login-identifierRatio,fieldsCount",-20.94881820678711],["login-identifierRatio,identifierCount",9.301095962524414],["login-identifierRatio,passwordCount",-8.721858978271484],["login-identifierRatio,hiddenIdentifierCount",-2.131696939468384],["login-identifierRatio,hiddenPasswordCount",16.711109161376953],["login-identifierRatio,multiStepForm",11.259562492370605],["login-passwordRatio,fieldsCount",11.20872974395752],["login-passwordRatio,identifierCount",-8.333873748779297],["login-passwordRatio,passwordCount",-3.4213614463806152],["login-passwordRatio,hiddenIdentifierCount",21.96377182006836],["login-passwordRatio,hiddenPasswordCount",34.9525146484375],["login-passwordRatio,multiStepForm",-12.636921882629395],["login-requiredRatio,fieldsCount",13.960801124572754],["login-requiredRatio,identifierCount",-5.709250450134277],["login-requiredRatio,passwordCount",8.685138702392578],["login-requiredRatio,hiddenIdentifierCount",-20.684762954711914],["login-requiredRatio,hiddenPasswordCount",17.758085250854492],["login-requiredRatio,multiStepForm",14.86757755279541]],nU={name:R.LOGIN,coeffs:nk.map(e=>{var t,r;return[`login-${e}`,null!=(r=null==(t=nD.find(([t])=>t===`login-${e}`))?void 0:t[1])?r:0]}),bias:-6.360585689544678,cutoff:.49,getRules:()=>[ez(eq("form"),eq(R.LOGIN),{}),...nk.map(e=>ez(eq(R.LOGIN),nl("form",e),{name:`login-${e}`})),...nm("form-candidate",R.LOGIN)]},nB=[["pw-change-fieldsCount",-3.3321454524993896],["pw-change-inputCount",-3.0804550647735596],["pw-change-fieldsetCount",-5.934694766998291],["pw-change-textCount",-6.049551486968994],["pw-change-textareaCount",-6.0787129402160645],["pw-change-selectCount",-5.987492084503174],["pw-change-optionsCount",-6.083714485168457],["pw-change-radioCount",-6.052059173583984],["pw-change-identifierCount",-5.403328895568848],["pw-change-hiddenIdentifierCount",-4.4229230880737305],["pw-change-usernameCount",-6.04349422454834],["pw-change-emailCount",-4.912832736968994],["pw-change-hiddenCount",-3.4236717224121094],["pw-change-hiddenPasswordCount",-5.930105209350586],["pw-change-submitCount",-3.8625235557556152],["pw-change-hasTels",-6.051826000213623],["pw-change-hasOAuth",-6.006768226623535],["pw-change-hasCaptchas",-6.024316310882568],["pw-change-hasFiles",-6.003083229064941],["pw-change-hasDate",-6.042792320251465],["pw-change-hasNumber",-8.931044578552246],["pw-change-oneVisibleField",-5.420173645019531],["pw-change-twoVisibleFields",-3.1558315753936768],["pw-change-threeOrMoreVisibleFields",-1.8346830606460571],["pw-change-noPasswords",-6.032570838928223],["pw-change-onePassword",-5.337682247161865],["pw-change-twoPasswords",7.295647144317627],["pw-change-threeOrMorePasswords",21.68557357788086],["pw-change-noIdentifiers",-2.4498164653778076],["pw-change-oneIdentifier",-6.094106197357178],["pw-change-twoIdentifiers",-5.916845321655273],["pw-change-threeOrMoreIdentifiers",1.6939911842346191],["pw-change-autofocusedIsIdentifier",-6.033471584320068],["pw-change-autofocusedIsPassword",15.131577491760254],["pw-change-visibleRatio",-4.09120512008667],["pw-change-inputRatio",-4.173065185546875],["pw-change-hiddenRatio",-3.4960551261901855],["pw-change-identifierRatio",-5.710056781768799],["pw-change-emailRatio",-5.21774435043335],["pw-change-usernameRatio",-6.235389232635498],["pw-change-passwordRatio",4.32260274887085],["pw-change-requiredRatio",-2.6061058044433594],["pw-change-checkboxRatio",-5.914191722869873],["pw-change-pageLogin",-6.2052154541015625],["pw-change-formTextLogin",-6.029303073883057],["pw-change-formAttrsLogin",-6.053979873657227],["pw-change-headingsLogin",-5.993305683135986],["pw-change-layoutLogin",-6.096299648284912],["pw-change-rememberMeCheckbox",-6.082805156707764],["pw-change-troubleLink",-3.7113256454467773],["pw-change-submitLogin",-6.145804405212402],["pw-change-pageRegister",-5.985432147979736],["pw-change-formTextRegister",-.03591149300336838],["pw-change-formAttrsRegister",-6.035892963409424],["pw-change-headingsRegister",-6.411230087280273],["pw-change-layoutRegister",-6.010503768920898],["pw-change-pwNewRegister",13.145064353942871],["pw-change-pwConfirmRegister",7.383437633514404],["pw-change-submitRegister",-7.358190059661865],["pw-change-TOSRef",-6.726124286651611],["pw-change-pagePwReset",15.504810333251953],["pw-change-formTextPwReset",22.969263076782227],["pw-change-formAttrsPwReset",14.371417045593262],["pw-change-headingsPwReset",18.480045318603516],["pw-change-layoutPwReset",16.99905014038086],["pw-change-pageRecovery",-6.04259729385376],["pw-change-formTextRecovery",-.04274427890777588],["pw-change-formAttrsRecovery",-6.037948131561279],["pw-change-headingsRecovery",-3.522164821624756],["pw-change-layoutRecovery",-4.054919242858887],["pw-change-identifierRecovery",-5.953251361846924],["pw-change-submitRecovery",4.2396721839904785],["pw-change-formTextMFA",-5.927785396575928],["pw-change-formAttrsMFA",-5.923059463500977],["pw-change-inputsMFA",-5.985617160797119],["pw-change-inputsOTP",-5.914240837097168],["pw-change-newsletterForm",-5.989622116088867],["pw-change-searchForm",-5.92101526260376],["pw-change-multiStepForm",-5.9458184242248535],["pw-change-multiAuthForm",-6.091955184936523],["pw-change-visibleRatio,fieldsCount",-3.3477888107299805],["pw-change-visibleRatio,identifierCount",-5.617403984069824],["pw-change-visibleRatio,passwordCount",3.3302927017211914],["pw-change-visibleRatio,hiddenIdentifierCount",-2.4642622470855713],["pw-change-visibleRatio,hiddenPasswordCount",-6.048635959625244],["pw-change-visibleRatio,multiStepForm",-5.95064115524292],["pw-change-identifierRatio,fieldsCount",-4.540703296661377],["pw-change-identifierRatio,identifierCount",-5.502275466918945],["pw-change-identifierRatio,passwordCount",-4.315083026885986],["pw-change-identifierRatio,hiddenIdentifierCount",-6.072136878967285],["pw-change-identifierRatio,hiddenPasswordCount",-5.912572383880615],["pw-change-identifierRatio,multiStepForm",-5.936649322509766],["pw-change-passwordRatio,fieldsCount",5.619084358215332],["pw-change-passwordRatio,identifierCount",-4.406495571136475],["pw-change-passwordRatio,passwordCount",9.266096115112305],["pw-change-passwordRatio,hiddenIdentifierCount",-.12468687444925308],["pw-change-passwordRatio,hiddenPasswordCount",-6.000542163848877],["pw-change-passwordRatio,multiStepForm",-5.978328227996826],["pw-change-requiredRatio,fieldsCount",-3.897763729095459],["pw-change-requiredRatio,identifierCount",-6.03505802154541],["pw-change-requiredRatio,passwordCount",3.800820827484131],["pw-change-requiredRatio,hiddenIdentifierCount",.2164151817560196],["pw-change-requiredRatio,hiddenPasswordCount",-5.912103176116943],["pw-change-requiredRatio,multiStepForm",-5.9860992431640625]],nG={name:R.PASSWORD_CHANGE,coeffs:nk.map(e=>{var t,r;return[`pw-change-${e}`,null!=(r=null==(t=nB.find(([t])=>t===`pw-change-${e}`))?void 0:t[1])?r:0]}),bias:-4.346797466278076,cutoff:1,getRules:()=>[ez(eq("form"),eq(R.PASSWORD_CHANGE),{}),...nk.map(e=>ez(eq(R.PASSWORD_CHANGE),nl("form",e),{name:`pw-change-${e}`})),...nm("form-candidate",R.PASSWORD_CHANGE)]},nH=[["recovery-fieldsCount",5.219259262084961],["recovery-inputCount",3.4802393913269043],["recovery-fieldsetCount",5.091477394104004],["recovery-textCount",-1.9329952001571655],["recovery-textareaCount",-11.980330467224121],["recovery-selectCount",-7.090891361236572],["recovery-optionsCount",-7.454675197601318],["recovery-radioCount",-5.982324600219727],["recovery-identifierCount",.24470239877700806],["recovery-hiddenIdentifierCount",-13.423789024353027],["recovery-usernameCount",7.580615997314453],["recovery-emailCount",-.7749595642089844],["recovery-hiddenCount",7.397370338439941],["recovery-hiddenPasswordCount",-10.402884483337402],["recovery-submitCount",17.34208869934082],["recovery-hasTels",-1.2667042016983032],["recovery-hasOAuth",-14.191985130310059],["recovery-hasCaptchas",4.94380521774292],["recovery-hasFiles",-22.454086303710938],["recovery-hasDate",-6.028102874755859],["recovery-hasNumber",-5.915408134460449],["recovery-oneVisibleField",-4.2500810623168945],["recovery-twoVisibleFields",-4.5695953369140625],["recovery-threeOrMoreVisibleFields",1.8211472034454346],["recovery-noPasswords",-1.9446848630905151],["recovery-onePassword",-12.154842376708984],["recovery-twoPasswords",-6.388713359832764],["recovery-threeOrMorePasswords",-5.9903340339660645],["recovery-noIdentifiers",-12.915245056152344],["recovery-oneIdentifier",1.9877134561538696],["recovery-twoIdentifiers",-3.45326828956604],["recovery-threeOrMoreIdentifiers",-8.09775161743164],["recovery-autofocusedIsIdentifier",1.188584804534912],["recovery-autofocusedIsPassword",-6.050867080688477],["recovery-visibleRatio",1.8096098899841309],["recovery-inputRatio",-6.735170364379883],["recovery-hiddenRatio",-1.901351809501648],["recovery-identifierRatio",2.0203499794006348],["recovery-emailRatio",.9475768804550171],["recovery-usernameRatio",7.2057600021362305],["recovery-passwordRatio",-9.867918968200684],["recovery-requiredRatio",-1.6640514135360718],["recovery-checkboxRatio",-5.932979583740234],["recovery-pageLogin",-2.4858222007751465],["recovery-formTextLogin",-5.925143718719482],["recovery-formAttrsLogin",-.08413530886173248],["recovery-headingsLogin",6.476242542266846],["recovery-layoutLogin",-12.630494117736816],["recovery-rememberMeCheckbox",-5.997462272644043],["recovery-troubleLink",8.869538307189941],["recovery-submitLogin",-5.894786834716797],["recovery-pageRegister",-10.688661575317383],["recovery-formTextRegister",-.07053083181381226],["recovery-formAttrsRegister",-8.1167573928833],["recovery-headingsRegister",-8.343093872070313],["recovery-layoutRegister",-10.727327346801758],["recovery-pwNewRegister",-5.970903396606445],["recovery-pwConfirmRegister",-6.094449996948242],["recovery-submitRegister",-6.537256717681885],["recovery-TOSRef",-16.483572006225586],["recovery-pagePwReset",9.253317832946777],["recovery-formTextPwReset",-6.472717761993408],["recovery-formAttrsPwReset",3.489095687866211],["recovery-headingsPwReset",7.393299579620361],["recovery-layoutPwReset",7.859417915344238],["recovery-pageRecovery",15.275426864624023],["recovery-formTextRecovery",.08355202525854111],["recovery-formAttrsRecovery",15.822127342224121],["recovery-headingsRecovery",10.05958366394043],["recovery-layoutRecovery",.8675701022148132],["recovery-identifierRecovery",17.785898208618164],["recovery-submitRecovery",17.075572967529297],["recovery-formTextMFA",-1.6202266216278076],["recovery-formAttrsMFA",12.503120422363281],["recovery-inputsMFA",-15.698631286621094],["recovery-inputsOTP",-9.031906127929688],["recovery-newsletterForm",-11.783472061157227],["recovery-searchForm",-11.046648979187012],["recovery-multiStepForm",3.962646722793579],["recovery-multiAuthForm",-6.030735969543457],["recovery-visibleRatio,fieldsCount",-3.6750259399414063],["recovery-visibleRatio,identifierCount",-.46854108572006226],["recovery-visibleRatio,passwordCount",-8.827977180480957],["recovery-visibleRatio,hiddenIdentifierCount",-7.780083656311035],["recovery-visibleRatio,hiddenPasswordCount",-14.793699264526367],["recovery-visibleRatio,multiStepForm",1.725805401802063],["recovery-identifierRatio,fieldsCount",2.5540273189544678],["recovery-identifierRatio,identifierCount",3.680723190307617],["recovery-identifierRatio,passwordCount",-11.473299980163574],["recovery-identifierRatio,hiddenIdentifierCount",-18.763864517211914],["recovery-identifierRatio,hiddenPasswordCount",-15.784345626831055],["recovery-identifierRatio,multiStepForm",-.08650737255811691],["recovery-passwordRatio,fieldsCount",-11.390311241149902],["recovery-passwordRatio,identifierCount",-11.758790016174316],["recovery-passwordRatio,passwordCount",-9.361132621765137],["recovery-passwordRatio,hiddenIdentifierCount",-6.076198101043701],["recovery-passwordRatio,hiddenPasswordCount",-5.9201741218566895],["recovery-passwordRatio,multiStepForm",-6.187673091888428],["recovery-requiredRatio,fieldsCount",-20.665956497192383],["recovery-requiredRatio,identifierCount",2.035646438598633],["recovery-requiredRatio,passwordCount",-6.348474979400635],["recovery-requiredRatio,hiddenIdentifierCount",23.868844985961914],["recovery-requiredRatio,hiddenPasswordCount",-10.315682411193848],["recovery-requiredRatio,multiStepForm",-9.611449241638184]],nW={name:R.RECOVERY,coeffs:nk.map(e=>{var t,r;return[`recovery-${e}`,null!=(r=null==(t=nH.find(([t])=>t===`recovery-${e}`))?void 0:t[1])?r:0]}),bias:-5.56587028503418,cutoff:.49,getRules:()=>[ez(eq("form"),eq(R.RECOVERY),{}),...nk.map(e=>ez(eq(R.RECOVERY),nl("form",e),{name:`recovery-${e}`})),...nm("form-candidate",R.RECOVERY)]},n$=[["register-fieldsCount",11.917691230773926],["register-inputCount",11.373042106628418],["register-fieldsetCount",7.854256629943848],["register-textCount",5.037329196929932],["register-textareaCount",4.7815656661987305],["register-selectCount",-5.59323787689209],["register-optionsCount",4.742903232574463],["register-radioCount",-.44946426153182983],["register-identifierCount",-3.116572141647339],["register-hiddenIdentifierCount",19.41229248046875],["register-usernameCount",-6.986035346984863],["register-emailCount",-7.78529691696167],["register-hiddenCount",-18.398569107055664],["register-hiddenPasswordCount",-15.720060348510742],["register-submitCount",7.6783881187438965],["register-hasTels",-7.298455715179443],["register-hasOAuth",4.153497219085693],["register-hasCaptchas",7.080265998840332],["register-hasFiles",-6.376850605010986],["register-hasDate",10.142865180969238],["register-hasNumber",19.163631439208984],["register-oneVisibleField",-1.262165904045105],["register-twoVisibleFields",8.802234649658203],["register-threeOrMoreVisibleFields",5.305413246154785],["register-noPasswords",-12.95462703704834],["register-onePassword",-4.9351487159729],["register-twoPasswords",26.029905319213867],["register-threeOrMorePasswords",-12.368908882141113],["register-noIdentifiers",-11.34496784210205],["register-oneIdentifier",-3.4595398902893066],["register-twoIdentifiers",3.8030407428741455],["register-threeOrMoreIdentifiers",-11.924832344055176],["register-autofocusedIsIdentifier",-1.864850640296936],["register-autofocusedIsPassword",30.214879989624023],["register-visibleRatio",5.202010631561279],["register-inputRatio",-7.839704513549805],["register-hiddenRatio",20.710941314697266],["register-identifierRatio",14.027844429016113],["register-emailRatio",-5.600202560424805],["register-usernameRatio",-1.7127400636672974],["register-passwordRatio",-12.093314170837402],["register-requiredRatio",-5.89549446105957],["register-checkboxRatio",-28.658470153808594],["register-pageLogin",-7.616566181182861],["register-formTextLogin",-5.961889743804932],["register-formAttrsLogin",-.7363413572311401],["register-headingsLogin",-7.311540126800537],["register-layoutLogin",8.75506591796875],["register-rememberMeCheckbox",-11.602274894714355],["register-troubleLink",-13.688916206359863],["register-submitLogin",-5.153923034667969],["register-pageRegister",14.36414909362793],["register-formTextRegister",.0492059662938118],["register-formAttrsRegister",3.9691600799560547],["register-headingsRegister",13.079018592834473],["register-layoutRegister",-1.0081580877304077],["register-pwNewRegister",10.531805992126465],["register-pwConfirmRegister",10.429780006408691],["register-submitRegister",27.7530574798584],["register-TOSRef",5.424505233764648],["register-pagePwReset",-6.759202480316162],["register-formTextPwReset",-10.20751953125],["register-formAttrsPwReset",-6.02766227722168],["register-headingsPwReset",-20.03550148010254],["register-layoutPwReset",-64.6925277709961],["register-pageRecovery",-5.776443004608154],["register-formTextRecovery",-.056022703647613525],["register-formAttrsRecovery",-40.626976013183594],["register-headingsRecovery",-1.4371925592422485],["register-layoutRecovery",-2.5626723766326904],["register-identifierRecovery",5.569582939147949],["register-submitRecovery",-42.5285530090332],["register-formTextMFA",-10.36745548248291],["register-formAttrsMFA",-10.58807373046875],["register-inputsMFA",-9.893669128417969],["register-inputsOTP",-7.69745397567749],["register-newsletterForm",-16.872678756713867],["register-searchForm",-6.112391471862793],["register-multiStepForm",-4.156559944152832],["register-multiAuthForm",-13.153765678405762],["register-visibleRatio,fieldsCount",-12.166980743408203],["register-visibleRatio,identifierCount",-.3816330134868622],["register-visibleRatio,passwordCount",.8365750908851624],["register-visibleRatio,hiddenIdentifierCount",16.387969970703125],["register-visibleRatio,hiddenPasswordCount",-3.6937456130981445],["register-visibleRatio,multiStepForm",15.94931411743164],["register-identifierRatio,fieldsCount",2.0408496856689453],["register-identifierRatio,identifierCount",19.188720703125],["register-identifierRatio,passwordCount",-31.58989143371582],["register-identifierRatio,hiddenIdentifierCount",-22.044620513916016],["register-identifierRatio,hiddenPasswordCount",38.33562469482422],["register-identifierRatio,multiStepForm",5.4950056076049805],["register-passwordRatio,fieldsCount",8.79137134552002],["register-passwordRatio,identifierCount",-35.184547424316406],["register-passwordRatio,passwordCount",-12.764176368713379],["register-passwordRatio,hiddenIdentifierCount",12.858628273010254],["register-passwordRatio,hiddenPasswordCount",7.0506062507629395],["register-passwordRatio,multiStepForm",12.14311695098877],["register-requiredRatio,fieldsCount",-27.65677833557129],["register-requiredRatio,identifierCount",22.865949630737305],["register-requiredRatio,passwordCount",-2.035212755203247],["register-requiredRatio,hiddenIdentifierCount",13.596835136413574],["register-requiredRatio,hiddenPasswordCount",-7.711032867431641],["register-requiredRatio,multiStepForm",-1.6663168668746948]],nq={name:R.REGISTER,coeffs:nk.map(e=>{var t,r;return[`register-${e}`,null!=(r=null==(t=n$.find(([t])=>t===`register-${e}`))?void 0:t[1])?r:0]}),bias:-7.748831272125244,cutoff:.54,getRules:()=>[ez(eq("form"),eq(R.REGISTER),{}),...nk.map(e=>ez(eq(R.REGISTER),nl("form",e),{name:`register-${e}`})),...nm("form-candidate",R.REGISTER)]},nY=["autocompleteUsername","autocompleteNickname","autocompleteEmail","typeEmail","exactAttrEmail","attrEmail","textEmail","labelEmail","placeholderEmail","searchField"],nj=[["email-autocompleteUsername",1.422879934310913],["email-autocompleteNickname",.06123584508895874],["email-autocompleteEmail",6.039527416229248],["email-typeEmail",15.077214241027832],["email-exactAttrEmail",13.114316940307617],["email-attrEmail",2.7811479568481445],["email-textEmail",15.807499885559082],["email-labelEmail",17.429636001586914],["email-placeholderEmail",3.715912103652954],["email-searchField",-15.843851089477539]],nz={name:S.EMAIL,coeffs:nY.map(e=>{var t,r;return[`email-${e}`,null!=(r=null==(t=nj.find(([t])=>t===`email-${e}`))?void 0:t[1])?r:0]}),bias:-9.902606010437012,cutoff:.5,getRules:()=>[ez(eq("email-field"),eq(S.EMAIL),{}),...nY.map(e=>ez(eq(S.EMAIL),nl("email-field",e),{name:`email-${e}`})),...nm("field-candidate",S.EMAIL)]};(m=O||(O={}))[m.FULLNAME=1]="FULLNAME",m[m.FIRSTNAME=2]="FIRSTNAME",m[m.MIDDLENAME=3]="MIDDLENAME",m[m.LASTNAME=4]="LASTNAME",m[m.TELEPHONE=5]="TELEPHONE",m[m.ADDRESS=6]="ADDRESS",m[m.STATE=7]="STATE",m[m.CITY=8]="CITY",m[m.ZIPCODE=9]="ZIPCODE",m[m.ORGANIZATION=10]="ORGANIZATION",m[m.COUNTRY=11]="COUNTRY",m[m.EMAIL=12]="EMAIL";let nV=[[O.FIRSTNAME,rS],[O.MIDDLENAME,rO],[O.LASTNAME,rx],[O.FULLNAME,rR],[O.TELEPHONE,rN],[O.ORGANIZATION,rI],[O.CITY,rP],[O.ZIPCODE,rF],[O.STATE,rM],[O.COUNTRY,rL],[O.ADDRESS,rk]],nK=["autocomplete","name","id","data-bhw"],nZ=["tel","phone","text","number"],nQ=e=>{var t;let r=rU(nK.map(t=>{var r;return null!=(r=null==e?void 0:e.getAttribute(t))?r:""}).join(" "));if(r)return null==(t=nV.find(([,e])=>e(r)))?void 0:t[0]},nX=[ez(eq("field").when(e=>{let t=e.element,{visible:r,isFormLogin:n,type:o,searchField:i}=e.noteFor("field");if(o&&!nZ.includes(o)||!r||n)return!1;let a=nQ(t);return!!a&&("list"===t.getAttribute("aria-autocomplete")||"combobox"===t.role?[O.ADDRESS,O.ZIPCODE].includes(a):"number"===o?[O.TELEPHONE,O.ZIPCODE].includes(a):!i||[O.ADDRESS,O.ZIPCODE,a===O.CITY].includes(a))}),eq("identity-field"),{}),ez(eq("identity-field"),eq(S.IDENTITY),{}),...nm("field-candidate",S.IDENTITY,()=>()=>!0)],nJ=["formMFA","formOutlier","fieldOutlier","linkOutlier","emailOutlierCount","inputCountOutlier","nameMatch","idMatch","numericMode","patternOTP","maxLengthExpected","maxLengthInvalid","maxLength1","maxLength5","minLength6","maxLength6","autocompleteOTC","prevAligned","prevArea","nextAligned","nextArea","attrMFA","attrOTP","textMFA","textOTP","labelMFA","labelOTP","wrapperOTP",...np(["autocompleteOTC","siblingOfInterest","formMFA"],["inputCountOutlier","maxLengthInvalid","attrOTP"])],n0=[["otp-formMFA",7.771900177001953],["otp-formOutlier",-.04360857233405113],["otp-fieldOutlier",-14.93850040435791],["otp-linkOutlier",-15.19876766204834],["otp-emailOutlierCount",-20.635622024536133],["otp-inputCountOutlier",-4.404586315155029],["otp-nameMatch",11.083649635314941],["otp-idMatch",8.304197311401367],["otp-numericMode",6.63908052444458],["otp-patternOTP",11.01827621459961],["otp-maxLengthExpected",1.5373173952102661],["otp-maxLengthInvalid",-6.062628269195557],["otp-maxLength1",4.458582401275635],["otp-maxLength5",-7.512012481689453],["otp-minLength6",15.0722017288208],["otp-maxLength6",-7.584023952484131],["otp-autocompleteOTC",5.740074634552002],["otp-prevAligned",4.224268913269043],["otp-prevArea",2.773845672607422],["otp-nextAligned",3.857393741607666],["otp-nextArea",2.5566060543060303],["otp-attrMFA",32.71980285644531],["otp-attrOTP",20.423227310180664],["otp-textMFA",6.684645652770996],["otp-textOTP",1.1047155857086182],["otp-labelMFA",18.526269912719727],["otp-labelOTP",8.603682518005371],["otp-wrapperOTP",-10.004483222961426],["otp-autocompleteOTC,inputCountOutlier",-4.689912796020508],["otp-autocompleteOTC,maxLengthInvalid",-18.661497116088867],["otp-autocompleteOTC,attrOTP",5.988102436065674],["otp-siblingOfInterest,inputCountOutlier",-7.615082263946533],["otp-siblingOfInterest,maxLengthInvalid",-6.08467435836792],["otp-siblingOfInterest,attrOTP",5.977667331695557],["otp-formMFA,inputCountOutlier",9.612953186035156],["otp-formMFA,maxLengthInvalid",-12.804899215698242],["otp-formMFA,attrOTP",6.108048439025879]],n1={name:S.OTP,coeffs:nJ.map(e=>{var t,r;return[`otp-${e}`,null!=(r=null==(t=n0.find(([t])=>t===`otp-${e}`))?void 0:t[1])?r:0]}),bias:-11.110547065734863,cutoff:.5,getRules:()=>[ez(eq("otp-field"),eq(S.OTP),{}),...nJ.map(e=>ez(eq(S.OTP),nl("otp-field",e),{name:`otp-${e}`})),...nm("field-candidate",S.OTP)]},n5=e=>"current-password"===e||"password"===e,n2=["loginScore","registerScore","pwChangeScore","exotic","autocompleteNew","autocompleteCurrent","autocompleteOff","isOnlyPassword","prevPwField","nextPwField","attrCreate","attrCurrent","attrConfirm","attrReset","textCreate","textCurrent","textConfirm","textReset","labelCreate","labelCurrent","labelConfirm","labelReset","prevPwNew","prevPwCurrent","prevPwConfirm","nextPwNew","nextPwCurrent","nextPwConfirm","passwordOutlier",...np(["prevPwCurrent"],["nextPwNew"])],n6=[["pw-loginScore",11.489188194274902],["pw-registerScore",-12.317614555358887],["pw-pwChangeScore",-3.3522896766662598],["pw-exotic",-11.274672508239746],["pw-autocompleteNew",-3.2165679931640625],["pw-autocompleteCurrent",1.107975721359253],["pw-autocompleteOff",-1.5637125968933105],["pw-isOnlyPassword",1.6692641973495483],["pw-prevPwField",-3.853325843811035],["pw-nextPwField",-2.6056430339813232],["pw-attrCreate",-2.091197967529297],["pw-attrCurrent",2.623647451400757],["pw-attrConfirm",-6.392003536224365],["pw-attrReset",7354617118835449e-19],["pw-textCreate",-2.4505302906036377],["pw-textCurrent",1.7695688009262085],["pw-textConfirm",-6.402401924133301],["pw-textReset",-.1697392612695694],["pw-labelCreate",-7.204258441925049],["pw-labelCurrent",14.438202857971191],["pw-labelConfirm",-6.259541988372803],["pw-labelReset",.015617117285728455],["pw-prevPwNew",-6.184617519378662],["pw-prevPwCurrent",-6.242441177368164],["pw-prevPwConfirm",-.17926810681819916],["pw-nextPwNew",9.929208755493164],["pw-nextPwCurrent",-7.612186431884766],["pw-nextPwConfirm",-6.865516662597656],["pw-passwordOutlier",-17.66224479675293],["pw-prevPwCurrent,nextPwNew",-5.839819431304932]],n4={name:S.PASSWORD_CURRENT,coeffs:n2.map(e=>{var t,r;return[`pw-${e}`,null!=(r=null==(t=n6.find(([t])=>t===`pw-${e}`))?void 0:t[1])?r:0]}),bias:.2366154044866562,cutoff:.5,getRules:()=>[ez(eq("password-field"),eq(S.PASSWORD_CURRENT),{}),...n2.map(e=>ez(eq(S.PASSWORD_CURRENT),nl("password-field",e),{name:`pw-${e}`})),...nm("field-candidate",S.PASSWORD_CURRENT)]},n3=[["pw[new]-loginScore",-10.936930656433105],["pw[new]-registerScore",11.831424713134766],["pw[new]-pwChangeScore",5.067559242248535],["pw[new]-exotic",11.193541526794434],["pw[new]-autocompleteNew",2.4367527961730957],["pw[new]-autocompleteCurrent",-1.0056599378585815],["pw[new]-autocompleteOff",1.5895371437072754],["pw[new]-isOnlyPassword",-1.4990589618682861],["pw[new]-prevPwField",3.6485674381256104],["pw[new]-nextPwField",1.4125449657440186],["pw[new]-attrCreate",2.043544292449951],["pw[new]-attrCurrent",-1.0884264707565308],["pw[new]-attrConfirm",6.419448375701904],["pw[new]-attrReset",.08130821585655212],["pw[new]-textCreate",2.1415109634399414],["pw[new]-textCurrent",-1.3681634664535522],["pw[new]-textConfirm",6.278629779815674],["pw[new]-textReset",.07996046543121338],["pw[new]-labelCreate",7.23655891418457],["pw[new]-labelCurrent",-13.138494491577148],["pw[new]-labelConfirm",6.407430171966553],["pw[new]-labelReset",-.02614663541316986],["pw[new]-prevPwNew",6.290370941162109],["pw[new]-prevPwCurrent",6.439488887786865],["pw[new]-prevPwConfirm",.02449376881122589],["pw[new]-nextPwNew",-10.66829776763916],["pw[new]-nextPwCurrent",7.651172161102295],["pw[new]-nextPwConfirm",7.5237345695495605],["pw[new]-passwordOutlier",-23.131240844726563],["pw[new]-prevPwCurrent,nextPwNew",5.949848651885986]],n8={name:S.PASSWORD_NEW,coeffs:n2.map(e=>{var t,r;return[`pw[new]-${e}`,null!=(r=null==(t=n3.find(([t])=>t===`pw[new]-${e}`))?void 0:t[1])?r:0]}),bias:-.42535680532455444,cutoff:.5,getRules:()=>[ez(eq("password-field"),eq(S.PASSWORD_NEW),{}),...n2.map(e=>ez(eq(S.PASSWORD_NEW),nl("password-field",e),{name:`pw[new]-${e}`})),...nm("field-candidate",S.PASSWORD_NEW)]},n9=["autocompleteUsername","autocompleteNickname","autocompleteEmail","autocompleteOff","attrUsername","textUsername","labelUsername","outlierUsername","loginUsername","searchField"],n7=[["username-autocompleteUsername",8.727046012878418],["username-autocompleteNickname",-.2054200917482376],["username-autocompleteEmail",-6.400381565093994],["username-autocompleteOff",-.4214320778846741],["username-attrUsername",17.859210968017578],["username-textUsername",15.59371280670166],["username-labelUsername",17.55240821838379],["username-outlierUsername",.07585844397544861],["username-loginUsername",18.52303123474121],["username-searchField",-13.451205253601074]],oe={name:S.USERNAME,coeffs:n9.map(e=>{var t,r;return[`username-${e}`,null!=(r=null==(t=n7.find(([t])=>t===`username-${e}`))?void 0:t[1])?r:0]}),bias:-9.966038703918457,cutoff:.5,getRules:()=>[ez(eq("username-field"),eq(S.USERNAME),{}),...n9.map(e=>ez(eq(S.USERNAME),nl("username-field",e),{name:`username-${e}`})),...nm("field-candidate",S.USERNAME)]},ot=["exotic","attrUsername","attrEmail","usernameAttr","autocompleteUsername","visibleReadonly","hiddenEmailValue","hiddenTelValue","hiddenUsernameValue"],or=[["username[hidden]-exotic",-10.682938575744629],["username[hidden]-attrUsername",21.034669876098633],["username[hidden]-attrEmail",13.188990592956543],["username[hidden]-usernameAttr",15.255407333374023],["username[hidden]-autocompleteUsername",4.695377826690674],["username[hidden]-visibleReadonly",11.520600318908691],["username[hidden]-hiddenEmailValue",24.007482528686523],["username[hidden]-hiddenTelValue",6.628058433532715],["username[hidden]-hiddenUsernameValue",7.225632190704346]],on={name:S.USERNAME_HIDDEN,coeffs:ot.map(e=>{var t,r;return[`username[hidden]-${e}`,null!=(r=null==(t=or.find(([t])=>t===`username[hidden]-${e}`))?void 0:t[1])?r:0]}),bias:-30.55059242248535,cutoff:.5,getRules:()=>[ez(eq("username-hidden-field"),eq(S.USERNAME_HIDDEN),{}),...ot.map(e=>ez(eq(S.USERNAME_HIDDEN),nl("username-hidden-field",e),{name:`username[hidden]-${e}`})),...nm("field-candidate",S.USERNAME_HIDDEN)]},{clusters:oo}=ex,oi={cache:new WeakMap},oa=e=>{var t;let r=null!=(t=oi.cache.get(e))?t:{isField:e.matches(e8)&&e.matches(':not([type="submit"])'),rect:e.getBoundingClientRect()};return oi.cache.set(e,r),r},os=e=>tM(e)&&null!==e.querySelector("input"),ol=[ez(eq("form").when(e=>nf(e).noop),eq(R.NOOP),{}),...nm("form-candidate",R.NOOP,()=>()=>!0)],ou=()=>{Object.keys(rB).forEach(e=>delete rB[e]),rZ.clear(),rZ.clear()},oc=()=>{let e=[],t=e=>e?.cancel?.();return{addListener:(t,r,n,o)=>{if(void 0!==t){let i={kind:"listener",element:t,type:r,fn:n};return e.push(i),t.addEventListener(r,n,o),()=>{t.removeEventListener(r,n);let o=e.indexOf(i);e.splice(o,1)}}return U},addObserver:(r,n,o)=>{let i=new MutationObserver(n),a=i.disconnect;return i.disconnect=()=>{t(n),a.bind(i)()},e.push({kind:"observer",observer:i}),i.observe(r,o),i},addResizeObserver:(r,n)=>{let o=new ResizeObserver(n),i=o.disconnect;o.disconnect=()=>{t(n),i.bind(o)()},e.push({kind:"resizeObserver",observer:o}),o.observe(r)},removeAll:()=>{e.forEach(e=>{switch(e.kind){case"observer":case"resizeObserver":return e.observer.disconnect();case"listener":return t(e.fn),e.element.removeEventListener(e.type,e.fn)}}),e.length=0}}},od=(e=8)=>Array.from(crypto.getRandomValues(new Uint8Array(e))).map(e=>e.toString(16)).join("").slice(0,e);var om=r(26562),op=r.n(om);let og="data-protonpass-role",of="data-protonpass-theme",oh=[og,of,"aria-hidden","popover"],oA=HTMLElement===HTMLElement.prototype.constructor?HTMLElement:HTMLElement.prototype.constructor;class oy extends oA{mutationObs=null;attrsMutationCount=new Map;connectedCallback(){this.mutationObs=new MutationObserver(e=>{for(let{type:t,attributeName:r}of e)if("attributes"===t&&r&&!oh.includes(r)){let e=this.attrsMutationCount.get(r)??0;this.attrsMutationCount.set(r,e+1),this.removeAttribute(r),e>25&&(oh.push(r),this.attrsMutationCount.delete(r))}}),this.mutationObs.observe(this,{attributes:!0,childList:!1})}disconnectedCallback(){this.mutationObs?.disconnect()}}class ob extends oy{static getTagName=e=>`protonpass-control-${e}`;connectedCallback(){super.connectedCallback(),this.setAttribute(og,"icon")}}let ow="data-protonpass-base-css",ov="PassRootRemoved";class oC extends oy{static getTagName=e=>`protonpass-root-${e}`;disconnectedCallback(){super.disconnectedCallback(),requestIdleCallback(()=>{let e=new CustomEvent(ov,{bubbles:!0});this.dispatchEvent(e)})}connectedCallback(){super.connectedCallback(),this.setAttribute(og,"root")}}var oE=((p={}).AUTOFILL_IDENTITY="AUTOFILL_IDENTITY",p.AUTOFILL_LOGIN="AUTOFILL_LOGIN",p.AUTOSUGGEST_ALIAS="AUTOSUGGEST_ALIAS",p.AUTOSUGGEST_PASSWORD="AUTOSUGGEST_PASSWORD",p),o_=((g={}).AUTOFILL_EMAIL="AUTOFILL_EMAIL",g.AUTOFILL_FILTER="AUTOFILL_FILTER",g.AUTOFILL_GENERATED_PW="AUTOFILL_GENERATED_PASSWORD",g.AUTOFILL_IDENTITY="AUTOFILL_IDENTITY",g.AUTOFILL_LOGIN="AUTOFILL_LOGIN",g.AUTOFILL_OTP="AUTOFILL_OTP",g.DROPDOWN_ACTION="DROPDOWN_ACTION",g.DROPDOWN_FOCUS="DROPDOWN_FOCUS",g.DROPDOWN_FOCUS_CHECK="DROPDOWN_FOCUS_CHECK",g.IFRAME_CLOSE="IFRAME_CLOSE",g.IFRAME_CONNECTED="IFRAME_CONNECTED",g.IFRAME_DIMENSIONS="IFRAME_DIMENSIONS",g.IFRAME_HIDDEN="IFRAME_HIDDEN",g.IFRAME_INIT="IFRAME_INIT",g.IFRAME_INJECT_PORT="IFRAME_INJECT_PORT",g.IFRAME_OPEN="IFRAME_OPEN",g.IFRAME_THEME="IFRAME_THEME",g.NOTIFICATION_ACTION="NOTIFICATION_ACTION",g.PASSKEY_RELAY="PASSKEY_RELAY",g),oT=((f={}).AUTOSAVE="AUTOSAVE",f.OTP="OTP",f.PASSKEY_CREATE="PASSKEY::CREATE",f.PASSKEY_GET="PASSKEY::GET",f),oR=((h={}).AutofillDisplay="autofill.display",h.AutofillTriggered="autofill.triggered",h.AutosaveDismissed="autosave.dismissed",h.AutosaveDisplay="autosave.display",h.AutosaveDone="autosave.done",h.AutosuggestAliasCreated="autosuggest.alias_created",h.ErrorResumingSession="error.resuming_session",h.ExtensionCopiedFromLogin="extension.copied_from_login",h.ExtensionUsed="extension.used",h.ImportCompletion="import.complete",h.ItemCreation="item.creation",h.ItemDeletion="item.deletion",h.ItemRead="item.read",h.ItemUpdate="item.update",h.PasskeyAuthSuccess="passkey.auth_done",h.PasskeyCreated="passkey.create_done",h.PasskeyCreateDisplay="passkey.create_prompt_display",h.PasskeysSuggestionsDisplay="passkey.display_suggestions",h.PassFileUploaded="pass_file_attachment.file_uploaded",h.PassMonitorAddCustomEmailFromSuggestion="pass_monitor.add_custom_email_from_suggestion",h.PassMonitorDisplayDarkWebMonitoring="pass_monitor.display_dark_web_monitoring",h.PassMonitorDisplayExcludedItems="pass_monitor.display_excluded_items",h.PassMonitorDisplayHome="pass_monitor.display_home",h.PassMonitorDisplayMissing2FA="pass_monitor.display_missing_2fa",h.PassMonitorDisplayMonitoringEmailAliases="pass_monitor.display_monitoring_email_aliases",h.PassMonitorDisplayMonitoringProtonAddresses="pass_monitor.display_monitoring_proton_addresses",h.PassMonitorDisplayReusedPasswords="pass_monitor.display_reused_passwords",h.PassMonitorDisplayWeakPasswords="pass_monitor.display_weak_passwords",h.PassMonitorItemDetailFromMissing2FA="pass_monitor.item_detail_from_missing_2fa",h.PassMonitorItemDetailFromReusedPassword="pass_monitor.item_detail_from_reused_password",h.PassMonitorItemDetailFromWeakPassword="pass_monitor.item_detail_from_weak_password",h.PassNotificationChangeStatus="pass_notifications.change_notification_status",h.PassNotificationCTAClick="pass_notifications.notification_cta_click",h.PassNotificationDisplay="pass_notifications.display_notification",h.SearchClick="search.click",h.SearchTriggered="search.triggered",h.TwoFAAutofill="2fa.autofill",h.TwoFACreation="2fa.creation",h.TwoFADisplay="2fa.display",h.TwoFAUpdate="2fa.update",h);oR.ExtensionCopiedFromLogin,oR.AutosaveDismissed,oR.ExtensionUsed;let oS=(e,t,r,n,o)=>q(j({type:F.TELEMETRY_EVENT,payload:{event:((e,t,r,n="any")=>({MeasurementGroup:`pass.${n}.user_actions`,Event:e,Values:t,Dimensions:r}))(e,t,r,n),extra:o}})).catch(U);function oO(e,t){function r(...n){if(t){let r=t(...n);if(!r)throw Error(oL(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>(function(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)})(t)&&"type"in t&&"string"==typeof t.type&&t.type===e,r}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};var ox=((A=ox||{}).reducer="reducer",A.reducerWithPrepare="reducerWithPrepare",A.asyncThunk="asyncThunk",A),{assign:oN}=Object,oI="listenerMiddleware",oP=oN(e=>{let{type:t,predicate:r,effect:n}=(e=>{let{type:t,actionCreator:r,matcher:n,predicate:o,effect:i}=e;if(t)o=oO(t).match;else if(r)t=r.type,o=r.match;else if(n)o=n;else if(o);else throw Error(oL(21));if("function"!=typeof i)throw TypeError(oL(32));return{predicate:o,type:t,effect:i}})(e);return{id:((e=21)=>{let t="",r=e;for(;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t})(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw Error(oL(22))}}},{withTypes:()=>oP}),oF=oN(oO(`${oI}/add`),{withTypes:()=>oF}),oM=oN(oO(`${oI}/remove`),{withTypes:()=>oM});function oL(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}Symbol.for("rtk-state-proxy-original");let ok=(e,t,r={excludeEmpty:!1})=>{if(e===t)return e;let n=Object.keys(t);return(r.excludeEmpty?n.filter(e=>{let r;return!(null==(r=t[e])||""===r||"number"==typeof r&&Number.isNaN(r))}):n).reduce((n,o)=>({...n,[o]:z(e[o])&&z(t[o])?ok(e[o],t[o],r):t[o]}),e)},oD=e=>t=>ok(t,{meta:e}),oU=oD({cache:!0});oD({throttle:!0,cache:!0});let oB=oD({settings:!0});var oG=r(80601);let oH=r.n(oG)(),oW=oO("password::save",e=>oU({payload:e}));oO("password::delete",e=>oU({payload:e})),oO("password::history::clear",()=>oU({payload:{}})),oO("password::history::gc"),oO("password::options::edit",e=>oH(oU,oB)({payload:e}));let o$=e=>e?.[0],oq=(e,t)=>{let r=new Map;return(...n)=>{let o=t?.key?.(...n)??"",i=r.get(o)??e(...n).finally(()=>r.delete(o));return r.set(o,i),i}},oY=(e,t)=>{let r=new Map;return async(...n)=>{var o;let i,a,s,l=t?.key?.(...n)??"",u=r.get(l)??Promise.resolve(),c=(i=U,a=U,(s=new Promise((e,t)=>{i=t=>{e(t),o?.onResolve?.(t)},a=e=>{t(e),o?.onReject?.(e)}})).resolve=i,s.reject=a,s);return r.set(l,u.then(async()=>{try{let t=await e(...n);c.resolve(t)}catch(e){c.reject(e)}})),c}},oj=async(e,t)=>{let r=[];for(let n of e){let e=await t(n);r.push(e)}return r},oz=["domain","port","protocol"];RegExp("^(file:|javascript:|data:|chrome-extension:|chrome:|brave:|edge:|moz-extension:|about:)","i");let oV=(...e)=>t=>e.reduce((e,t)=>e[t],t),oK=(...e)=>t=>e.some(e=>e(t)),oZ=(...e)=>t=>e.includes(t),oQ=e=>t=>e===t,oX=e=>!!e;function oJ(e){return e[e.length-1]}let o0=e=>e?.trim().replace(/\s+/g," "),o1=({fullName:e})=>e.split(" ").filter(oX),o5=oH(e=>{if(e.fullName)return e.fullName;let t=[e.firstName,e.middleName,e.lastName].filter(Boolean).join(" ").trim();return t.length?t:void 0},o0),o2=oH(e=>e.firstName?e.firstName.trim():o1(e)[0],o0),o6=oH(e=>{if(e.middleName)return e.middleName.trim();let t=o1(e);return t.length>2?t.slice(1,t.length-1).join(" "):void 0},o0),o4=oH(e=>{if(e.lastName)return e.lastName.trim();let t=o1(e);return t.length>1?oJ(t):void 0},o0),o3={[O.FULLNAME]:o5,[O.FIRSTNAME]:o2,[O.MIDDLENAME]:o6,[O.LASTNAME]:o4,[O.TELEPHONE]:oV("phoneNumber"),[O.ORGANIZATION]:oV("organization"),[O.ADDRESS]:oV("streetAddress"),[O.CITY]:oV("city"),[O.STATE]:oV("stateOrProvince"),[O.ZIPCODE]:oV("zipOrPostalCode"),[O.COUNTRY]:oV("countryOrRegion"),[O.EMAIL]:oV("email")},o8=async(e,t,r)=>{let n=new Set,o=e.filter(e=>e.sectionIndex===t.sectionIndex),i=o.findIndex(e=>e===t),a=-1!==i?[...o.slice(i),...o.slice(0,i)]:o;await oj(a,async e=>{let{identityType:t}=e,o=oZ(null,S.IDENTITY)(e.autofilled);if(!t||n.has(t)||!o)return;let i=(0,o3[t])(r);i&&await e.autofill(i,{type:S.IDENTITY}),n.add(t)})};var o9=((y={})[y.STAGING=0]="STAGING",y[y.COMMITTED=1]="COMMITTED",y);let o7=e=>q(j({type:F.FORM_ENTRY_STASH,payload:{reason:e}})),ie=(e,t)=>{let r=e.userIdentifier.trim(),n=e.password.trim();switch(t.type){case"login":case"register":return!!(t.partial&&r||n);case"password-change":case"noop":return!!n;default:return!1}},it=e=>"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE&&"tagName"in e,ir=e=>it(e)&&"INPUT"===e.tagName,io=["text","email","number","tel","password"],ii=e=>it(e)&&"FORM"===e.tagName,ia=new Set(["PICTURE","VIDEO","AUDIO","BUTTON","A","SCRIPT","NOSCRIPT","LINK","OBJECT","IFRAME","svg","g"]),is=new Set(["button","link","menuitem","checkbox","radio","switch"]),il=(n=oK(t_,tv),(...e)=>!n(...e)),iu=((...e)=>t=>e.every(e=>e(t)))(e=>ir(e)&&io.includes(e.type),il),ic=e=>nP(e).some(oK(il,ty)),id=oK(e=>nF(e).some(oK(il,ty)),ic),im=e=>!(!it(e)||0===e.childElementCount||e.role&&is.has(e.role))&&!ia.has(e.tagName),ip=e=>t=>ir(t)||ii(t)||it(t)&&e(t),ig=ip(im),ih=ip(ic),iA=ip(e=>null!==e.querySelector("form, input")),iy=(e,[t,...r])=>{let n=tH(e,t);return n?r.reduce((e,t)=>null===e?null:tH(e,t),n):null},ib=(e=document)=>{let t=e=>{let r=e.activeElement;return r?r.shadowRoot?t(r.shadowRoot):r:null};return t(e)},iw=e=>!!e&&e===ib(),{DOCUMENT_POSITION_FOLLOWING:iv,DOCUMENT_POSITION_PRECEDING:iC,DOCUMENT_POSITION_CONTAINS:iE,DOCUMENT_POSITION_CONTAINED_BY:i_}=Node,iT=e=>new Promise(t=>setTimeout(t,e)),iR=function(e,t=[],r=[]){return new eX(e,t,r)}((l=[nU,nq,nG,nW,oe,on,nz,n4,n8,n1].reduce((e,t)=>({rules:[...e.rules,...t.getRules()],coeffs:[...e.coeffs,...t.coeffs],biases:[...e.biases,[t.name,t.bias]]}),{rules:[ez(new eI(tr),eq("form-candidate"),{}),ez(new eI("input"),eq("field-candidate"),{}),...r0,ez(eq("form-candidate").when(ng(tM)),eq("form-element"),{}),ez(eq("form-element").when(ng(rV)),eq("form").note(nL),{}),ez(eq("form-element"),eH("form").through(na),{}),...ol,ez(eq("field-candidate").when(e=>tM(e.element)&&null!==nu(e)),eq("field").note(e=>{var t,r;let n=e.element,o=nr(n),i=nu(e);null===i||i.hasNoteFor("form")||i.setNoteFor("form",nL(i));let a=null==i?void 0:i.noteFor("form"),s=nf(i),l=n.value,u=n.getAttribute("type"),c=n.readOnly,d=n.required,m=no(n.minLength,0),p=no(n.maxLength,250),g=n.pattern,f=n.getAttribute("autocomplete"),h=n.disabled,A="hidden"!==u,y=n.tabIndex,b=!!A&&rK(n)&&rY(n,{opacity:!1});A&&(b?e=>delete e.__PP_HIDDEN__:tb)(n);let w=b&&e4(rc)(o.fieldAttrs.concat(o.fieldText)),v=A&&null!=(t=null==a?void 0:a.formInputIterator.prev(n))?t:null,C=A&&null!=(r=null==a?void 0:a.formInputIterator.next(n))?r:null;return Object.assign({formFnode:i,formFeatures:a,isFormLogin:s.login,isFormRegister:s.register,isFormPWChange:s.pwChange,isFormRecovery:s.recovery,isFormNoop:s.noop,value:l,visible:b,type:u,readonly:c,required:d,disabled:h,pattern:g,autocomplete:f,minLength:m,maxLength:p,tabIndex:y,prevField:v,nextField:C,searchField:w},o)}),{}),ez(eq("field").when(nT),eq("username-field").note(e=>{let t=e.noteFor("field"),{fieldAttrs:r,fieldText:n,labelText:o,prevField:i}=t,a=e4(t3)(r),s=t4(n),l=t4(o),u=e4(t9)(r.concat(n,o)),c=r.concat(n).concat(o),d=u||e4(t7)(c),m=t.isFormLogin;return{autocompleteUsername:Number("username"===t.autocomplete),autocompleteNickname:Number("nickname"===t.autocomplete),autocompleteEmail:Number("email"===t.autocomplete),autocompleteOff:Number("off"===t.autocomplete),attrUsername:Number(a),textUsername:Number(s),labelUsername:Number(l),outlierUsername:Number(d),loginUsername:Number(m&&null===i&&!d),searchField:Number(t.searchField)}}),{}),ez(eq("field").when(nR),eq("username-hidden-field").note(e=>{let t=e.element,r=e.noteFor("field"),{fieldAttrs:n,autocomplete:o}=r,i=e4(t3)(n),a=e4(t7)(n),s=t.matches('[name="username"],[id="username"]'),l=t.readOnly&&rY(t,{opacity:!0})&&"hidden"!==t.type,u=re(r.value),c=rr(r.value),d=t8(r.value);return{exotic:Number(r.isFormNoop),attrUsername:Number(i),attrEmail:Number(a),usernameAttr:Number(s),autocompleteUsername:Number("username"===o),visibleReadonly:Number(l),hiddenEmailValue:Number(u),hiddenTelValue:Number(c),hiddenUsernameValue:Number(d)}}),{}),ez(eq("field").when(nC),eq("email-field").note(e=>{let t=e.element,r=e.noteFor("field"),{fieldAttrs:n,fieldText:o,labelText:i}=r,a="email"===r.type,s=t.matches('input[name="email"], input[id="email"]'),l=e4(t7)(n),u=rt(o),c=rt(i),d=e4(e2(re,rt))(t.placeholder.split(" "));return{autocompleteUsername:Number("username"===r.autocomplete),autocompleteNickname:Number("nickname"===r.autocomplete),autocompleteEmail:Number("email"===r.autocomplete),autocompleteOff:Number("off"===r.autocomplete),typeEmail:Number(a),exactAttrEmail:Number(s),attrEmail:Number(l),textEmail:Number(u),labelEmail:Number(c),placeholderEmail:Number(d),searchField:Number(r.searchField)}}),{}),ez(eq("field").when(nE),eq("password-field").note(e=>{var t,r;let n=e.noteFor("field"),{autocomplete:o,fieldAttrs:i,fieldText:a,labelText:s,prevField:l,nextField:u}=n,c=e4(rg)(i),d=e4(ry)(i),m=e4(rh)(i),p=e4(rm)(i),g=rp(a),f=rA(a),h=rf(a),A=rd(a),y=rp(s),b=rA(s),w=rf(s),v=rd(s),C=e4(rb)(i.concat(s,a)),E=l&&"password"===l.getAttribute("type")?l:null,_=u&&"password"===u.getAttribute("type")?u:null,T=E?nn(E):[],R=_?nn(_):[],S=null==E?void 0:E.getAttribute("autocomplete"),O=n5(S)||e4(rA)(T),x="new-password"===S||e4(rp)(T),N=e4(rf)(T),I=null==_?void 0:_.getAttribute("autocomplete"),P=n5(I)||e4(rA)(R),F="new-password"===I||e4(rp)(R),M=e4(rf)(R);return{loginScore:Number(n.isFormLogin),registerScore:Number(n.isFormRegister),pwChangeScore:Number(n.isFormPWChange),exotic:Number(n.isFormNoop),autocompleteNew:Number("new-password"===o),autocompleteCurrent:Number(n5(o)),autocompleteOff:Number("off"===n.autocomplete),isOnlyPassword:null!=(r=null==(t=n.formFeatures)?void 0:t.onePassword)?r:0,prevPwField:Number(null!==E),nextPwField:Number(null!==_),attrCreate:Number(c),attrCurrent:Number(d),attrConfirm:Number(m),attrReset:Number(p),textCreate:Number(g),textCurrent:Number(f),textConfirm:Number(h),textReset:Number(A),labelCreate:Number(y),labelCurrent:Number(b),labelConfirm:Number(w),labelReset:Number(v),passwordOutlier:Number(C),prevPwNew:Number(x),prevPwCurrent:Number(O),prevPwConfirm:Number(N),nextPwNew:Number(F),nextPwCurrent:Number(P),nextPwConfirm:Number(M)}}),{}),ez(eq("field").when(n_),eq("otp-field").note(e=>{var t,r,n,o,i;let a=e.element,s=e.noteFor("field"),{fieldAttrs:l,fieldText:u,labelText:c,prevField:d,nextField:m,type:p,minLength:g,maxLength:f}=s,h=s.formFeatures,A=!!(null==h?void 0:h.formMFA),y=!!(null==h?void 0:h.formOTPOutlier),b=!!(null==h?void 0:h.linkOTPOutlier),w=null==h?void 0:h.visibleInputsCount,v=t$.some(([e,t])=>a.pattern.includes(t)&&e===a.maxLength),C=["code","token","otp","otc","totp"],E=C.some(e=>a.name===e),_=C.some(e=>a.id===e),{area:T,top:R,bottom:S,width:O}=tc(a),x=O<100,N=d?tc(d):null,I=m?tc(m):null,P=x&&d&&(null==d?void 0:d.getAttribute("type"))===p,F=x&&m&&(null==m?void 0:m.getAttribute("type"))===p,M=!!P&&R===(null==N?void 0:N.top)&&S===(null==N?void 0:N.bottom),L=!!P&&T===(null==N?void 0:N.area),k=!!F&&R===(null==I?void 0:I.top)&&S===(null==I?void 0:I.bottom),D=!!F&&T===(null==I?void 0:I.area),U=e4(rE)(l),B=e4(rC)(l),G=e4(r_)(l),H=rE(u),W=rv(u),$=rE(c),q=rv(c),Y=r_(c),j=null!=(n=null==(r=null==(t=null==s?void 0:s.formFnode)?void 0:t.element)?void 0:r.innerText)?n:"",z=[tl(a)(1),tl(a)(2)].flatMap(r4),V=e4(rE)(z),K=e4(r_)(z),Z=(V||U||H||$)&&null!=(i=null==(o=j.match(/@/g))?void 0:o.length)?i:0;return{formMFA:Number(s.isFormNoop&&A),formOutlier:Number(y),fieldOutlier:Number(K||G||Y),linkOutlier:Number(b),emailOutlierCount:Number(Z>1),inputCountOutlier:Number(1!==w&&6!==w),nameMatch:Number(E),idMatch:Number(_),numericMode:Number("numeric"===a.inputMode),patternOTP:Number(v),maxLengthExpected:Number(1===f||6===f),maxLengthInvalid:Number(f>10),maxLength1:Number(1===f),maxLength5:Number(5===f),minLength6:Number(6===g),maxLength6:Number(6===f),autocompleteOTC:Number("one-time-code"===s.autocomplete),siblingOfInterest:Number(M||k),prevAligned:Number(M),prevArea:Number(L),nextAligned:Number(k),nextArea:Number(D),attrOTP:Number(U),textOTP:Number(H),wrapperOTP:Number(V),labelOTP:Number($),attrMFA:Number(B),textMFA:Number(W),labelMFA:Number(q)}}),{}),...nX,ez(eq("field"),eH("field").through(ns),{})],coeffs:[],biases:[]})).rules,l.coeffs,l.biases),iS=document.createElement("form"),iO=(e,t)=>(e.get(t.type),Array.from(t.subTypes.reduce((r,n)=>(e.get(n).forEach(e=>{let o=nd(e,n),i={type:n,fnode:e,score:o},a=r.get(e);a?r.set(e,t.selectBest([i,a])):r.set(e,i)}),r),new Map).values())),ix=([e,t])=>e.score>t.score?e:t,iN=e=>{let t=e.find(({type:e})=>e===R.PASSWORD_CHANGE),r=e.find(({type:e})=>e===R.LOGIN),n=e.find(({type:e})=>e===R.REGISTER),o=Math.abs(e[0].score-e[1].score);return t&&n?o<=.01?t:n:r||ix(e)},iI=e=>e.Autofill||e.Autofill2FA||e.Autosave||e.AutosuggestAlias||e.AutosuggestPassword,iP=W.runtime.getURL("/assets/protonpass-icon-active.svg"),iF=W.runtime.getURL("/assets/protonpass-icon-locked.svg"),iM=W.runtime.getURL("/assets/protonpass-icon-disabled.svg"),iL=W.runtime.getURL("/assets/protonpass-icon-counter.svg"),ik=W.runtime.getURL("/dropdown.html"),iD=W.runtime.getURL("/notification.html"),iU={[R.LOGIN]:[{type:S.USERNAME,action:oE.AUTOFILL_LOGIN,filterable:!0},{type:S.USERNAME_HIDDEN},{type:S.EMAIL,action:oE.AUTOFILL_LOGIN,filterable:!0},{type:S.PASSWORD_CURRENT,action:oE.AUTOFILL_LOGIN}],[R.REGISTER]:[{type:S.USERNAME},{type:S.USERNAME_HIDDEN},{type:S.EMAIL,action:oE.AUTOSUGGEST_ALIAS},{type:S.PASSWORD_NEW,action:oE.AUTOSUGGEST_PASSWORD},{type:S.IDENTITY,action:oE.AUTOFILL_IDENTITY}],[R.RECOVERY]:[{type:S.EMAIL,action:oE.AUTOFILL_LOGIN},{type:S.IDENTITY,action:oE.AUTOFILL_IDENTITY}],[R.PASSWORD_CHANGE]:[{type:S.PASSWORD_CURRENT,action:oE.AUTOFILL_LOGIN},{type:S.PASSWORD_NEW,action:oE.AUTOSUGGEST_PASSWORD}],[R.NOOP]:[{type:S.EMAIL,action:oE.AUTOSUGGEST_ALIAS},{type:S.PASSWORD_CURRENT,action:oE.AUTOFILL_LOGIN},{type:S.PASSWORD_NEW,action:oE.AUTOSUGGEST_PASSWORD},{type:S.IDENTITY,action:oE.AUTOFILL_IDENTITY}]},iB=(e,t=250)=>{e.preventAction=!0,setTimeout(()=>e.preventAction=!1,t)},iG=["disabled","aria-disabled","aria-busy","readonly"],iH=e=>iG.some(t=>e.hasAttribute(t)&&"false"!==e.getAttribute(t)),iW=e=>{let t=e.parentElement;return!!t&&(iH(t)||iW(t))},i$=e=>{let t;return e===document.body||null===e?document.body:"auto"===(t=window.getComputedStyle(e)).overflowY||"scroll"===t.overflowY?e:i$(e.parentElement)},iq=(e,t)=>{let r=e.parentElement;if(t?.has(e)){let n=t.get(e);if(null!==n)return n;if(null===n&&r)return iq(r,t)}let[n,o]=(e=>{let t=e.parentElement,{zIndex:r,position:n,containerType:o}=getComputedStyle(e),i=parseInt(r,10),a=isNaN(i)?0:i,s=""!==r&&"auto"!==r;if(null===t||s&&("absolute"===n||"relative"===n)||"fixed"===n||"sticky"===n||"size"===o||"inline-size"===o)return[!0,a];let{display:l}=getComputedStyle(t);return s&&("flex"===l||"grid"===l)?[!0,a]:[!1,null]})(e);return(t?.set(e,n?o:null),n)?o:r?iq(r,t):0},iY=e=>(...t)=>{try{return e?.(...t)}catch{}};var ij=((b={}).AUTHORIZED="AUTHORIZED",b.AUTHORIZING="AUTHORIZING",b.BOOTING="BOOTING",b.ERROR="ERROR",b.IDLE="IDLE",b.OFFLINE="OFFLINE",b.PASSWORD_LOCKED="PASSWORD_LOCKED",b.BIOMETRICS_LOCKED="BIOMETRICS_LOCKED",b.READY="READY",b.SESSION_LOCKED="SESSION_LOCKED",b.UNAUTHORIZED="UNAUTHORIZED",b.MISSING_SCOPE="MISSING_SCOPE",b);let iz=oQ(ij.AUTHORIZED),iV=oQ(ij.ERROR);oQ(ij.OFFLINE);let iK=oZ(ij.PASSWORD_LOCKED,ij.BIOMETRICS_LOCKED);oQ(ij.READY);let iZ=oQ(ij.SESSION_LOCKED),iQ=oQ(ij.IDLE),iX=oQ(ij.UNAUTHORIZED),iJ=oQ(ij.MISSING_SCOPE);oZ(ij.IDLE,ij.AUTHORIZED,ij.AUTHORIZING,ij.BOOTING);let i0=oZ(ij.READY,ij.OFFLINE);oK(iz,iX,iV);let i1=oK(i0,iZ,iK),i5=oK(iV,iX,iJ);oK(i1,i5);let i2=oK(iX,iV,iQ),i6=oK(iZ,iK,iJ),i4=e=>{let t=getComputedStyle(e);return(e,r)=>{let n=t.getPropertyValue(e);return r?.(n)??n}},i3=e=>parseInt(e.replace("px",""),10),i8=e=>`${e}px`,i9=(e,{node:t,mode:r})=>{let n="content-box"===e("box-sizing"),o=e("height",e=>"auto"!==e&&e?i3(e):t.offsetHeight),i=e("padding-top",i3),a=e("padding-bottom",i3),s=e("border-top",i3),l=e("border-bottom",i3),u=i+s+a+l;return{value:n?o+("outer"===r?u:0):o-("inner"===r?u:0),offset:{top:"outer"===r?0:i+s,bottom:"outer"===r?0:a+l}}},i7=(e,t)=>e.reduce(([e,r],n)=>{let o,i;if(!e)return[e,r];let a=n.getBoundingClientRect(),{height:s,width:l}=a;if(s<=0||l<=0)return[e,r];let u={top:a.top-t.y,right:a.right+t.x,bottom:a.bottom+t.y,left:a.left-t.x};return null===r?[!0,u]:[e&&(o=Math.max(0,Math.floor(Math.min(u.right,r.right)-Math.max(u.left,r.left))),i=Math.max(0,Math.floor(Math.min(u.bottom,r.bottom)-Math.max(u.top,r.top))),o>0&&i>0),{top:Math.floor(Math.min(r.top,u.top)),right:Math.floor(Math.max(r.right,u.right)),bottom:Math.floor(Math.max(r.bottom,u.bottom)),left:Math.floor(Math.min(r.left,u.left))}]},[!0,null])[0],ae={x:10,y:0},at=["TD","TR","FORM"],ar=e=>[...e.children].filter(e=>!e.tagName.startsWith("PROTONPASS")),an=(e,t)=>{let r,{input:n,minHeight:o,maxWidth:i}=t=t??(()=>{let{height:t,width:r}=e.getBoundingClientRect();return{input:e,minHeight:t,maxWidth:1.2*r}})(),a=e===n;if(a){if(0!==i3(getComputedStyle(n).borderBottomWidth))return n;let e=n.closest("label");if(e&&1===e.querySelectorAll('input:not([type="hidden"])').length){let t=e.getBoundingClientRect().height>=o,r=i7(ar(e),ae);if(t&&r)return e}}let s=getComputedStyle(e);if(!a){let t=i3(s.paddingBottom),r=i3(s.paddingTop);if(t>1||r>1)return e}let l=i3(s.marginBottom),u=i3(s.marginTop);if(l>1||u>1)return e;let c=e.parentElement;if(at.includes(c.tagName))return e;let{height:d,width:m}=c.getBoundingClientRect();if(!d||d<o||m>i||[...c.childNodes].some(e=>e.nodeType===Node.TEXT_NODE&&e.nodeValue?.trim()!==""))return e;if("none"!==(r=getComputedStyle(c)).boxShadow||[i3(r.borderTopWidth),i3(r.borderRightWidth),i3(r.borderBottomWidth),i3(r.borderLeftWidth)].every(e=>e>0)&&"none"!==r.borderTopStyle&&"none"!==r.borderRightStyle&&"none"!==r.borderBottomStyle&&"none"!==r.borderLeftStyle)return c;let p=i9(i4(c),{mode:"inner",node:c});if(!a&&p.value>1.2*e.offsetHeight)return e;let g=ar(c);return 1===g.length||i7(g,ae)?an(c,t):e};var ao=r(55377),ai=r.n(ao),aa=r(48748);let as=e=>{let t=document.createElement(e.type);return e.classNames?.forEach(e=>t.classList.add(e)),e.attributes&&Object.entries(e.attributes).forEach(([e,r])=>t.setAttribute(e,r)),e.parent&&e.parent.appendChild(t),t},al=e=>{let t=document.createElement(e.type),r=t.attachShadow({mode:"closed"});if(((e,...t)=>{})(0,e.type,r),e.classNames?.forEach(e=>t.classList.add(e)),e.attributes&&Object.entries(e.attributes).forEach(([e,r])=>{t.setAttribute(e,r)}),e.styles){let t=new CSSStyleSheet;t.replaceSync(e.styles),(r?.wrappedJSObject??r).adoptedStyleSheets.push(t)}return e.parent&&e.parent.appendChild(t),{customElement:t,shadowRoot:r}},au=e=>{let t;Object.entries((t=e.getAttribute(ow))?JSON.parse(t):{}).forEach(([t,r])=>r?e.style.setProperty(t,r):e.style.removeProperty(t)),e.removeAttribute(ow)},ac=({control:e,input:t})=>{e.style.removeProperty("float"),e.style.removeProperty("max-width"),e.style.removeProperty("margin-left"),au(t)},ad=1e3/24,am=e=>{e.set();let{top:t,left:r,right:n,bottom:o}=e.get(),i=0,a=()=>e.onAnimate(requestAnimationFrame(s=>{if(s-i>=ad){i=s;let{top:l,left:u,right:c,bottom:d}=e.get();(l!==t||u!==r||c!==n||d!==o)&&(e.set(),t=l,r=u,n=c,o=d,a())}else a()}));return a()},ap=({element:e,fieldType:t,zIndex:r,getFormHandle:n})=>{let o=oc(),i={fieldType:t,element:e,boxElement:an(e),icon:null,action:null,value:e.value,autofilled:null,tracked:!1,zIndex:r,getFormHandle:n,getBoxElement:t=>(t?.reflow&&(i.boxElement=an(e)),i.boxElement),setValue:e=>(i.autofilled=null,i.value=e),setAction:e=>i.action=e,focus(e){let t=iw(i.element);if(e?.preventAction&&iB(i.element),i.element.focus(),t){let e=new FocusEvent("focus",{bubbles:!0,cancelable:!0,relatedTarget:null});return i.element.dispatchEvent(e)}},autofill:async(t,r)=>{let n;await ((e,t,r=250)=>(...n)=>(iB(e,r),t(...n)))(e,(n=async(t,r)=>{let n=async t=>{await oj(t,async t=>e.dispatchEvent(t)).catch(U)};if("function"==typeof e?.click&&e.click(),e===document.activeElement?await n([new FocusEvent("focusin"),new FocusEvent("focus")]):e.focus(),r?.paste){let e=new DataTransfer;e.setData("text/plain",t),await n([new ClipboardEvent("paste",{bubbles:!0,cancelable:!0,clipboardData:e})])}else e.value=t,await n([new KeyboardEvent("keydown",{bubbles:!0}),new KeyboardEvent("keypress",{bubbles:!0}),new KeyboardEvent("keyup",{bubbles:!0})]),e.value!==t&&(e.value=t),await n([new Event("input",{bubbles:!0}),new Event("change",{bubbles:!0})]);e===document.activeElement?e.blur():await n([new FocusEvent("focusout"),new FocusEvent("blur")])},async(...e)=>{try{return await n?.(...e)}catch{}}))(t,r),i.autofilled=r?.type??i.fieldType},attachIcon:P((e,{count:t})=>{if(e)return i.icon||e.service.formManager.getTrackedForms().forEach(e=>e.getFields().forEach(e=>e.detachIcon())),i.icon=i.icon??(({field:e,elements:t})=>{var r;let n,o,i,a,s,l=oc(),u={request:-1,animate:-1},c=e.element,{icon:d,control:m}=(r=t.control,n=e.element,o=e.boxElement,i=al({type:r,styles:aa.A}),(a=as({type:"button",classNames:[]})).tabIndex=-1,a.style.zIndex=e.zIndex.toString(),a.setAttribute("type","button"),s={icon:a,control:i.customElement,input:n,inputBox:o,form:e.getFormHandle().element},n!==o?o.insertBefore(i.customElement,o.firstElementChild):n.parentElement.insertBefore(i.customElement,n),i.shadowRoot.appendChild(a),s),p=e=>{let t=i6(e)?iF:i2(e)?iM:iP;d.style.setProperty("background-image",`url("${t}")`,"important")},g=P((e,t)=>{if(!e)return;let r=0!==t&&t?String(t):"";if(d.style.setProperty("--control-count",`"${r}"`),t>0)return d.style.setProperty("background-image",`url("${iL}")`,"important");p(e?.getState().status)}),f=()=>{cancelAnimationFrame(u.request),cancelAnimationFrame(u.animate)},h=(t=!1)=>{f();let r=e.getBoxElement({reflow:t}),n=e.getFormHandle().element;u.request=requestAnimationFrame(()=>{am({onAnimate:e=>u.animate=e,get:()=>e.element.getBoundingClientRect(),set:()=>{ac({input:c,control:m}),(e=>{let{input:t,inputBox:r}=e;au(t),((e,t)=>{let{icon:r,input:n}=e,o=(({input:e,control:t,form:r},{getInputStyle:n,getBoxStyle:o,inputBox:i})=>{((...e)=>{e.forEach(e=>{let t=e.style.transform;e.style.transform="translateZ(0)",e.offsetHeight,e.style.transform=t})})(e,t);let{right:a,top:s,height:l}=e.getBoundingClientRect(),{top:u,height:c}=i.getBoundingClientRect(),{top:d,right:m}=t.getBoundingClientRect(),p=i!==e,{value:g,offset:f}=i9(o,{node:i,mode:p?"inner":"outer"}),h=Math.max(Math.min(c-8,28),16),A=n("padding-left",i3),y=n("padding-right",i3),b=h/5,w=Math.max(Math.min(A,y)/1.5,b),v=(e=>{try{let{x:t,y:r,form:n,input:o,inputBox:i}=e,a=i.offsetWidth,s=.5*a;if(Number.isNaN(t)||Number.isNaN(r))return 0;let l=document.elementsFromPoint(t,r),u=0;for(let e of l){if(e===o||e===i)break;if(!it(e)||e.tagName.startsWith("PROTONPASS")||!n.contains(e)||e.matches("svg *")||(e.innerText?.length??0)>0&&(e.offsetWidth??0)>=.8*a)continue;let r=getComputedStyle(e);if("none"===r.display||"hidden"===r.visibility)continue;let{left:l}=e.getBoundingClientRect(),c=Math.max(0,t-l);c>u&&c<s&&(u=c)}return u}catch(e){return 0}})({x:a-(w+h/2),y:s+l/2,inputBox:i,input:e,form:r});v=0!==v?v+b+h/2:0;let C=Math.max(y,h+b+w+v),E=u-d+f.top+(g-h)/2,_=m-a+w+v;return{input:{paddingRight:i8(C)},icon:{top:i8(E),right:i8(_),size:i8(h),fontSize:h/2.5}}})(e,t),{transition:i,animation:a}=n.style;n.style.setProperty("transition","none"),n.style.setProperty("animation","none");let s=n.getBoundingClientRect().width;r.style.top=o.icon.top,r.style.right=o.icon.right,r.style.width=o.icon.size,r.style.height=o.icon.size,r.style.setProperty("--control-lineheight",o.icon.size),r.style.setProperty("--control-fontsize",i8(o.icon.fontSize)),n.setAttribute(ow,JSON.stringify({"padding-right":n.style.paddingRight})),n.style.setProperty("padding-right",o.input.paddingRight,"important"),n.getBoundingClientRect().width!==s&&(n.style.removeProperty("padding-right"),n.style.setProperty("padding-right",n.style.paddingRight)),requestAnimationFrame(()=>{n.style.setProperty("transition",i),n.style.setProperty("animation",a)})})(e,{inputBox:r,getInputStyle:i4(t),getBoxStyle:i4(r)})})({icon:d,control:m,input:c,inputBox:r,form:n})}})})},A=P((t,r)=>{if(d.setPointerCapture(r.pointerId),r.preventDefault(),r.stopPropagation(),!e.action||!t)return;let n=t.service.iframe,o=n.dropdown?.getState().visible,i=n.dropdown?.getCurrentField();if(o)return e===i&&(iB(e.element),e.element.focus()),n.dropdown?.close();iZ(t.getState().status)&&(iB(e.element),e.element.blur()),n?.attachDropdown(e.getFormHandle().element)?.open({action:e.action.type,field:e})}),y=iY(()=>{l.removeAll(),f(),ac({input:c,control:m}),d.remove(),m.remove()}),b=e.element===e.boxElement?e.element.parentElement:e.boxElement;return l.addListener(d,"pointerdown",A),l.addListener(d,"pointerup",e=>{d.releasePointerCapture(e.pointerId),e.preventDefault(),e.stopPropagation()}),l.addListener(window,"resize",()=>h(!1)),l.addResizeObserver(b,()=>h(!1)),l.addObserver(b,()=>{h(!0)},{childList:!0,subtree:!0}),h(!0),{element:d,setStatus:p,setCount:g,detach:y,reposition:h}})({field:i,elements:e.elements}),i.icon.setCount(t),i.icon}),detachIcon(){i.icon?.detach(),i.icon=null},attach({onChange:e,onSubmit:t}){let r;i.tracked=!0,o.removeAll(),o.addListener(i.element,"blur",P((e,t)=>{if(!0!==i.element.preventAction){let t=e?.service.iframe.dropdown,r=t?.getState().visible;t?.getCurrentField()===i&&r||i.detachIcon()}})),o.addListener(i.element,"focus",P(e=>{let{action:t,element:r}=i;e&&t&&requestAnimationFrame(async()=>{if(!0===r.preventAction)return;let{formType:n}=i.getFormHandle(),o=n===R.LOGIN?await e?.service.autofill.getCredentialsCount()??0:0;i.attachIcon({count:o});let a=e?.service.iframe.dropdown,s=a?.getCurrentField(),l=s?.element,u=a?.getState().visible,c=iZ(e.getState().status),d=u&&!iw(l),m=e?.getState().authorized&&(!u||d);(d||c)&&a?.close(),m&&e?.service.iframe.attachDropdown(i.getFormHandle().element)?.open({action:t.type,autofocused:!0,field:i})})})),o.addListener(i.element,"input",oH((r=ai()(P((e,t)=>{e?.service.iframe.dropdown?.sendMessage({type:o_.AUTOFILL_FILTER,payload:{startsWith:t}})}),250,{trailing:!0}),P(e=>{let t=e?.service.iframe.dropdown,{action:n,element:o}=i,{value:a}=i.element;t&&t.getState().visible&&(!0===o.preventAction||n?.filterable?n?.filterable&&r(a):t.close()),i.setValue(a)})),e)),o.addListener(i.element,"keydown",oH(({key:e})=>"Enter"===e&&t(),e)),o.addResizeObserver(i.element,()=>i.icon?.reposition(!1)),o.addObserver(i.element,P((e,t)=>{[S.PASSWORD_CURRENT,S.PASSWORD_NEW].includes(i.fieldType)||t.forEach(t=>{let r=t.target;"attributes"===t.type&&t.oldValue!==r.type&&(i.getFormHandle().detachField(t.target),e?.service.formManager.detect({reason:"FieldTypeChange"}))})}),{attributeFilter:["type"],attributeOldValue:!0})},detach:()=>{i.tracked=!1,i.detachIcon(),o.removeAll()}};return i},ag=["type","id","name"],af=["style","class",...ag],ah=e=>({childList:!0,subtree:!0,attributeFilter:e,attributes:!0,attributeOldValue:!0});var aA=r(73229);let ay=iY(e=>{if(e.assignedSlot)return e.assignedSlot;let t=e.parentElement;for(;t;){if(t.assignedSlot)return t.assignedSlot;t=t.parentElement}}),ab="popover"in HTMLElement.prototype,aw=(e,t)=>iY(()=>e.matches(t))()??!1,av=e=>iY(()=>Array.from(document.querySelectorAll(e)))()??[],aC=(o=av(":popover-open"),i=av(":modal"),a=new Set(o.concat(i)),(s=oc()).addListener(document,"toggle",({target:e})=>{e&&it(e)&&(e instanceof HTMLDialogElement||e.hasAttribute("popover"))&&((aw(e,":modal")||aw(e,":popover-open"))&&document.contains(e)?a.add(e):a.delete(e))},{capture:!0}),s.addObserver(document.body,e=>{for(let{removedNodes:t}of e)for(let e of t)it(e)&&a.delete(e)},{childList:!0,subtree:!0}),{disconnect:()=>s.removeAll(),ensureTopLevel:e=>{if(ab){let t=aC.elements;if(t.findIndex(oQ(e))!==t.length-1)return!1}return!0},get elements(){return Array.from(a)}}),aE=iY(e=>e.showPopover()),a_=iY(e=>e.hidePopover()),aT=(e,t)=>{let r=e.root;return{root:r,open:()=>{t?(r.customElement.setAttribute("popover","manual"),aE(r.customElement)):r.customElement.removeAttribute("popover")},close:()=>{if(t){let{dropdown:t,notification:n}=e;t?.getState().visible&&n?.getState().visible||a_(r.customElement)}}}};var aR=((w={})[w.PassDark=8]="PassDark",w[w.PassLight=12]="PassLight",w.OS="OS",w),aS=((v={}).LoginAutofillTelemetry="LoginAutofillTelemetry",v.PassAllowCreditCardFreeUsers="PassAllowCreditCardFreeUsers",v.PassBasicAuthAutofill="PassBasicAuthAutofill",v.PassContentScriptPopoverKillSwitch="PassContentScriptPopoverKillSwitch",v.PassContextMenu="PassContextMenu",v.PassCustomTypeV1="PassCustomTypeV1",v.PassDesktopAutotype="PassDesktopAutotype",v.PassEnableDesktopAutoUpdate="PassEnableDesktopAutoUpdate",v.PassExperimentalWebsiteRules="PassExperimentalWebsiteRules",v.PassExtensionCustomTLDs="PassExtensionCustomTLDs",v.PassHideShowVault="PassHideShowVault",v.PassItemCloning="PassItemCloning",v.PassProtonAnniversaryPromo2025="PassProtonAnniversaryPromo2025",v.PassRenameAdminToManager="PassRenameAdminToManager",v.PassWebInternalAlpha="PassWebInternalAlpha",v.PassWebPrfUnlock="PassWebPrfUnlock",v);Object.values(aS),aS.LoginAutofillTelemetry,aS.PassBasicAuthAutofill,aS.PassEnableDesktopAutoUpdate,aS.PassExperimentalWebsiteRules,aS.PassExtensionCustomTLDs,aS.PassHideShowVault,aS.PassItemCloning,aS.PassProtonAnniversaryPromo2025,aS.PassRenameAdminToManager,aS.PassWebInternalAlpha,aS.PassWebPrfUnlock;let aO=aR.OS;new Date("2025-05-28T12:00:00+01:00").getTime();let ax=(e,t,r=5e3)=>{let n,o,i="function"==typeof e?e:e.check,a="function"==typeof e?void 0:e.cancel,s=()=>{clearTimeout(n),clearInterval(o)};return new Promise((e,l)=>a?.()?l():i()?e():void(n=setTimeout(()=>l(s()),r),o=setInterval(()=>{if(a?.())return l(s());i()&&e(s())},t)))},aN=({animation:e,backdropClose:t,classNames:r=[],id:n,popover:o,src:i,backdropExclude:a,onClose:s,onDestroy:l,onError:u,onOpen:c,position:d,dimensions:m})=>{let p=new Map,g={action:null,framePort:null,loaded:!1,port:null,position:{top:-1,left:-1,right:-1,bottom:-1},positionReq:-1,ready:!1,visible:!1},f=P(e=>!!e?.getState().stale),h=()=>ax({check:()=>g.loaded,cancel:f},50),A=()=>ax({check:()=>g.ready,cancel:f},50),y=oc(),b=oc(),w=as({type:"iframe",classNames:r,attributes:{src:i},parent:o.root.shadowRoot});w.style.setProperty("--frame-animation",e);let v=y.addListener(window,"message",e=>{"PassIFrameReady"===e.data.type&&e.data.endpoint===n&&(g.loaded=!0,v())}),C=e=>{let t={...e,sender:"contentscript"};return A().then(()=>g.port?.postMessage({forwardTo:g.framePort,payload:t,sender:t.sender,type:F.PORT_FORWARDING_MESSAGE,version:"1.33.2"})).catch(e=>u?.(e))},E=(e,t,r)=>(p.set(e,i=>{i?.type===e&&i.sender===n&&(!r?.userAction||aC.ensureTopLevel(o.root.customElement)?t(i):B.warn(`[IFrame::${n}] Untrusted user action`))}),()=>p.delete(e)),_=({width:e,height:t})=>{w.style.setProperty("--frame-width",i8(e)),w.style.setProperty("--frame-height",i8(t))},T=()=>{cancelAnimationFrame(g.positionReq),g.positionReq=requestAnimationFrame(()=>(e=>{g.position=e;let{top:t,left:r,right:n}=e;w.style.setProperty("--frame-top",t?i8(t):"unset"),w.style.setProperty("--frame-left",r?i8(r):"unset"),w.style.setProperty("--frame-right",n?i8(n):"unset")})(d(o.root.customElement)))},R=(e={})=>{g.visible&&(cancelAnimationFrame(g.positionReq),b.removeAll(),o.close(),s?.(g,e),w.classList.remove("visible"),g.visible=!1,g.action=null,C({type:o_.IFRAME_HIDDEN}))},S=e=>z(e)&&"type"in e&&"string"==typeof e.type&&p.get(e.type)?.(e),O=async(e,t)=>{let r;g.port?.disconnect(),g.port=e,g.port.onMessage.addListener(S),g.port.onDisconnect.addListener(()=>g.ready=!1),(r={type:o_.IFRAME_INJECT_PORT,payload:{port:e.name}},q.onSuccess(j({type:F.RESOLVE_EXTENSION_KEY}),({key:e})=>h().then(()=>{let t={...r,key:e,sender:"contentscript"};w.contentWindow?.postMessage(t,i)}).catch(e=>u?.(e)))).then(()=>C({type:o_.IFRAME_INIT,payload:t()}))};return E(o_.IFRAME_CONNECTED,({payload:{framePort:e}})=>{g.ready=!0,g.framePort=e}),E(o_.IFRAME_CLOSE,e=>{R(e.payload),oS(oR.ExtensionUsed,{},{modelVersion:"0"})}),E(o_.IFRAME_DIMENSIONS,e=>{let{width:t,height:r}=ok(m(g),{height:e.payload.height});return _({width:t,height:r})}),{element:w,state:g,close:R,destroy:()=>{l?.(),R({discard:!1,refocus:!1}),y.removeAll(),b.removeAll(),g.port?.onMessage.removeListener(S),iY(()=>o.root.shadowRoot.removeChild(w))(),g.port=null},ensureLoaded:h,ensureReady:A,getPosition:()=>g.position,init:O,open:(e,r)=>{g.visible||(o.open(),g.action=e,g.visible=!0,b.addListener(window,"resize",T),b.addListener(window,"scroll",T),b.addListener(r,"scroll",T),t&&b.addListener(window,"mousedown",e=>{let t=e.target;t&&a?.().includes(t)||R({discard:!0,refocus:!1})}),C({type:o_.IFRAME_OPEN}),w.classList.add("visible"),_(m(g)),T(),c?.(g))},registerMessageHandler:E,sendPortMessage:C,updatePosition:T}};function aI(e){return(aI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var aP=/^\s+/,aF=/\s+$/;function aM(e,t){if(t=t||{},(e=e||"")instanceof aM)return e;if(!(this instanceof aM))return new aM(e,t);var r,n,o,i,a,s,l,u,c,d,m,p,g,f,h,A,y,b,w,v,C=(n={r:0,g:0,b:0},o=1,i=null,a=null,s=null,l=!1,u=!1,"string"==typeof(r=e)&&(r=function(e){e=e.replace(aP,"").replace(aF,"").toLowerCase();var t,r=!1;if(aQ[e])e=aQ[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=a3.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=a3.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=a3.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=a3.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=a3.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=a3.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=a3.hex8.exec(e))?{r:a5(t[1]),g:a5(t[2]),b:a5(t[3]),a:a5(t[4])/255,format:r?"name":"hex8"}:(t=a3.hex6.exec(e))?{r:a5(t[1]),g:a5(t[2]),b:a5(t[3]),format:r?"name":"hex"}:(t=a3.hex4.exec(e))?{r:a5(t[1]+""+t[1]),g:a5(t[2]+""+t[2]),b:a5(t[3]+""+t[3]),a:a5(t[4]+""+t[4])/255,format:r?"name":"hex8"}:!!(t=a3.hex3.exec(e))&&{r:a5(t[1]+""+t[1]),g:a5(t[2]+""+t[2]),b:a5(t[3]+""+t[3]),format:r?"name":"hex"}}(r)),"object"==aI(r)&&(a8(r.r)&&a8(r.g)&&a8(r.b)?(c=r.r,d=r.g,m=r.b,n={r:255*a0(c,255),g:255*a0(d,255),b:255*a0(m,255)},l=!0,u="%"===String(r.r).substr(-1)?"prgb":"rgb"):a8(r.h)&&a8(r.s)&&a8(r.v)?(i=a6(r.s),a=a6(r.v),p=r.h,g=i,f=a,p=6*a0(p,360),g=a0(g,100),f=a0(f,100),h=Math.floor(p),A=p-h,y=f*(1-g),b=f*(1-A*g),w=f*(1-(1-A)*g),n={r:255*[f,b,y,y,w,f][v=h%6],g:255*[w,f,f,b,y,y][v],b:255*[y,y,w,f,f,b][v]},l=!0,u="hsv"):a8(r.h)&&a8(r.s)&&a8(r.l)&&(i=a6(r.s),s=a6(r.l),n=function(e,t,r){var n,o,i;function a(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=a0(e,360),t=a0(t,100),r=a0(r,100),0===t)n=o=i=r;else{var s=r<.5?r*(1+t):r+t-r*t,l=2*r-s;n=a(l,s,e+1/3),o=a(l,s,e),i=a(l,s,e-1/3)}return{r:255*n,g:255*o,b:255*i}}(r.h,i,s),l=!0,u="hsl"),r.hasOwnProperty("a")&&(o=r.a)),o=aJ(o),{ok:l,format:r.format||u,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:o});this._originalInput=e,this._r=C.r,this._g=C.g,this._b=C.b,this._a=C.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||C.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=C.ok}function aL(e,t,r){var n,o,i=Math.max(e=a0(e,255),t=a0(t,255),r=a0(r,255)),a=Math.min(e,t,r),s=(i+a)/2;if(i==a)n=o=0;else{var l=i-a;switch(o=s>.5?l/(2-i-a):l/(i+a),i){case e:n=(t-r)/l+6*(t<r);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:o,l:s}}function ak(e,t,r){var n,o=Math.max(e=a0(e,255),t=a0(t,255),r=a0(r,255)),i=Math.min(e,t,r),a=o-i;if(o==i)n=0;else{switch(o){case e:n=(t-r)/a+6*(t<r);break;case t:n=(r-e)/a+2;break;case r:n=(e-t)/a+4}n/=6}return{h:n,s:0===o?0:a/o,v:o}}function aD(e,t,r,n){var o=[a2(Math.round(e).toString(16)),a2(Math.round(t).toString(16)),a2(Math.round(r).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function aU(e,t,r,n){return[a2(a4(n)),a2(Math.round(e).toString(16)),a2(Math.round(t).toString(16)),a2(Math.round(r).toString(16))].join("")}function aB(e,t){t=0===t?0:t||10;var r=aM(e).toHsl();return r.s-=t/100,r.s=a1(r.s),aM(r)}function aG(e,t){t=0===t?0:t||10;var r=aM(e).toHsl();return r.s+=t/100,r.s=a1(r.s),aM(r)}function aH(e){return aM(e).desaturate(100)}function aW(e,t){t=0===t?0:t||10;var r=aM(e).toHsl();return r.l+=t/100,r.l=a1(r.l),aM(r)}function a$(e,t){t=0===t?0:t||10;var r=aM(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-(t/100*255)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-(t/100*255)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-(t/100*255)))),aM(r)}function aq(e,t){t=0===t?0:t||10;var r=aM(e).toHsl();return r.l-=t/100,r.l=a1(r.l),aM(r)}function aY(e,t){var r=aM(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,aM(r)}function aj(e){var t=aM(e).toHsl();return t.h=(t.h+180)%360,aM(t)}function az(e,t){if(isNaN(t)||t<=0)throw Error("Argument to polyad must be a positive number");for(var r=aM(e).toHsl(),n=[aM(e)],o=360/t,i=1;i<t;i++)n.push(aM({h:(r.h+i*o)%360,s:r.s,l:r.l}));return n}function aV(e){var t=aM(e).toHsl(),r=t.h;return[aM(e),aM({h:(r+72)%360,s:t.s,l:t.l}),aM({h:(r+216)%360,s:t.s,l:t.l})]}function aK(e,t,r){t=t||6,r=r||30;var n=aM(e).toHsl(),o=360/r,i=[aM(e)];for(n.h=(n.h-(o*t>>1)+720)%360;--t;)n.h=(n.h+o)%360,i.push(aM(n));return i}function aZ(e,t){t=t||6;for(var r=aM(e).toHsv(),n=r.h,o=r.s,i=r.v,a=[],s=1/t;t--;)a.push(aM({h:n,s:o,v:i})),i=(i+s)%1;return a}aM.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n=this.toRgb();return .2126*((e=n.r/255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*((t=n.g/255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*((r=n.b/255)<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=aJ(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=ak(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=ak(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=aL(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=aL(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return aD(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){var t,r,n,o,i;return t=this._r,r=this._g,n=this._b,o=this._a,i=[a2(Math.round(t).toString(16)),a2(Math.round(r).toString(16)),a2(Math.round(n).toString(16)),a2(a4(o))],e&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*a0(this._r,255))+"%",g:Math.round(100*a0(this._g,255))+"%",b:Math.round(100*a0(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*a0(this._r,255))+"%, "+Math.round(100*a0(this._g,255))+"%, "+Math.round(100*a0(this._b,255))+"%)":"rgba("+Math.round(100*a0(this._r,255))+"%, "+Math.round(100*a0(this._g,255))+"%, "+Math.round(100*a0(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(aX[aD(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+aU(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var o=aM(e);r="#"+aU(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return!t&&n&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e)?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return aM(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(aW,arguments)},brighten:function(){return this._applyModification(a$,arguments)},darken:function(){return this._applyModification(aq,arguments)},desaturate:function(){return this._applyModification(aB,arguments)},saturate:function(){return this._applyModification(aG,arguments)},greyscale:function(){return this._applyModification(aH,arguments)},spin:function(){return this._applyModification(aY,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(aK,arguments)},complement:function(){return this._applyCombination(aj,arguments)},monochromatic:function(){return this._applyCombination(aZ,arguments)},splitcomplement:function(){return this._applyCombination(aV,arguments)},triad:function(){return this._applyCombination(az,[3])},tetrad:function(){return this._applyCombination(az,[4])}},aM.fromRatio=function(e,t){if("object"==aI(e)){var r={};for(var n in e)e.hasOwnProperty(n)&&("a"===n?r[n]=e[n]:r[n]=a6(e[n]));e=r}return aM(e,t)},aM.equals=function(e,t){return!!e&&!!t&&aM(e).toRgbString()==aM(t).toRgbString()},aM.random=function(){return aM.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},aM.mix=function(e,t,r){r=0===r?0:r||50;var n=aM(e).toRgb(),o=aM(t).toRgb(),i=r/100;return aM({r:(o.r-n.r)*i+n.r,g:(o.g-n.g)*i+n.g,b:(o.b-n.b)*i+n.b,a:(o.a-n.a)*i+n.a})},aM.readability=function(e,t){var r=aM(e),n=aM(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)},aM.isReadable=function(e,t,r){var n,o,i,a,s,l=aM.readability(e,t);switch(s=!1,(o=((n=(n=r)||{level:"AA",size:"small"}).level||"AA").toUpperCase(),i=(n.size||"small").toLowerCase(),"AA"!==o&&"AAA"!==o&&(o="AA"),"small"!==i&&"large"!==i&&(i="small"),a={level:o,size:i}).level+a.size){case"AAsmall":case"AAAlarge":s=l>=4.5;break;case"AAlarge":s=l>=3;break;case"AAAsmall":s=l>=7}return s},aM.mostReadable=function(e,t,r){var n,o,i,a,s=null,l=0;o=(r=r||{}).includeFallbackColors,i=r.level,a=r.size;for(var u=0;u<t.length;u++)(n=aM.readability(e,t[u]))>l&&(l=n,s=aM(t[u]));return aM.isReadable(e,s,{level:i,size:a})||!o?s:(r.includeFallbackColors=!1,aM.mostReadable(e,["#fff","#000"],r))};var aQ=aM.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},aX=aM.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(aQ);function aJ(e){return(isNaN(e=parseFloat(e))||e<0||e>1)&&(e=1),e}function a0(e,t){"string"==typeof(r=e)&&-1!=r.indexOf(".")&&1===parseFloat(r)&&(e="100%");var r,n,o="string"==typeof(n=e)&&-1!=n.indexOf("%");return(e=Math.min(t,Math.max(0,parseFloat(e))),o&&(e=parseInt(e*t,10)/100),1e-6>Math.abs(e-t))?1:e%t/parseFloat(t)}function a1(e){return Math.min(1,Math.max(0,e))}function a5(e){return parseInt(e,16)}function a2(e){return 1==e.length?"0"+e:""+e}function a6(e){return e<=1&&(e=100*e+"%"),e}function a4(e){return Math.round(255*parseFloat(e)).toString(16)}var a3=(E="[\\s|\\(]+("+(C="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+C+")[,|\\s]+("+C+")\\s*\\)?",_="[\\s|\\(]+("+C+")[,|\\s]+("+C+")[,|\\s]+("+C+")[,|\\s]+("+C+")\\s*\\)?",{CSS_UNIT:new RegExp(C),rgb:RegExp("rgb"+E),rgba:RegExp("rgba"+_),hsl:RegExp("hsl"+E),hsla:RegExp("hsla"+_),hsv:RegExp("hsv"+E),hsva:RegExp("hsva"+_),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function a8(e){return!!a3.CSS_UNIT.exec(e)}let a9=P(e=>ab&&!e?.getFeatureFlags().PassContentScriptPopoverKillSwitch),a7="Pass::MainWorld::Response",se="Pass::MainWorld::Abort",st="Pass::MainWorld::Disconnect",sr=[F.PASSKEY_CREATE,F.PASSKEY_GET,F.PASSKEY_INTERCEPT],sn=(e,t)=>({response:e,token:t,type:a7}),so=e=>t=>r=>"object"==typeof r&&r?.token===t&&r?.type===e,si=so(se);so(st),so(a7);let sa=e=>(t,r)=>t.startsWith(`${e}-${r??""}`);sa("popup"),sa("page"),sa("contentscript");let ss=N("extension"),sl=async e=>{let t=Y(e.endpoint),r=`Context::Extension::${e.endpoint}`;try{let n,{tabId:o=0,senderTabId:i=0,url:a=null}=await q.on(t({type:F.TABS_QUERY,payload:{current:"popup"===e.endpoint}}),e=>"error"===e.type?{tabId:0,url:null,senderTabId:0}:e),s=(n=e.endpoint,`${n}-${i}-${od(16)}`),l=W.runtime.connect(W.runtime.id,{name:s});B.info(`[${r}] tabId resolved & port opened`);let u=async()=>{let{recycle:t}=e.onDisconnect();if(B.info(`[${r}] port disconnected [reconnect=${t}]`),t)try{await iT(250);let t=await sl(e);return e.onRecycle?.(t)}catch{B.info(`[${r}] Recycling context failed`)}},c=iY(()=>l.disconnect()),d=oH(()=>l.onDisconnect.removeListener(u),c,ss.clear);return l.onDisconnect.addListener(u),ss.set({endpoint:e.endpoint,port:l,tabId:o,senderTabId:i,url:a,destroy:d})}catch(t){throw B.info(`[${r}] fatal error`,t),ss.clear(),e.onError?.(t),t}},su={Autofill:1,Autofill2FA:2,Autosuggest:4,Autosave:8,Passkey:16};Object.values(su).reduce((e,t)=>e^t,0);let sc=(e,t)=>((e??0)&su[t])!=0,sd=od(16),sm=(()=>{try{return window.self===window.top}catch(e){return!1}})();(async e=>{var t;let r,n,o;r=D().methodFactory,D().methodFactory=function(e,t,n){let o=r(e,t,n);return function(...e){try{((...e)=>q(j({type:F.LOG_EVENT,payload:{log:e.join(" ")}})))(...e.map(e=>e instanceof Error?e.message:e)),o(...e)}catch{}}},D().rebuild();let i=(t=await e(),o={instance:null,probe:(n={},{start:(e,t)=>{B.debug(`[ActivityProbe] probe set to ${t}ms`),clearInterval(n?.interval),n.interval=setInterval(e,t),e()},cancel:()=>{B.debug("[ActivityProbe] Cancelling probe.."),clearInterval(n?.interval)}}),listeners:oc(),startClient:op()(async()=>{if(!o.instance)return o.instance=(({scriptId:e,mainFrame:t,elements:r,onError:n})=>{var o,i,a,s,l;let u,c,d,m,p,g,f,h,A,y,b,w,v,C,E,_,T,x,N,M,L,k,D,G,H,$,Y,z,K,Z,Q,X,J=(o={elements:r,mainFrame:t,scriptId:e,destroy:t=>{B.info(`[ContentScript::${e}] destroying.. [reason: "${t.reason}"]`),J.setState({stale:!0}),J.service.formManager.destroy(),J.service.iframe.destroy(),J.service.webauthn?.destroy(),aC.disconnect(),(({root:e,control:t})=>{document.querySelectorAll(`${e}, ${t}`).forEach(e=>e.remove()),document.querySelectorAll(`input[${ow}]`).forEach(e=>au(e))})(r),ss.read()?.destroy()}},u={authorized:!1,booted:!1,localID:void 0,ready:!1,stale:!1,status:ij.IDLE,UID:void 0},ia.add(o.elements.control.toUpperCase()),ia.add(o.elements.root.toUpperCase()),c={autofill:{identity:!0,twofa:!0},autosave:{prompt:!0,passwordSuggest:!0},autosuggest:{password:!0,email:!0,passwordCopy:!1},disallowedDomains:{},loadDomainImages:!0,passkeys:{get:!0,create:!0},passwordOptions:null,showUsernameField:!1,theme:void 0},d={},X=I.set({elements:o.elements,mainFrame:o.mainFrame,scriptId:o.scriptId,service:{autofill:(m={credentialsCount:null,identitiesCount:null},p=oq(async()=>m.credentialsCount=m.credentialsCount??await q.on(j({type:F.AUTOFILL_LOGIN_QUERY,payload:{}}),e=>"success"===e.type?e.items.length:0)),g=oq(async()=>m.identitiesCount=m.identitiesCount??await q.on(j({type:F.AUTOFILL_IDENTITY_QUERY}),e=>"success"===e.type?e.items.length:0)),f=P(async(e,t)=>{let r=e?.getState().authorized??!1;(t?.forceSync||!r)&&(m.credentialsCount=null,m.identitiesCount=null);let n=e?.service.formManager.getTrackedForms(),o=n?.filter(e=>e.formType===R.LOGIN)??[],i=n?.some(e=>e.getFieldsFor(S.IDENTITY).length>0);if(o.length){let e=r?await p():0;o?.forEach(t=>t.getFields().forEach(t=>t.icon?.setCount(e)))}i&&r&&await g()}),{autofillIdentity:async(e,t)=>{let r=e.getFormHandle().getFields();for(let t of r)t.autofilled&&t.fieldType===S.IDENTITY&&t.sectionIndex===e.sectionIndex&&(await t.autofill(""),t.autofilled=null);await o8(r,e,t)},autofillLogin:async(e,t)=>{for(let r of(await o$(e.getFieldsFor(S.USERNAME)??[])?.autofill(t.userIdentifier),await o$(e.getFieldsFor(S.EMAIL)??[])?.autofill(t.userIdentifier),e.getFieldsFor(S.PASSWORD_CURRENT)))await r.autofill(t.password);oS(oR.AutofillTriggered,{},{location:"source"})},autofillOTP:async(e,t)=>{let r=e.getFieldsFor(S.OTP);if(0!==r.length){if(1===r.length&&await r[0].autofill(t,{paste:!1}),r.length>1)for(let[e,n]of(await r[0].autofill(t,{paste:!0}),r.map((e,r)=>[e,t?.[r]??""])))e.element.value&&e.element.value===n||await e.autofill(n??"");oS(oR.TwoFAAutofill,{},{})}},autofillPassword:P(async(e,t,r)=>{let n=e?.getExtensionContext()?.url;if(n){for(let e of t.getFieldsFor(S.PASSWORD_NEW))await e.autofill(r);q(j({type:F.STORE_DISPATCH,payload:{action:oW({id:od(),value:r,origin:(({domain:e,subdomain:t,hostname:r})=>t??e??r)(n),createTime:Math.round(new Date().getTime()/1e3)})}}))}}),getCredentialsCount:p,getIdentitiesCount:g,promptOTP:P(async e=>!!(e?.service.formManager.getTrackedForms().some(e=>!tv(e.element)&&e.getFieldsFor(S.OTP).length>0)&&e?.getFeatures().Autofill2FA)&&q.on(j({type:F.AUTOFILL_OTP_CHECK}),t=>"success"===t.type&&!!t.shouldPrompt&&(e?.service.iframe.attachNotification()?.open({action:oT.OTP,item:((e,t=[])=>{let r={...e};for(let e=0;e<t.length;++e)delete r[t[e]];return r})(t,["type","shouldPrompt"])}),!0))),sync:f}),autosave:(h=P((e,{autosave:t,data:r,submittedAt:n})=>!!t.shouldPrompt&&!!e?.getFeatures().Autosave&&(e.service.iframe.attachNotification()?.open({action:oT.AUTOSAVE,data:{...t.data,...r,submittedAt:n}}),!0)),A=op()(P(async e=>{let t=await q.on(j({type:F.FORM_ENTRY_REQUEST}),e=>"success"===e.type?e.submission:null);if(!t)return!1;let{status:r,type:n,data:o,formId:i,submittedAt:a}=t,s=e?.getExtensionContext()?.url,l=s&&oz.every(e=>s[e]===t[e]),u=e?.service.formManager.getTrackedForms()??[],c=u.find(({id:e})=>e===i),d=u.filter(({formType:e,detached:t})=>e===n&&!t),m=d.length>0,p=d.some(({tracker:e})=>e?.getState().processing),g=null!==a&&ie(o,{type:n,partial:!1}),f=r===o9.STAGING&&l&&!m&&g;if(B.debug(`[Autosave] Reconciliating [formId:${i}]`),p)return B.debug(`[Autosave] submission loading [formId:${i}]`),!1;if(f){let e=await q(j({type:F.FORM_ENTRY_COMMIT,payload:{reason:"AUTOSAVE::FORM_REMOVED"}}));return"success"===e.type&&!!e.submission&&h(e.submission)}return t.status===o9.COMMITTED&&t.autosave.shouldPrompt&&!m?h(t):(m&&(g||!o.userIdentifier)&&(c?c.tracker?.sync({submit:!1,partial:!0,reset:!0}).catch(U):(B.debug(`[Autosave] Stashing for type match [type:${n}]`),d.forEach(({tracker:e})=>e?.reset()),o7("FORM_TYPE_PRESENT"))),!1)}),250),{promptAutoSave:h,reconciliate:A}),detector:(y={rules:null},w={init:async()=>{await q.onSuccess(j({type:F.WEBSITE_RULES_REQUEST}),({rules:e})=>{null!==e&&(B.debug("[Detector] Resolved website detection rules"),y.rules=e)}).catch(U)},applyRules:()=>{y.rules?.exclude?.forEach(e=>{let t=document.querySelector(e);t&&tE(t)}),y.rules?.version==="2"&&y.rules?.include?.forEach(e=>{let{selector:t,formType:r,fields:n}=e,o=iy(document,t);o&&(({form:e,formType:t,fields:r})=>{rV(e)&&((delete e.__PP_TYPE__,tx(e,t,1),tk(e.getRootNode()))?rZ.add(e):"FORM"!==e.tagName&&tA(e),r.forEach(({field:e,fieldType:t})=>{delete e.__PP_TYPE__,tx(e,t,1),tk(e.getRootNode())&&rQ.add(e)}))})({form:o,formType:r,fields:(n??[])?.map(({selector:e,fieldType:t})=>{let r=iy(o,e);if(r)return{field:r,fieldType:t}}).filter(oX)})})},isEnabled:iI,shouldRunDetection:()=>new Promise(async e=>{await iT(50),requestIdleCallback(()=>{w.applyRules(),((e=document)=>{((e=document)=>{let t=document.body.querySelectorAll("*").length;return e.querySelectorAll("form").forEach(e=>{if(os(e)){let r=e.querySelectorAll(e8).length,n=e.querySelectorAll(tn).length,o=e.matches("body > form"),i=e.querySelectorAll("*").length,a=0===n||n>40||r>60||o&&i>=.8*t;if(a&&!o)return tE(e);if(a&&o||e.matches("table form")&&e.closest("table").querySelectorAll("form").length>2)return tC(e)}})})(e),((e=document)=>{e.querySelectorAll("table").forEach(e=>{if(os(e)&&!e.querySelector("table")&&null===e.closest("form")){let t=e.querySelectorAll("form");if(t.length>2||!t.length&&(null!==e.querySelector("thead")||Math.max(...Array.from(e.rows).map(e=>e.cells.length))>3||tc(e).area>15e4))return tE(e)}}),e.querySelectorAll('div[class*="editor" i], div[id*="editor" i], div[class*="composer" i], div[id*="composer" i]').forEach(tE)})(e),((e=document)=>{e.querySelectorAll("input").forEach(e=>{if(tM(e)){if(!tq.includes(e.type))return tC(e);if("hidden"===e.type){let t=e.value.trim();if(!t.length||t.length>320||tW.includes(t)||!e.matches('[name*="user" i],[id*="user" i],[name*="login" i],[id*="login" i],[name*="email" i],[id*="email" i],[name*="identifier" i],[id*="identifier" i]'))return tC(e)}}})})(e),(e=>{let t,r=nF(e),n=e=>e.filter(e=>!r.some(t=>t.contains(e))&&rK(e)),o=n(Array.from(e.querySelectorAll(e8)).filter(e=>tM(e)&&"hidden"!==e.getAttribute("type"))),i=o.filter(e=>e.matches(tn));if(0===i.length||i.length>50)return;let a=Array.from(e.querySelectorAll(e7)).filter(e=>e!==document.body),s=(t=[],i.map(e=>th(e,t,20)).filter(e=>!!e)),l=tg(a.filter(e=>!s.some(t=>e.contains(t))).concat(s)),u=tu(o,n(Array.from(document.querySelectorAll(tt)).filter(nN)));if(u.length>50)return;let c=new WeakMap(u.map(e=>[e,l.find(t=>t.contains(e))]));return tg(oo(u,1,(e,t)=>{if(e.parentElement===t.parentElement)return 0;let r=c.get(e),n=c.get(t);return r!==n?Number.MAX_SAFE_INTEGER:r&&r===n||((e,t)=>{let r=oa(e),n=oa(t),o=275/(r.isField&&n.isField?2:1),{dx:i,dy:a}=tp(r.rect,n.rect),s=Math.abs(r.rect.left/n.rect.left),l=Math.abs(r.rect.top/n.rect.top),u=s>.95&&s<1.05,c=l>.95&&l<1.05;return!!u&&!!c||!!u&&a<o||!!c&&i<50||i<50&&a<o})(e,t)?0:Number.MAX_SAFE_INTEGER}).map(e=>{let t;return 1===e.length?ts(t=e[0],5)((e,r)=>r===t||0===r.querySelectorAll(to).length):e.reduce(tf)}).filter(e=>document.body!==e&&e.querySelectorAll(tn).length>0)).forEach(tA),oi.cache=new WeakMap})(e)})(),e(!!rX().concat(nF()).reduce((e,t)=>{if(t_(t)){let r=nP(t).some(nI);return r&&tL(t,{preserveIgnored:!1}),e||r}return rV(t)?(delete t.__PP_HIDDEN__,!0):e},!1)||rJ().concat(nP()).some(nI))})}),runDetection:(b=document,({excludedFieldTypes:e=[],onBottleneck:t})=>{let r,n,o,[i,a]=(r=()=>{let t=iR.against(b.body);return[iO(t,{type:"form",subTypes:e0,selectBest:iN}),iO(t,{type:"field",subTypes:e1.filter(t=>!e.includes(t)),selectBest:ix})]},n={maxTime:250,onMaxTime:e=>{let{hostname:r}=window.location;if(e>=1e3)throw t({detectionTime:e,hostname:r}),Error()}},(...e)=>{let t=performance.now(),o=r(...e),i=performance.now()-t;return i>=n.maxTime&&n.onMaxTime(i),o})(),s=(o=new WeakMap,a.forEach(({fnode:e,type:t})=>{let r=e.element,n=i.find(({fnode:e})=>tG(e.element,r))?.fnode.element??iS,a=o?.get(n)??[];return a.push({fieldType:t,field:r}),o.set(n,a)}),o),l=i.map(({fnode:e,type:t})=>{let r,n=s.get(e.element)??[];return{form:e.element,formType:t,fields:n.sort((r=oV("field"),(e,t)=>((e,t)=>{if(e===t)return 0;let r=e.compareDocumentPosition(t);return r&iv||r&i_?-1:r&iC||r&iE?1:0})(r(e),r(t))))}}).filter(({formType:e,fields:t})=>e!==R.NOOP||t.length>0);return ou(),l})}),formManager:(i={onDetection:async e=>{e.length>0?X.service.iframe.attachDropdown(document.body):X.service.iframe.dropdown?.destroy(),await X.service.autofill.sync().catch(U);let t=await X.service.autofill.promptOTP();await (!t&&X.service.autosave.reconciliate())}},v={active:!1,detectionAt:0,detectionCount:0,detectionRequest:-1,observer:null,staleMutationsCount:0,trackedForms:new Map},C=oc(),E=()=>Array.from(v.trackedForms.values()),_=e=>{v.trackedForms.get(e)?.detach(),v.trackedForms.delete(e)},T=P(e=>{B.info("[FormManager::Detector] Bottleneck detected : destroying context."),e?.destroy({reason:"bottleneck"})}),x=ai()(P(async(e,t)=>{let r=e?.getSettings(),n=e?.getFeatures(),o=!!(n?.Autofill&&r?.autofill.identity),a=[];if(o||a.push(S.IDENTITY),n?.Autofill2FA||a.push(S.OTP),-1!==v.detectionRequest)return!1;let s=((e=!1)=>(v.trackedForms.forEach(t=>{t.detached&&(_(t.element),e=!0)}),e))();return await e?.service.detector.shouldRunDetection()?(v.detectionRequest=requestIdleCallback(()=>{if(v.active){B.debug(`[FormTracker::Detector] Running detection for "${t}"`);try{let t=e?.service.detector.runDetection({onBottleneck:T,excludedFieldTypes:a});t?.forEach(e=>{let t=v.trackedForms.get(e.form)??(e=>{var t;let r,n,{form:o,formType:i,fields:a}=e,s=oc(),l=(r=(t=e.fields.map(oV("field"))).length>1?new WeakMap:null,n=Math.max(0,...t.map(e=>iq(e,r))),r=null,n+5),u=i$(o),c={id:od(),canAutosave:!e.form.hasAttribute("data-protonpass-autosave-ignore"),element:o,formType:i,fields:new Map(a.map(({fieldType:e,field:t})=>[t,ap({element:t,formType:i,fieldType:e,zIndex:l,getFormHandle:()=>c})])),get busy(){let e=Array.from(o.querySelectorAll(to)),t=c.getFields(({element:e})=>iH(e));return iH(o)||e.some(iH)||t.length>0||iW(o)},get detached(){return!tG(document.body,o)||!rV(o,{skipCache:!0})},getFieldsFor:(e,t)=>Array.from(c.fields.values()).filter(r=>r.fieldType===e&&(t?.(r)??!0)),getFields:e=>{let t=Array.from(c.fields.values());return e?t.filter(e):t},detachField:P((e,t)=>{iB(t),c.fields.get(t)?.detach(),c.fields.delete(t),tL(t,{preserveIgnored:!1}),e?.service.iframe.dropdown?.getCurrentField()?.element===t&&e?.service.iframe.dropdown?.close()}),reconciliate:(t,r)=>{let n=t!==c.formType,o=!1;c.formType=t,c.canAutosave=!e.form.hasAttribute("data-protonpass-autosave-ignore"),c.getFields().forEach(e=>{r.some(t=>e.element===t.field)||(n=!0,c.detachField(e.element))});let i=c.fields,a=new Map;r.forEach(({field:e,fieldType:r})=>{let i=c.fields.get(e);n=void 0===i,o=o||r===S.IDENTITY;let s=i??ap({element:e,formType:t,fieldType:r,zIndex:l,getFormHandle:()=>c});a.set(s.element,s)}),c.fields=a,i.clear(),o&&c.getFields().reduce((e,t)=>{let{fieldType:r}=t,n=r===S.IDENTITY,o=r===S.EMAIL;if(!(n||o))return e;let i=o?O.EMAIL:t.identityType??nQ(t.element);if(void 0===i)return e;let a=e[e.length-1],s={field:t,type:i};if(0===e.length)return[{types:new Set([i]),fields:[s]}];let l=a.fields[a.fields.length-1]?.type;return(i===O.ADDRESS||i===O.FIRSTNAME||i===O.FULLNAME)&&a.types.has(i)&&i!==l?[...e,{types:new Set([i]),fields:[s]}]:(a.types.add(i),a.fields.push(s),e)},[]).forEach((e,t)=>{e.fields.forEach(({field:e,type:r})=>{e.sectionIndex=t,e.identityType=r})}),n&&c.tracker?.reset()},attach(){c.tracker=c.tracker??(e=>{let{tagName:t}=e.element,r=oc(),n={error:!1,processing:!1,submitted:!1,detached:!1};B.debug(`[FormTracker] Tracking form [${t}:${e.formType}:${e.id}]`);let o=()=>{clearTimeout(n.timerIdle),delete n.timerIdle},i=()=>{clearTimeout(n.timerSubmit),delete n.timerSubmit},a=()=>{B.debug(`[FormTracker] Resetting state [formId:${e.id}]`),o(),i(),n.submitted=!1,n.processing=!1,n.error=!1,delete n.submittedAt},s=P((e,t)=>{let r,n=e?.getFeatures(),o=e?.getSettings(),i=o?.autofill&&(void 0===(r=o.autofill).inject&&void 0===r.openOnFocus||!!(r.inject||r.openOnFocus));switch(t){case oE.AUTOFILL_LOGIN:return!!(n?.Autofill&&(o?.autofill.login??i));case oE.AUTOFILL_IDENTITY:return!!(n?.Autofill&&(o?.autofill.identity??i));case oE.AUTOSUGGEST_ALIAS:return n?.AutosuggestAlias??!1;case oE.AUTOSUGGEST_PASSWORD:return n?.AutosuggestPassword??!1}}),l=()=>{let t=e=>{let t;return t=e.value,(t?.trim().length??0)!==0},r=o$(e.getFieldsFor(S.USERNAME,t)),n=o$(e.getFieldsFor(S.USERNAME_HIDDEN,t)),o=o$(e.getFieldsFor(S.EMAIL,t)),i=oJ(e.getFieldsFor(S.PASSWORD_NEW,t)),a=oJ(e.getFieldsFor(S.PASSWORD_CURRENT,t));return{userIdentifier:(r??o??n)?.value??"",password:(i??a)?.value??""}},u=t=>{o(),n.timerIdle=setTimeout(()=>{o(),n.processing||e.busy||e.detached||(B.debug(`[FormTracker] Idle reconciliation [formId:${e.id}]`),t())},5e3)},c=oY(async t=>{if(!e.canAutosave)return null;let r=t.data??l(),s=ie(r,{type:e.formType,partial:t.partial});if(t.reset&&a(),n.interactionAt&&!n.processing&&s){let a;B.debug(`[FormTracker] Syncing submission [formId:${e.id}|submit:${t.submit}]`);let s=await (a={action:(e=>{if(ii(e)){let t=e.action;return"string"==typeof t?t:t.value}})(e.element),data:r,reason:`FORM_TRACKER[submit=${t.submit}]`,submit:t.submit,type:e.formType,formId:e.id},q(j({type:F.FORM_ENTRY_STAGE,payload:a})));return t.submit&&!n.detached&&(n.processing=!0,n.submittedAt=Date.now(),o(),i(),n.timerSubmit=setTimeout(()=>{B.debug(`[FormTracker] Submit timeout [formId:${e.id}]`),delete n.timerSubmit,n.processing=!1,n.submitted=!0,n.error=!1,u(()=>c({submit:!1,partial:!0,reset:!0}))},1e3)),"success"===s.type?s.submission:null}return null}),d=()=>{n.interactionAt=Date.now(),n.processing=!1,n.timerIdle&&(B.debug(`[FormTracker] Detected interaction while idle [formId:${e.id}]`),c({submit:!1,partial:!0,reset:!0}))},m=P(async t=>{n.submittedAt=Date.now(),n.interactionAt=Date.now(),e.getFields().forEach(({element:e})=>iB(e));let r=t?.service.iframe.dropdown;r?.getState().visible&&r?.close(),await c({partial:!0,submit:!0})}),p=P(t=>{t&&(e.getFields().forEach(t=>{let r=iU[e.formType].find(({type:e})=>e===t.fieldType);if(!r)return t.detach();let{action:n,filterable:o}=r;t.setAction(n&&s(n)?{type:n,filterable:o}:null),t.tracked||t.attach({onChange:d,onSubmit:m})}),e.getFields().find(e=>iw(e.element)&&!e.value)?.focus())}),g=t=>{if(V(t,{sender:"background",type:F.FORM_STATUS})){let{formId:r,status:s}=t.payload;if(r===e.id)switch(s){case"loading":B.debug(`[Autosave] Form loading detected [formId:${r}]`),n.processing=!0,n.submitted=!1,n.error=!1,i(),o();break;case"submitted":B.debug(`[Autosave] Form submit detected [formId:${r}]`),n.processing=!1,n.submitted=!0,n.error?(o7("XMLHTTP_ERROR"),a()):u(()=>c({submit:!1,partial:!0,reset:!0}));break;case"error":B.debug(`[Autosave] Form error detected [formId:${r}]`),n.error=!0}}};return r.addListener(window,"beforeunload",()=>e.busy&&m()),r.addListener(e.element,"submit",m),W.runtime.onMessage.addListener(g),Array.from(e.element.querySelectorAll(tt)).filter(nN).forEach(e=>r.addListener(e,"click",m)),{detach:()=>{let t=e.element,a=e.getFields(),s=l();n.detached=!0,n.processing=!1,r.removeAll(),o(),i(),e.getFields().forEach(e=>e.detach()),W.runtime.onMessage.removeListener(g),requestAnimationFrame(()=>{if(!n.interactionAt||n.error)return;let e=document.contains(t)&&a.some(({element:e})=>document.contains(e)),r=!n.submittedAt||Date.now()-n.submittedAt<250;!e&&r||c({submit:!0,partial:!0,data:s}).catch(U)})},getState:()=>n,reconciliate:p,reset:a,sync:c}})(c),c.tracker.reconciliate()},detach:P(e=>{B.debug(`[FormHandles]: Detaching tracker for form [${i}:${c.id}]`);let t=e?.service.iframe.dropdown,r=e?.service.iframe.notification,n=t?.getCurrentField()??null,a=r?.getState().action;s.removeAll(),c.tracker?.detach(),c.getFields().forEach(e=>{e===n&&t?.close(),e.fieldType===S.OTP&&a===oT.OTP&&r?.close(),e.detach()}),tL(o,{preserveIgnored:!0,fields:c.getFields().map(oV("element"))})})},d=e=>{c.getFields().forEach(t=>t.action&&t.icon?.reposition(e))},m=op()(P(t=>{d(!0);let r=e.form.parentElement;(null===r||ic(r))&&t?.service.formManager.detect({reason:"NewFormFieldsOnResize"})}),50);return s.addResizeObserver(e.form,m),s.addListener(u,"scroll",()=>d(!1)),c})(e);v.trackedForms.set(e.form,t),t.reconciliate(e.formType,e.fields),t.attach()}),i.onDetection(E())}catch(e){B.warn(`[FormTracker::Detector] ${e}`)}}v.detectionRequest=-1,v.detectionCount++}),!0):((s||0===v.detectionCount)&&e?.service.autosave.reconciliate(),ou(),!1)}),250,{leading:!0,trailing:!0}),N=async e=>{let t=Date.now(),r=!v.active||v.detectionCount>0&&t-v.detectionAt<150;v.detectionAt=t,r&&(cancelIdleCallback(v.detectionRequest),v.detectionRequest=-1),v.active&&x(e.reason)},M=e=>{e.some(e=>{if("childList"===e.type){var t;let r,n,o;if(v.staleMutationsCount=0,!im(e.target))return!1;let i=Array.from(e.removedNodes).some(iA),a=Array.from(e.addedNodes).some(ih);return a&&(n=(r=e.target)?ti(r,tv):null)&&tL(n,{preserveIgnored:!1}),i&&(o=(t=e.target)&&tR(t)?t:tS(t))&&tL(o,{preserveIgnored:!1}),a||i}if("attributes"===e.type){if(!ig(e.target))return!1;let{oldValue:t,attributeName:r,target:n}=e,o=r?n?.getAttribute(r):null;if(ir(e.target)){let e=!!(r&&ag.includes(r));return e&&delete n.__PP_SEEN__,e}if(null!==t&&t===o?v.staleMutationsCount++:v.staleMutationsCount=0,v.staleMutationsCount>25){let e=ah(af.filter(e=>e!==r));v.observer?.disconnect(),v.observer=C.addObserver(document.body,M,e)}return ic(n)}return!1})&&N({reason:"DomMutation"})},L=((e,t,r,{flushThreshold:n,...o})=>{let i=new Set,a=op()(()=>{let t=Array.from(i.values());i.clear(),t.length>0&&e(t)},r,o),s=e=>{let r=t(e);!1!==r&&i.add(r),n&&i.size>=n?a.flush():a()};return s.cancel=()=>{i.clear(),a.cancel()},s.flush=a.flush,s})(e=>{requestAnimationFrame(()=>{(()=>{if(e.length>=15&&id(document.body))return!0;for(let t of e)try{if(id(t))return!0;if(t===document.body)break}catch{}return!1})()&&N({reason:"TransitionEnd"})})},({target:e})=>!!(e&&im(e))&&e,250,{leading:!0}),k=({target:e})=>{e&&it(e)&&(()=>{if(iu(e))return!0;if(tD(e)){let t=ib(e.shadowRoot);return t&&it(t)&&iu(t)}return!1})()&&N({reason:"FocusIn"})},{getTrackedForms:E,observe:()=>{v.active||(v.active=!0,v.observer=C.addObserver(document.body,M,ah(af)),C.addListener(document.body,"transitionend",L),C.addListener(document.body,"animationend",L),C.addListener(document.body,"focusin",k))},detect:N,sync:P(e=>{v.trackedForms.forEach(e=>e.tracker?.reconciliate()),e?.service.autofill.sync().catch(U)}),destroy:()=>{cancelIdleCallback(v.detectionRequest),x.cancel(),L.cancel(),v.active=!1,v.detectionRequest=-1,v.observer=null,v.staleMutationsCount=0,v.detectionCount=0,C.removeAll(),v.trackedForms.forEach(e=>_(e.element)),v.trackedForms.clear()}}),iframe:(a=o.elements,D=oc(),G={apps:{dropdown:null,notification:null},root:null},H=P((e,t)=>{let r=e?.getExtensionContext()?.port,n=e?.getExtensionContext()?.url;if(n&&r&&t.getState().port!==r){let o=e.getSettings();t.init(r,()=>({appState:e.getState(),domain:(({domain:e,subdomain:t,hostname:r})=>t??e??r)(n)??"",features:e.getFeatureFlags(),settings:e.getSettings(),theme:((e=aO)=>e===aR.OS?aR[window.matchMedia("(prefers-color-scheme: dark)").matches?"PassDark":"PassLight"]:e)(o.theme)}))}}),$={get dropdown(){return G.apps.dropdown},get notification(){return G.apps.notification},get root(){return G.root??$.init()},ensureInteractive:(e,t)=>{if(t){let t,r=G.root,n=(e?e.closest(":modal")??(t=ay(e),t?.closest(":modal")):oJ(aC.elements.filter(e=>e.matches(":modal")))??null)??document.body,o=r?.customElement.parentElement;o!==n&&($.destroy(),r&&o?.removeChild(r.customElement),$.init(n))}},init:e=>{if(G.root)return G.root;G.root=al({type:a.root,parent:e??document.body,styles:aA.A}),G.apps.dropdown&&H(G.apps.dropdown),G.apps.notification&&H(G.apps.notification);let t=P(e=>{G.root=null,G.apps.dropdown?.destroy(),G.apps.notification?.destroy(),G.apps.dropdown=null,G.apps.notification=null,e?.getState().stale?$.destroy():$.init()}),r=P(e=>{let t=e?.getSettings();t?.theme===aR.OS&&$.setTheme(t.theme)});return D.addListener(G.root.customElement,ov,t,{once:!0}),D.addListener(window.matchMedia("(prefers-color-scheme: dark)"),"change",r),G.root},destroy:()=>{D.removeAll(),G.apps.dropdown?.destroy(),G.apps.notification?.destroy(),G.root=null},attachDropdown:P((e,t)=>{if(!e)return null;let r=a9();return $.ensureInteractive(t,r),null===G.apps.dropdown&&(B.debug(`[ContentScript::${e.scriptId}] attaching dropdown iframe`),G.apps.dropdown=(({popover:e,onDestroy:t})=>{let r={current:null},n=oc(),o=aN({animation:"fadein",backdropClose:!0,id:"dropdown",popover:e,src:ik,onDestroy:()=>{r.current=null,n.removeAll(),t()},onError:()=>o.destroy(),onClose:(e,t)=>{let n=r.current;t.refocus?n?.focus():iw(n?.element)||n?.detachIcon()},backdropExclude:()=>{if(!r.current)return[];let e=r.current.element.getRootNode(),t=tk(e)?e.host:null;return[r.current.icon?.element,r.current.element,t].filter(oX)},position:e=>{let t=r.current;if(!t)return{top:0,left:0};let{boxElement:n,element:o}=t,i=n!==o,a=e.getBoundingClientRect().top,{value:s,offset:l}=i9(i4(n),{node:n,mode:i?"inner":"outer"}),{left:u,top:c,width:d}=n.getBoundingClientRect();return{top:c-a+l.top+s,left:u+d-250}},dimensions:()=>({width:250,height:60})}),i=P(async(e,{action:t,autofocused:r,field:n})=>{if(!e)return;let{authorized:o}=e.getState(),i=e.getExtensionContext()?.url,a=i?(({domain:e,subdomain:t,hostname:r})=>t??e??r)(i):null;if(a)switch(t){case oE.AUTOFILL_IDENTITY:if(!o)return{action:t,domain:""};if(r&&n.autofilled&&!n.icon||r&&!await e.service.autofill.getIdentitiesCount())return;return{action:t,domain:a};case oE.AUTOFILL_LOGIN:if(!o)return{action:t,domain:"",startsWith:""};if(r&&!await e.service.autofill.getCredentialsCount())return;return{action:t,domain:a,startsWith:""};case oE.AUTOSUGGEST_ALIAS:if(!i?.displayName)throw Error();return{action:t,domain:a,prefix:((e="",t=!1)=>{let r=e.toLowerCase().trim();return t&&(r=r.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),r})(i.displayName,!0).replace(/[^a-z0-9\-\_.]/g,"").slice(0,20).replace(/\.*$/,"").replace(/^\.+/,"")};case oE.AUTOSUGGEST_PASSWORD:return q.on(j({type:F.AUTOSUGGEST_PASSWORD}),e=>{if("error"===e.type)throw Error(e.error);return{action:t,domain:a,config:e.config,copy:e.copy,policy:e.policy}})}}),a=async e=>{let{field:t}=e,n=e.field.element;if(rY(n,{opacity:!0,skipCache:!0}))return o.ensureReady().then(async()=>{r.current=t;let a=await i(e);a&&(o.sendPortMessage({type:o_.DROPDOWN_ACTION,payload:a}),o.open(e.action,((e,t=!1)=>{if(!e)return document.body;let r=getComputedStyle(e),n="absolute"===r.position,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===r.position)return document.body;for(let t=e.parentElement;t;t=t.parentElement){let e=getComputedStyle(t);if((!n||"static"!==e.position)&&o.test(e.overflow+e.overflowY+e.overflowX))return t}return document.body})(n)),am({onAnimate:U,get:()=>o.getPosition(),set:()=>o.updatePosition()}))}).catch(U)};o.registerMessageHandler(o_.DROPDOWN_FOCUS_CHECK,()=>{document.activeElement!==e.root.customElement&&(r.current?.element.blur(),setTimeout(()=>{let{activeElement:e}=document;e&&it(e)&&e.blur(),o.sendPortMessage({type:o_.DROPDOWN_FOCUS})},50))}),o.registerMessageHandler(o_.AUTOFILL_LOGIN,P(async(e,{payload:t})=>{let n=r.current?.getFormHandle();n&&(await e?.service.autofill.autofillLogin(n,t),r.current?.focus({preventAction:!0}))}),{userAction:!0}),o.registerMessageHandler(o_.AUTOFILL_GENERATED_PW,P(async(e,{payload:t})=>{let n=r.current?.getFormHandle(),o=e?.getSettings().autosave.passwordSuggest;n&&(await e?.service.autofill.autofillPassword(n,t.password),r.current?.focus({preventAction:!0}),n.tracker?.sync({submit:!1,partial:!0}).then(t=>t&&o&&e.service.autosave.promptAutoSave(t)).catch(U))}),{userAction:!0}),o.registerMessageHandler(o_.AUTOFILL_EMAIL,async({payload:e})=>{await r.current?.autofill(e.email),r.current?.focus({preventAction:!0}),r.current?.getFormHandle()?.tracker?.sync({submit:!1,partial:!0})},{userAction:!0}),o.registerMessageHandler(o_.AUTOFILL_IDENTITY,P(async(e,{payload:t})=>{let n=r.current;n&&(await e?.service.autofill.autofillIdentity(n,t),r.current?.focus({preventAction:!0}))}),{userAction:!0}),n.addListener(window,"popstate",()=>o.close({discard:!1})),n.addListener(window,"hashchange",()=>o.close({discard:!1})),n.addListener(window,"beforeunload",()=>o.close({discard:!1}));let s={close:oH(o.close,()=>s),destroy:o.destroy,getCurrentField:()=>r.current,getState:()=>o.state,init:oH(o.init,()=>s),open:oH(a,()=>s),sendMessage:o.sendPortMessage};return s})({popover:aT($,r),onDestroy:()=>G.apps.dropdown=null}),H(G.apps.dropdown)),G.apps.dropdown}),attachNotification:P(e=>{if(!e)return null;let t=a9();return $.ensureInteractive(null,t),null===G.apps.notification&&(B.debug(`[ContentScript::${e.scriptId}] attaching notification iframe`),G.apps.notification=(({popover:e,onDestroy:t})=>{let r=aN({animation:"slidein",backdropClose:!1,classNames:["fixed"],id:"notification",popover:e,src:iD,onDestroy:t,onError:()=>r.destroy(),onClose:P((e,{action:t},r)=>{switch(t){case oT.AUTOSAVE:return r?.discard&&q(j({type:F.FORM_ENTRY_STASH,payload:{reason:"AUTOSAVE_DISMISSED"}}));case oT.OTP:return r?.discard&&e?.service.formManager.getTrackedForms().filter(({getFieldsFor:e})=>e(S.OTP).length>0).forEach(({element:e,getFieldsFor:t})=>{tL(e,{preserveIgnored:!0}),tC(e),t(S.OTP).forEach(e=>tC(e.element))}),e?.service.autosave.reconciliate()}}),position:()=>({top:15,right:15}),dimensions:()=>({width:320,height:180})}),n=oY(P((e,t)=>r.ensureReady().then(()=>{let n=t.action===oT.AUTOSAVE,o=e?.service.iframe.notification?.getState();n&&o?.visible&&o?.action===oT.OTP||(r.sendPortMessage({type:o_.NOTIFICATION_ACTION,payload:t}),r.open(t.action))}).catch(U)));r.registerMessageHandler(o_.AUTOFILL_OTP,P(async(e,{payload:{code:t}})=>{let r=e?.service.formManager.getTrackedForms().find(({getFieldsFor:e})=>e(S.OTP).length>0);r&&await e?.service.autofill.autofillOTP(r,t)}),{userAction:!0}),r.registerMessageHandler(o_.PASSKEY_RELAY,({payload:e})=>window.postMessage(e,"*"),{userAction:!0});let o={close:oH(r.close,()=>o),destroy:r.destroy,getState:()=>r.state,init:oH(r.init,()=>o),open:oH(n,()=>o),sendMessage:r.sendPortMessage};return o})({popover:aT($,t),onDestroy:()=>G.apps.notification=null}),H(G.apps.notification)),G.apps.notification}),setTheme:(e=aO)=>{G.root?.customElement.setAttribute(of,(()=>{switch(e){case aR.PassDark:return"dark";case aR.PassLight:return"light";case aR.OS:return"os"}})());let t=e===aR.OS?window.matchMedia("(prefers-color-scheme: dark)").matches?aR.PassDark:aR.PassLight:e;G.apps.dropdown?.sendMessage({type:o_.IFRAME_THEME,payload:t}),G.apps.notification?.sendMessage({type:o_.IFRAME_THEME,payload:t})}}),webauthn:(Y=oc(),s={requestToken:null},K=z={get data(){let e=Object.freeze({...s});return l?.(e)??e},merge:e=>(s=ok(s,e),z),get:e=>s[e],set:(e,t)=>(s[e]="function"==typeof t?t(s[e]):t,z)},Z=e=>{let t=K.get("requestToken");K.set("requestToken",null),t&&window.postMessage(e?sn({type:"success",intercept:!1},t):{token:t,type:se})},Q=(e,t)=>(Z(!1),K.set("requestToken",e),ax({check:P(e=>!!e&&!!e.getState().ready&&i1(e.getState().status)),cancel:P(e=>!e||!!e.getState().ready&&(!!(!t()||i5(e.getState().status))||null===K.get("requestToken")||(e?.getState()?.stale??!1)))},50)),{init:P(e=>{Y.addListener(window,"message",P(async(e,{data:t})=>{if(!e)return;let r=K.get("requestToken");if(r&&si(r)(t)&&e?.service.iframe.notification?.close(),"object"==typeof t&&"string"==typeof t?.token&&t?.type==="Pass::MainWorld::Message"&&sr.includes(t?.request?.type))switch(t.request.type){case F.PASSKEY_CREATE:{let{token:r}=t,{request:n,domain:o}=t.request.payload;return Q(r,()=>{let t=e.getSettings();return e.getFeatures().Passkeys&&t.passkeys.create}).then(()=>e?.service.iframe.attachNotification()?.open({action:oT.PASSKEY_CREATE,domain:o,request:n,token:r})).catch(()=>Z(!0))}case F.PASSKEY_GET:{let{token:r}=t,{domain:n,request:o}=t.request.payload;return Q(r,()=>{let t=e.getSettings();return e.getFeatures().Passkeys&&t.passkeys.get}).then(async()=>{let t=(JSON.parse(o).allowCredentials??[]).map(oV("id"));await q.on(j({type:F.PASSKEY_QUERY,payload:{domain:n,credentialIds:t}}),t=>{let i="success"===t.type?t.passkeys:[];return i.length?e?.service.iframe.attachNotification()?.open({action:oT.PASSKEY_GET,domain:n,passkeys:i,request:o,token:r}):Z(!0)})}).catch(()=>Z(!0))}case F.PASSKEY_INTERCEPT:{let{token:r}=t,n=e.getSettings(),o=e.getFeatures().Passkeys&&(n.passkeys.get||n.passkeys.create);return window.postMessage(sn({type:"success",intercept:o},r))}}})),document.querySelectorAll('input[autocomplete*="webauthn"]').length>0&&e?.service.iframe.attachNotification()}),destroy:()=>{Z(!1),window.postMessage({type:st}),Y.removeAll()}})},destroy:o.destroy,getExtensionContext:()=>ss.read(),getFeatureFlags:()=>d,getFeatures:()=>{let e=c.disallowedDomains??{},t=X.getExtensionContext()?.url,{autofill:r,autosuggest:n,autosave:o,passkeys:i}=c,a=(({disallowedDomains:e,url:t})=>{let r=(t?.domain?e[t.domain]:0)|(t?.subdomain?e[t.subdomain]:0);return{Autofill:sc(r,"Autofill"),Autofill2FA:sc(r,"Autofill2FA"),Autosave:sc(r,"Autosave"),Autosuggest:sc(r,"Autosuggest"),Passkey:sc(r,"Passkey")}})({disallowedDomains:e,url:t});return{Autofill:(r.login||r.identity)&&!a.Autofill,Autofill2FA:r.twofa&&!a.Autofill2FA,AutosuggestPassword:n.password&&!a.Autosuggest,AutosuggestAlias:n.email&&!a.Autosuggest,Autosave:o.prompt&&!a.Autosave,Passkeys:(i.create||i.get)&&!a.Passkey}},getSettings:()=>c,getState:()=>u,setFeatureFlags:e=>(Object.keys(d).forEach(e=>delete d[e]),Object.assign(d,e)),setSettings:e=>Object.assign(c,e),setState:e=>Object.assign(u,e)})),ee=async()=>{let{status:e}=J.getState();J.service.formManager.sync();let t=iZ(e);if(i5(e)||t){let e=J.service.iframe.notification?.getState().action,r=[oT.PASSKEY_CREATE,oT.PASSKEY_GET];t&&(!e||r.includes(e))||J.service.iframe.notification?.destroy()}},et=async e=>{var t,r;if(V(e,{sender:"background"}))switch(e.type){case F.AUTOFILL_SYNC:return J.service.autofill.sync({forceSync:!0});case F.FEATURE_FLAGS_UPDATE:let n;return n=e.payload,J.setFeatureFlags(n);case F.SETTINGS_UPDATE:return t=e.payload,void(J.setSettings(t),J.service.iframe.setTheme(t.theme),ee());case F.WORKER_STATE_CHANGE:return r=e.payload.state,void(J.setState(r),ee());case F.UNLOAD_CONTENT_SCRIPT:return J.destroy({reason:"unload script"})}},er=oq(async({tabId:r,port:o})=>{try{J.service.iframe.init(),J.service.webauthn?.init();let n=await q(j({type:F.CLIENT_INIT,payload:{endpoint:"contentscript",tabId:r}}));if("error"===n.type)throw Error();J.setState({...n.state,ready:!0,stale:!1}),J.setSettings(n.settings),J.setFeatureFlags(n.features),J.service.iframe.setTheme(n.settings.theme);let i=J.getFeatures(),a=J.service.detector.isEnabled(i);if(!(a||i.Passkeys))return J.destroy({reason:"injection settings"});if(!t)return J.destroy({reason:"subframe discarded"});B.debug(`[ContentScript::${e}] Worker status resolved "${n.state.status}"`),window.postMessage({type:"PassClientScriptReady"}),await ee(),o.onMessage.addListener(et),a&&(J.service.formManager.observe(),await J.service.detector.init(),await J.service.formManager.detect({reason:"InitialLoad"}).catch(U))}catch(e){J.destroy({reason:"startup failure"}),n(e)}});return{start:async()=>{try{let t=await sl({endpoint:"contentscript",onDisconnect:()=>(J.destroy({reason:"port disconnected"}),{recycle:!0}),onError:n,onRecycle:er});B.debug(`[ContentScript::${e}] Starting content-script service`),J.getState().stale||await er(t)}catch{}},destroy:e=>{J.destroy(e),I.clear()}}})({scriptId:sd,mainFrame:sm,elements:t,onError:o.destroyClient}),o.probe.start(()=>q(j({type:F.PING})),25e3),o.instance.start()},350,{leading:!1,trailing:!0}),stopClient:e=>{o.probe.cancel(),o.startClient.cancel(),o.instance?.destroy({reason:e}),o.instance=null},destroyClient:e=>{let t=e instanceof Error?e.message:e;o.stopClient(String(t??"destroyed")),o.listeners.removeAll(),W.runtime.onMessage.removeListener(o.onMessage)},onMessage:P((e,t,r,n)=>{if(V(t,{sender:"background"})&&t.type===F.UNLOAD_CONTENT_SCRIPT&&o.destroyClient("unload"),V(t,{type:F.AUTOFILL_CHECK_FORM,sender:"background"})){let t=e?.service.formManager.getTrackedForms();return n({hasLoginForm:t?.some(({formType:e})=>e===R.LOGIN)}),!0}})},W.runtime.onMessage.addListener(o.onMessage),o.listeners.addListener(document,"visibilitychange",()=>{switch(document.visibilityState){case"visible":return o.startClient();case"hidden":return o.stopClient("hidden")}}),o);return"visible"===document.visibilityState&&(i.startClient()?.catch(i.destroyClient),i.startClient.flush()?.catch(i.destroyClient)),i})(async()=>{let e=await q(j({type:F.REGISTER_ELEMENTS}));if("error"===e.type)throw Error("Custom elements registration failure");return{root:oC.getTagName(e.hash),control:ob.getTagName(e.hash)}}).catch(U)})()})();
