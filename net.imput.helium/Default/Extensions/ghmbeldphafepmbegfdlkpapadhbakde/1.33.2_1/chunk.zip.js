"use strict";(self.webpackChunkproton_pass_extension=self.webpackChunkproton_pass_extension||[]).push([["zip"],{91466:(e,t,n)=>{n.d(t,{makeZip:()=>g}),"stream"in Blob.prototype||Object.defineProperty(Blob.prototype,"stream",{value(){return new Response(this).body}}),"setBigUint64"in DataView.prototype||Object.defineProperty(DataView.prototype,"setBigUint64",{value(e,t,n){let i=Number(4294967295n&t),r=Number(t>>32n);this.setUint32(e+4*!n,i,n),this.setUint32(e+4*!!n,r,n)}});var i=e=>new DataView(new ArrayBuffer(e)),r=e=>new Uint8Array(e.buffer||e),s=e=>(new TextEncoder).encode(String(e)),o=e=>Math.min(0xffffffff,Number(e)),a=e=>Math.min(65535,Number(e));function l(e,t=e){return new ReadableStream({async pull(t){let n=0;for(;t.desiredSize>n;){let o=await e.next();if(!o.value){t.close();break}{var i;let e="string"==typeof(i=o.value)?s(i):i instanceof Uint8Array?i:r(i);t.enqueue(e),n+=e.byteLength}}},cancel(e){t.throw?.(e)}})}function f(e,t=1){if(!e||e.every(e=>47===e))throw Error("The file must have a name.");if(t)for(;47===e[e.length-1];)e=e.subarray(0,-1);else 47!==e[e.length-1]&&(e=new Uint8Array([...e,47]));return e}var u=new Uint32Array(256);for(let e=0;e<256;++e){let t=e;for(let e=0;e<8;++e)t=t>>>1^(1&t&&0xedb88320);u[e]=t}function d(e,t=0){t=~t;for(var n=0,i=e.length;n<i;n++)t=t>>>8^u[255&t^e[n]];return~t>>>0}function y(e,t,n=0){let i=e.getSeconds()>>1|e.getMinutes()<<5|e.getHours()<<11,r=e.getDate()|e.getMonth()+1<<5|e.getFullYear()-1980<<9;t.setUint16(n,i,1),t.setUint16(n+2,r,1)}var c=new TextDecoder("utf8",{fatal:1});async function*U(e){let{bytes:t}=e;if("then"in t&&(t=await t),t instanceof Uint8Array)yield t,e.l=d(t,0),e.o=BigInt(t.length);else{e.o=0n;let n=t.getReader();for(;;){let{value:t,done:i}=await n.read();if(i)break;e.l=d(t,e.l),e.o+=BigInt(t.length),yield t}}}function g(e,t={}){let n,u=(n=e[Symbol.iterator in e?Symbol.iterator:Symbol.asyncIterator](),{async next(){var e;let t=await n.next();if(t.done)return t;let[i,o]=(e=t.value)instanceof File||e instanceof Response?[[e],[e]]:[[e.input,e.name,e.size],[e.input,e.lastModified,e.mode]];return{done:0,value:Object.assign(function(e,t,n){void 0===t||t instanceof Date||(t=new Date(t));let i=void 0!==e;if(n||(n=i?436:509),e instanceof File)return{isFile:i,t:t||new Date(e.lastModified),bytes:e.stream(),mode:n};if(e instanceof Response)return{isFile:i,t:t||new Date(e.headers.get("Last-Modified")||Date.now()),bytes:e.body,mode:n};if(void 0===t)t=new Date;else if(isNaN(t))throw Error("Invalid modification date.");if(!i)return{isFile:i,t:t,mode:n};if("string"==typeof e)return{isFile:i,t:t,bytes:s(e),mode:n};if(e instanceof Blob)return{isFile:i,t:t,bytes:e.stream(),mode:n};if(e instanceof Uint8Array||e instanceof ReadableStream)return{isFile:i,t:t,bytes:e,mode:n};if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return{isFile:i,t:t,bytes:r(e),mode:n};if(Symbol.asyncIterator in e)return{isFile:i,t:t,bytes:l(e[Symbol.asyncIterator]()),mode:n};throw TypeError("Unsupported input format.")}(...o),function(e,t,n){let[i,o]=t?t instanceof Uint8Array?[t,1]:ArrayBuffer.isView(t)||t instanceof ArrayBuffer?[r(t),1]:[s(t),0]:[void 0,0];if(e instanceof File)return{i:f(i||s(e.name)),o:BigInt(e.size),u:o};if(e instanceof Response){let t=e.headers.get("content-disposition"),r=t&&t.match(/;\s*filename\*?\s*=\s*(?:UTF-\d+''|)["']?([^;"'\r\n]*)["']?(?:;|$)/i),a=r&&r[1]||e.url&&new URL(e.url).pathname.split("/").findLast(Boolean),l=a&&decodeURIComponent(a),u=n||+e.headers.get("content-length");return{i:f(i||s(l)),o:BigInt(u),u:o}}return i=f(i,void 0!==e||void 0!==n),"string"==typeof e?{i:i,o:BigInt(s(e).length),u:o}:e instanceof Blob?{i:i,o:BigInt(e.size),u:o}:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?{i:i,o:BigInt(e.byteLength),u:o}:{i:i,o:n>-1?BigInt(n):e?void 0:0n,u:o}}(...i))}},throw:n.throw?.bind(n),[Symbol.asyncIterator](){return this}});return l(async function*(e,t){let n=[],s=0n,l=0n,f=0;for await(let a of e){let e=function({i:e,u:t},n){return 8*(!t||(n??function(e){try{c.decode(e)}catch{return 0}return 1}(e)))}(a,t.buffersAreUTF8);yield function(e,t=0){let n=i(30);return n.setUint32(0,0x504b0304),n.setUint32(4,0x2d000800|t),y(e.t,n,10),n.setUint16(26,e.i.length,1),r(n)}(a,e),yield new Uint8Array(a.i),a.isFile&&(yield*U(a));let u=a.o>=4294967295n,d=12*(s>=4294967295n)|28*u;yield function(e,t){let n=i(16+8*!!t);return n.setUint32(0,0x504b0708),n.setUint32(4,e.isFile?e.l:0,1),t?(n.setBigUint64(8,e.o,1),n.setBigUint64(16,e.o,1)):(n.setUint32(8,o(e.o),1),n.setUint32(12,o(e.o),1)),r(n)}(a,u),n.push(function(e,t,n=0,s=0){let a=i(46);return a.setUint32(0,0x504b0102),a.setUint32(4,0x2d032d00),a.setUint16(8,2048|n),y(e.t,a,12),a.setUint32(16,e.isFile?e.l:0,1),a.setUint32(20,o(e.o),1),a.setUint32(24,o(e.o),1),a.setUint16(28,e.i.length,1),a.setUint16(30,s,1),a.setUint16(40,e.mode|(e.isFile?32768:16384),1),a.setUint32(42,o(t),1),r(a)}(a,s,e,d)),n.push(a.i),d&&n.push(function(e,t,n){let s=i(n);return s.setUint16(0,1,1),s.setUint16(2,n-4,1),16&n&&(s.setBigUint64(4,e.o,1),s.setBigUint64(12,e.o,1)),s.setBigUint64(n-8,t,1),r(s)}(a,s,d)),u&&(s+=8n),l++,s+=BigInt(46+a.i.length)+a.o,f||(f=u)}let u=0n;for(let e of n)yield e,u+=BigInt(e.length);if(f||s>=4294967295n){let e=i(76);e.setUint32(0,0x504b0606),e.setBigUint64(4,BigInt(44),1),e.setUint32(12,0x2d032d00),e.setBigUint64(24,l,1),e.setBigUint64(32,l,1),e.setBigUint64(40,u,1),e.setBigUint64(48,s,1),e.setUint32(56,0x504b0607),e.setBigUint64(64,s+u,1),e.setUint32(72,1,1),yield r(e)}let d=i(22);d.setUint32(0,0x504b0506),d.setUint16(8,a(l),1),d.setUint16(10,a(l),1),d.setUint32(12,o(u),1),d.setUint32(16,o(s),1),yield r(d)}(u,t),u)}}}]);
